(()=>{var e,t,n={30684:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=30684,e.exports=t},68717:(e,t,n)=>{"use strict";var a=n(93725),r=n(72076),o=n(8455),i=n(54131),s=n(28635);const c=({dimensions:e,origin:t,direction:n,spacing:a,scalarData:r,metadata:s})=>{const c=o.ZP.newInstance();c.setDimensions(e),c.setOrigin(t),c.setDirection(n),c.setSpacing(a);const l=i.default.newInstance({name:"Pixels",numberOfComponents:1,values:r});return c.getPointData().setScalars(l),c.modified(),{imageData:c,metadata:s,getScalarData:()=>r}};const l={calculateSuvPeak:function({labelmapProps:e,referenceVolumeProps:t,annotations:n,segmentIndex:o=1}){const i=c(e),s=c(t);if("PT"!==s.metadata.Modality)return;const l=i.getScalarData(),d=s.getScalarData();if(l.length!==d.length)throw new Error("labelmap and referenceVolume must have the same number of pixels");const{dimensions:u,imageData:f}=i,{imageData:p}=s;let m;if(n?.length&&n[0].data?.cachedStats){const{projectionPoints:e}=n[0].data.cachedStats,t=[].concat(...e).map(e=>{const t=r.R3.fromValues(0,0,0);return p.worldToIndex(e,t),t});m=a.utilities.boundingBox.getBoundingBoxAroundShape(t,u)}let b=0,h=[0,0,0],g=[0,0,0];a.utilities.pointInShapeCallback(f,()=>!0,({pointIJK:e,pointLPS:t})=>{const n=p.computeOffsetIndex(e);if(l[n]!==o)return;const a=d[n];a>b&&(b=a,h=e,g=t)},m);const v=f.getDirection().slice(0,3),x=2*(10*Math.pow(1/(4/3*Math.PI),1/3)),S=r.R3.create(),O=r.R3.create(),w=r.R3.create();p.indexToWorld(h,S),r.R3.scaleAndAdd(O,S,v,-x/2),r.R3.scaleAndAdd(w,S,v,x/2);const y=[O,w];let P=0,D=0;return a.utilities.pointInSurroundingSphereCallback(p,y,({value:e})=>{D+=e,P+=1}),{max:b,maxIJK:h,maxLPS:g,mean:D/P}}};(0,s.Jj)(l)},78753:()=>{}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var o=a[e]={id:e,loaded:!1,exports:{}};return n[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=n,r.x=()=>{var e=r.O(void 0,[2909,1922,5250,9154],()=>r(68717));return e=r.O(e)},r.amdD=function(){throw new Error("define cannot be used indirect")},r.amdO={},e=[],r.O=(t,n,a,o)=>{if(!n){var i=1/0;for(d=0;d<e.length;d++){for(var[n,a,o]=e[d],s=!0,c=0;c<n.length;c++)(!1&o||i>=o)&&Object.keys(r.O).every(e=>r.O[e](n[c]))?n.splice(c--,1):(s=!1,o<i&&(i=o));if(s){e.splice(d--,1);var l=a();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,a,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>(1985===e?"polySeg":e)+".bundle."+{1922:"d88b4261c996ebe32198",1985:"28962111f8eceb65ab84",2909:"eed382ea848ff12cce90",5250:"b3368f075ec43b93e3c1",9154:"887fef403b706ff76c05"}[e]+".js",r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{r.b=self.location+"";var e={7607:1,1985:1};r.f.i=(t,n)=>{e[t]||importScripts(r.p+r.u(t))};var t=globalThis.webpackChunk=globalThis.webpackChunk||[],n=t.push.bind(t);t.push=t=>{var[a,o,i]=t;for(var s in o)r.o(o,s)&&(r.m[s]=o[s]);for(i&&i(r);a.length;)e[a.pop()]=1;n(t)}})(),t=r.x,r.x=()=>Promise.all([2909,1922,5250,9154].map(r.e,r)).then(t);r.x()})();
//# sourceMappingURL=suv-peak-worker.bundle.db893ace9990eef0a2a9.js.map