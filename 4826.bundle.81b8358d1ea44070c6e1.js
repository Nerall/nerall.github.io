"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[4826],{15747:(t,e,n)=>{n.d(e,{d:()=>u});class r{constructor(t){this.fullDate=t}getTimeInSec(){const t=this.fullDate.substring(0,10),e=this.fullDate.substring(11,28),n=parseInt(t.substring(0,4),10),r=t.length>=7?parseInt(t.substring(5,7),10):void 0,o=t.length>=10?parseInt(t.substring(8,10),10):void 0;if(isNaN(n)||void 0!==r&&isNaN(r)||void 0!==o&&isNaN(o)||n>3e3||r&&(r<1||r>12)||o&&(o<1||o>31))throw new Error(`invalid date '${t}'`);const i=new Date(`${t}T00:00:00.000000Z`),a=parseInt(e.substring(0,2),10),s=e.length>=5?parseInt(e.substring(3,5),10):void 0,l=e.length>=8?parseInt(e.substring(6,8),10):void 0,c=e.substring(9,15),u=c?parseInt(c,10)*Math.pow(10,-c.length):void 0;if(isNaN(a)||void 0!==s&&isNaN(s)||void 0!==l&&isNaN(l)||void 0!==u&&isNaN(u)||a<0||a>23||s&&(s<0||s>59)||l&&(l<0||l>59)||u&&(u<0||u>999999))throw new Error(`invalid time '${e}'`);let f=i.getTime()/1e3;return f+=3600*a,void 0!==s&&(f+=60*s),void 0!==l&&(f+=l),void 0!==u&&(f+=u),f}getTimeInMicroSec(){return 1e6*this.getTimeInSec()}}function o(t,e){const n=`${e.hours||"00"}`.padStart(2,"0"),o=`${e.minutes||"00"}`.padStart(2,"0"),i=`${e.seconds||"00"}`.padStart(2,"0"),a=`${t.month}`.padStart(2,"0"),s=`${t.day}`.padStart(2,"0"),l=`${e.fractionalSeconds||"000000"}`.padEnd(6,"0"),c=`${t.year}-${a}-${s}`;return new r(`${c}${`T${n}:${o}:${i}.${l}Z`}`)}function i(t){if(null==t||8!==t.length||"string"!=typeof t)throw new Error(`invalid DA '${t}'`);const e=parseInt(t.substring(0,4),10),n=parseInt(t.substring(4,6),10),r=parseInt(t.substring(6,8),10);if(!0!=(o=r,i=n,a=e,!isNaN(a)&&i>0&&i<=12&&o>0&&o<=function(t,e){switch(t){case 2:return e%4==0&&e%100||e%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}}(i,a)))throw new Error(`invalid DA '${t}'`);var o,i,a;return{year:e,month:n,day:r}}function a(t){if(null==t||t.length<2||"string"!=typeof t)throw new Error(`invalid TM '${t}'`);const e=parseInt(t.substring(0,2),10),n=t.length>=4?parseInt(t.substring(2,4),10):void 0,r=t.length>=6?parseInt(t.substring(4,6),10):void 0,o=t.length>=8?t.substring(7,13):void 0,i=o?parseInt(o,10)*Math.pow(10,6-o.length):void 0;if(isNaN(e)||void 0!==n&&isNaN(n)||void 0!==r&&isNaN(r)||void 0!==i&&isNaN(i)||e<0||e>23||n&&(n<0||n>59)||r&&(r<0||r>59)||i&&(i<0||i>999999))throw new Error(`invalid TM '${t}'`);return{hours:e,minutes:n,seconds:r,fractionalSeconds:i}}function s(t){if(null==t)throw new Error("dateTimeToFullDateInterface : dateTime not defined.");return o(i(t.substring(0,8)),a(t.substring(8)))}function l(t){const{RadionuclideTotalDose:e,RadionuclideHalfLife:n,RadiopharmaceuticalStartDateTime:l,RadiopharmaceuticalStartTime:c,SeriesDate:u}=t[0];if(null==e)throw new Error("calculateDecayCorrection : RadionuclideTotalDose value not found.");if(null==n)throw new Error("calculateDecayCorrection : RadionuclideHalfLife value not found.");const f=function(t){const{SeriesDate:e,SeriesTime:n,GEPrivatePostInjectionDateTime:l}=t[0],c=new Array(t.length),u=o(i(e),a(n));let f=new r("3000-01-01T00:00:00.000000Z"),d=f.getTimeInSec();if(t.forEach(t=>{const{AcquisitionDate:e,AcquisitionTime:n}=t,r=o(i(e),a(n));f=f.getTimeInSec()>=d||r.getTimeInSec()<f.getTimeInSec()?r:f}),f.getTimeInSec()>=d)throw new Error("Earliest acquisition time or date could not be parsed.");return u.getTimeInSec()<=f.getTimeInSec()?c.fill(u):l?c.fill(s(l)):c.fill(f)}(t),d=function(t){const{RadiopharmaceuticalStartDateTime:e,RadiopharmaceuticalStartTime:n,SeriesDate:r}=t;let l,c;if(e)return s(e);if(n&&r)return l=a(n),c=i(r),o(c,l);throw new Error(`Invalid input: ${t}`)}({RadiopharmaceuticalStartDateTime:l,RadiopharmaceuticalStartTime:c,SeriesDate:u});return t.map((t,r)=>{const o=f[r].getTimeInSec()-d.getTimeInSec();if(o<0)throw new Error("Decay time cannot be less than zero");return 1/(e*Math.pow(2,-o/n))})}const c=(t,e)=>t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((t,n)=>t===e[n]);function u(t){const{CorrectedImage:e,Units:n,PhilipsPETPrivateGroup:r,PatientWeight:o,PatientSex:i,PatientSize:a}=t[0];if(!e.includes("ATTN")||!e.includes("DECY"))throw new Error(`CorrectedImage must contain "ATTN" and "DECY": ${e}`);if(!t.every(r=>r.Units===n&&c(r.CorrectedImage,e)&&r.PatientWeight===o&&r.PatientSex===i&&r.PatientSize===a&&r.RadionuclideHalfLife===t[0].RadionuclideHalfLife&&r.RadionuclideTotalDose===t[0].RadionuclideTotalDose&&r.DecayCorrection===t[0].DecayCorrection&&r.SeriesDate===t[0].SeriesDate&&r.SeriesTime===t[0].SeriesTime))throw new Error("The set of instances does not appear to come from one Series. Every instance must have identical values for series-level metadata properties");if(!o)throw new Error("PatientWeight value is missing. It is not possible to calculate the SUV factors");let s=new Array(t.length);s=l(t);let u=new Array(t.length);const f=1e3*o;if("BQML"===n)u=s.map(function(t){return t*f});else if("CNTS"===n){const e=t.every(t=>{var e,n,r;return t.PhilipsPETPrivateGroup&&null!==(null===(e=t.PhilipsPETPrivateGroup)||void 0===e?void 0:e.SUVScaleFactor)&&void 0!==(null===(n=t.PhilipsPETPrivateGroup)||void 0===n?void 0:n.SUVScaleFactor)&&0!==(null===(r=t.PhilipsPETPrivateGroup)||void 0===r?void 0:r.SUVScaleFactor)}),n=t.every(t=>{var e,n,r;return t.PhilipsPETPrivateGroup&&!(null!==(e=t.PhilipsPETPrivateGroup)&&void 0!==e&&e.SUVScaleFactor)&&void 0!==(null===(n=t.PhilipsPETPrivateGroup)||void 0===n?void 0:n.ActivityConcentrationScaleFactor)&&0!==(null===(r=t.PhilipsPETPrivateGroup)||void 0===r?void 0:r.ActivityConcentrationScaleFactor)});if(e)u=t.map(t=>t.PhilipsPETPrivateGroup.SUVScaleFactor);else{if(!n)throw new Error(`Units are in CNTS, but PhilipsPETPrivateGroup has invalid values: ${JSON.stringify(r)}`);u=t.map((t,e)=>t.PhilipsPETPrivateGroup.ActivityConcentrationScaleFactor*s[e]*f)}}else{if("GML"!==n)throw new Error(`Units has an invalid value: ${n}`);u.fill(1)}let d,p,m;if(null==a)console.warn("PatientSize value is missing. It is not possible to calculate the SUV bsa factors");else{d=function(t){const{PatientWeight:e,PatientSize:n}=t;return Math.pow(e,.425)*Math.pow(100*n,.725)*71.84}({PatientWeight:o,PatientSize:a})}if(null==a)console.warn("PatientSize value is missing. It is not possible to calculate the SUV lbm factors");else if(null==i)console.warn("PatientSex value is missing. It is not possible to calculate the SUV lbm factors");else{const t={PatientWeight:o,PatientSex:i,PatientSize:a};p=function(t){const{PatientSex:e,PatientWeight:n,PatientSize:r}=t;let o;const i=Math.pow(n/(100*r),2);if("F"===e)o=1.07*n-148*i;else{if("M"!==e)throw new Error(`PatientSex is an invalid value: ${e}`);o=1.1*n-120*i}return 1e3*o}(t),m=function(t){const{PatientSex:e,PatientWeight:n,PatientSize:r}=t;let o;const i=n/Math.pow(r,2);if("F"===e)o=9270*n/(8780+244*i);else{if("M"!==e)throw new Error(`PatientSex is an invalid value: ${e}`);o=9270*n/(6680+216*i)}return 1e3*o}(t)}return u.map(function(t,e){const n={suvbw:t};return d&&(n.suvbsa=s[e]*d),p&&(n.suvlbm=s[e]*p),m&&(n.suvlbmJanma=s[e]*m),n})}},16047:(t,e,n)=>{n.d(e,{ZP:()=>c});var r=n(68470),o=n(8455),i=n(54131);const{vtkErrorMacro:a}=r.m;const s={};function l(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,s,n),r.m.obj(t,e),r.m.algo(t,e,1,1),r.m.setGetArray(t,e,["croppingPlanes"],6),function(t,e){e.classHierarchy.push("vtkImageCropFilter"),t.reset=()=>{const e=t.getInputData();e&&t.setCroppingPlanes(...e.getExtent())},t.requestData=(t,n)=>{const r=t[0];if(!r)return void a("Invalid or missing input");const s=r.getPointData().getScalars();if(!s)return void a("No scalars from input");const l=r.getExtent(),c=e.croppingPlanes&&6===e.croppingPlanes.length?l.map((t,n)=>n%2==0?Math.max(t,Math.round(e.croppingPlanes[n])):Math.min(t,Math.round(e.croppingPlanes[n]))):l.slice();if(c[0]===l[0]&&c[1]===l[1]&&c[2]===l[2]&&c[3]===l[3]&&c[4]===l[4]&&c[5]===l[5]){const t=o.ZP.newInstance();return t.shallowCopy(r),void(n[0]=t)}for(let t=0;t<3;++t)c[2*t]>c[2*t+1]&&([c[2*t],c[2*t+1]]=[c[2*t+1],c[2*t]]);for(let t=0;t<6;t+=2)c[t]=Math.max(c[t],l[t]),c[t+1]=Math.min(c[t+1],l[t+1]);const u=s.getNumberOfComponents(),f=(c[1]-c[0]+1)*(c[3]-c[2]+1)*(c[5]-c[4]+1)*u,d=s.getData(),p=r.getDimensions(),m=u*p[0],g=u*p[0]*p[1],h=(c[0]-l[0])*u,y=(c[1]-c[0]+1)*u,b=new d.constructor(f);let v=0;for(let t=c[4];t<=c[5];++t)for(let e=c[2];e<=c[3];++e){const n=h+(e-l[2])*m+(t-l[4])*g,r=n+y,o=d.subarray(n,r);b.set(o,v),v+=o.length}const I=o.ZP.newInstance({extent:c,origin:r.getOrigin(),direction:r.getDirection(),spacing:r.getSpacing()}),A=i.default.newInstance({name:s.getName(),numberOfComponents:u,values:b});I.getPointData().setScalars(A),n[0]=I},t.isResetAvailable=()=>{if(null==e.croppingPlanes||0===e.croppingPlanes.length)return!1;const n=t.getInputData();return!!n&&void 0!==n.getExtent().find((t,n)=>Math.abs(e.croppingPlanes[n]-t)>Number.EPSILON)}}(t,e)}var c={newInstance:r.m.newInstance(l,"vtkImageCropFilter"),extend:l}},56529:(t,e,n)=>{n.d(e,{Z:()=>i});const r=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,3,8,1,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,11,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,3,8,2,8,11,11,8,9,-1,-1,-1,-1,-1,-1,-1],[3,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,2,10,8,0,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,0,9,2,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,1,10,9,9,10,8,-1,-1,-1,-1,-1,-1,-1],[3,1,11,10,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,1,11,0,11,8,8,11,10,-1,-1,-1,-1,-1,-1,-1],[3,0,9,3,9,10,10,9,11,-1,-1,-1,-1,-1,-1,-1],[9,11,8,11,10,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,9,1,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1],[1,11,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,7,4,3,4,0,1,11,2,-1,-1,-1,-1,-1,-1,-1],[9,11,2,9,2,0,8,7,4,-1,-1,-1,-1,-1,-1,-1],[2,9,11,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1],[8,7,4,3,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,7,4,10,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1],[9,1,0,8,7,4,2,10,3,-1,-1,-1,-1,-1,-1,-1],[4,10,7,9,10,4,9,2,10,9,1,2,-1,-1,-1,-1],[3,1,11,3,11,10,7,4,8,-1,-1,-1,-1,-1,-1,-1],[1,11,10,1,10,4,1,4,0,7,4,10,-1,-1,-1,-1],[4,8,7,9,10,0,9,11,10,10,3,0,-1,-1,-1,-1],[4,10,7,4,9,10,9,11,10,-1,-1,-1,-1,-1,-1,-1],[9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,4,5,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1],[1,11,2,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,8,0,1,11,2,4,5,9,-1,-1,-1,-1,-1,-1,-1],[5,11,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1],[2,5,11,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1],[9,4,5,2,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,2,10,0,10,8,4,5,9,-1,-1,-1,-1,-1,-1,-1],[0,4,5,0,5,1,2,10,3,-1,-1,-1,-1,-1,-1,-1],[2,5,1,2,8,5,2,10,8,4,5,8,-1,-1,-1,-1],[11,10,3,11,3,1,9,4,5,-1,-1,-1,-1,-1,-1,-1],[4,5,9,0,1,8,8,1,11,8,11,10,-1,-1,-1,-1],[5,0,4,5,10,0,5,11,10,10,3,0,-1,-1,-1,-1],[5,8,4,5,11,8,11,10,8,-1,-1,-1,-1,-1,-1,-1],[9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1],[0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1],[1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,8,7,9,7,5,11,2,1,-1,-1,-1,-1,-1,-1,-1],[11,2,1,9,0,5,5,0,3,5,3,7,-1,-1,-1,-1],[8,2,0,8,5,2,8,7,5,11,2,5,-1,-1,-1,-1],[2,5,11,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1],[7,5,9,7,9,8,3,2,10,-1,-1,-1,-1,-1,-1,-1],[9,7,5,9,2,7,9,0,2,2,10,7,-1,-1,-1,-1],[2,10,3,0,8,1,1,8,7,1,7,5,-1,-1,-1,-1],[10,1,2,10,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1],[9,8,5,8,7,5,11,3,1,11,10,3,-1,-1,-1,-1],[5,0,7,5,9,0,7,0,10,1,11,0,10,0,11,-1],[10,0,11,10,3,0,11,0,5,8,7,0,5,0,7,-1],[10,5,11,7,5,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,3,8,5,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,1,0,5,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,3,8,1,8,9,5,6,11,-1,-1,-1,-1,-1,-1,-1],[1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,5,6,1,6,2,3,8,0,-1,-1,-1,-1,-1,-1,-1],[9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1],[5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1],[2,10,3,11,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,8,0,10,0,2,11,5,6,-1,-1,-1,-1,-1,-1,-1],[0,9,1,2,10,3,5,6,11,-1,-1,-1,-1,-1,-1,-1],[5,6,11,1,2,9,9,2,10,9,10,8,-1,-1,-1,-1],[6,10,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1],[0,10,8,0,5,10,0,1,5,5,6,10,-1,-1,-1,-1],[3,6,10,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1],[6,9,5,6,10,9,10,8,9,-1,-1,-1,-1,-1,-1,-1],[5,6,11,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,0,3,4,3,7,6,11,5,-1,-1,-1,-1,-1,-1,-1],[1,0,9,5,6,11,8,7,4,-1,-1,-1,-1,-1,-1,-1],[11,5,6,1,7,9,1,3,7,7,4,9,-1,-1,-1,-1],[6,2,1,6,1,5,4,8,7,-1,-1,-1,-1,-1,-1,-1],[1,5,2,5,6,2,3,4,0,3,7,4,-1,-1,-1,-1],[8,7,4,9,5,0,0,5,6,0,6,2,-1,-1,-1,-1],[7,9,3,7,4,9,3,9,2,5,6,9,2,9,6,-1],[3,2,10,7,4,8,11,5,6,-1,-1,-1,-1,-1,-1,-1],[5,6,11,4,2,7,4,0,2,2,10,7,-1,-1,-1,-1],[0,9,1,4,8,7,2,10,3,5,6,11,-1,-1,-1,-1],[9,1,2,9,2,10,9,10,4,7,4,10,5,6,11,-1],[8,7,4,3,5,10,3,1,5,5,6,10,-1,-1,-1,-1],[5,10,1,5,6,10,1,10,0,7,4,10,0,10,4,-1],[0,9,5,0,5,6,0,6,3,10,3,6,8,7,4,-1],[6,9,5,6,10,9,4,9,7,7,9,10,-1,-1,-1,-1],[11,9,4,6,11,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,6,11,4,11,9,0,3,8,-1,-1,-1,-1,-1,-1,-1],[11,1,0,11,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1],[8,1,3,8,6,1,8,4,6,6,11,1,-1,-1,-1,-1],[1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1],[3,8,0,1,9,2,2,9,4,2,4,6,-1,-1,-1,-1],[0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1],[11,9,4,11,4,6,10,3,2,-1,-1,-1,-1,-1,-1,-1],[0,2,8,2,10,8,4,11,9,4,6,11,-1,-1,-1,-1],[3,2,10,0,6,1,0,4,6,6,11,1,-1,-1,-1,-1],[6,1,4,6,11,1,4,1,8,2,10,1,8,1,10,-1],[9,4,6,9,6,3,9,3,1,10,3,6,-1,-1,-1,-1],[8,1,10,8,0,1,10,1,6,9,4,1,6,1,4,-1],[3,6,10,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1],[6,8,4,10,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,6,11,7,11,8,8,11,9,-1,-1,-1,-1,-1,-1,-1],[0,3,7,0,7,11,0,11,9,6,11,7,-1,-1,-1,-1],[11,7,6,1,7,11,1,8,7,1,0,8,-1,-1,-1,-1],[11,7,6,11,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1],[1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1],[2,9,6,2,1,9,6,9,7,0,3,9,7,9,3,-1],[7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1],[7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,10,3,11,8,6,11,9,8,8,7,6,-1,-1,-1,-1],[2,7,0,2,10,7,0,7,9,6,11,7,9,7,11,-1],[1,0,8,1,8,7,1,7,11,6,11,7,2,10,3,-1],[10,1,2,10,7,1,11,1,6,6,1,7,-1,-1,-1,-1],[8,6,9,8,7,6,9,6,1,10,3,6,1,6,3,-1],[0,1,9,10,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,0,8,7,6,0,3,0,10,10,0,6,-1,-1,-1,-1],[7,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,8,0,10,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,9,1,10,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,9,1,8,1,3,10,6,7,-1,-1,-1,-1,-1,-1,-1],[11,2,1,6,7,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,11,2,3,8,0,6,7,10,-1,-1,-1,-1,-1,-1,-1],[2,0,9,2,9,11,6,7,10,-1,-1,-1,-1,-1,-1,-1],[6,7,10,2,3,11,11,3,8,11,8,9,-1,-1,-1,-1],[7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1],[2,6,7,2,7,3,0,9,1,-1,-1,-1,-1,-1,-1,-1],[1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1],[11,6,7,11,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1],[11,6,7,1,11,7,1,7,8,1,8,0,-1,-1,-1,-1],[0,7,3,0,11,7,0,9,11,6,7,11,-1,-1,-1,-1],[7,11,6,7,8,11,8,9,11,-1,-1,-1,-1,-1,-1,-1],[6,4,8,10,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,10,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1],[8,10,6,8,6,4,9,1,0,-1,-1,-1,-1,-1,-1,-1],[9,6,4,9,3,6,9,1,3,10,6,3,-1,-1,-1,-1],[6,4,8,6,8,10,2,1,11,-1,-1,-1,-1,-1,-1,-1],[1,11,2,3,10,0,0,10,6,0,6,4,-1,-1,-1,-1],[4,8,10,4,10,6,0,9,2,2,9,11,-1,-1,-1,-1],[11,3,9,11,2,3,9,3,4,10,6,3,4,3,6,-1],[8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1],[0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,0,9,2,4,3,2,6,4,4,8,3,-1,-1,-1,-1],[1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1],[8,3,1,8,1,6,8,6,4,6,1,11,-1,-1,-1,-1],[11,0,1,11,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1],[4,3,6,4,8,3,6,3,11,0,9,3,11,3,9,-1],[11,4,9,6,4,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,5,9,7,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,3,8,4,5,9,10,6,7,-1,-1,-1,-1,-1,-1,-1],[5,1,0,5,0,4,7,10,6,-1,-1,-1,-1,-1,-1,-1],[10,6,7,8,4,3,3,4,5,3,5,1,-1,-1,-1,-1],[9,4,5,11,2,1,7,10,6,-1,-1,-1,-1,-1,-1,-1],[6,7,10,1,11,2,0,3,8,4,5,9,-1,-1,-1,-1],[7,10,6,5,11,4,4,11,2,4,2,0,-1,-1,-1,-1],[3,8,4,3,4,5,3,5,2,11,2,5,10,6,7,-1],[7,3,2,7,2,6,5,9,4,-1,-1,-1,-1,-1,-1,-1],[9,4,5,0,6,8,0,2,6,6,7,8,-1,-1,-1,-1],[3,2,6,3,6,7,1,0,5,5,0,4,-1,-1,-1,-1],[6,8,2,6,7,8,2,8,1,4,5,8,1,8,5,-1],[9,4,5,11,6,1,1,6,7,1,7,3,-1,-1,-1,-1],[1,11,6,1,6,7,1,7,0,8,0,7,9,4,5,-1],[4,11,0,4,5,11,0,11,3,6,7,11,3,11,7,-1],[7,11,6,7,8,11,5,11,4,4,11,8,-1,-1,-1,-1],[6,5,9,6,9,10,10,9,8,-1,-1,-1,-1,-1,-1,-1],[3,10,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1],[0,8,10,0,10,5,0,5,1,5,10,6,-1,-1,-1,-1],[6,3,10,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1],[1,11,2,9,10,5,9,8,10,10,6,5,-1,-1,-1,-1],[0,3,10,0,10,6,0,6,9,5,9,6,1,11,2,-1],[10,5,8,10,6,5,8,5,0,11,2,5,0,5,2,-1],[6,3,10,6,5,3,2,3,11,11,3,5,-1,-1,-1,-1],[5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1],[9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1],[1,8,5,1,0,8,5,8,6,3,2,8,6,8,2,-1],[1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,6,3,1,11,6,3,6,8,5,9,6,8,6,9,-1],[11,0,1,11,6,0,9,0,5,5,0,6,-1,-1,-1,-1],[0,8,3,5,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,11,5,7,10,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,11,5,10,5,7,8,0,3,-1,-1,-1,-1,-1,-1,-1],[5,7,10,5,10,11,1,0,9,-1,-1,-1,-1,-1,-1,-1],[11,5,7,11,7,10,9,1,8,8,1,3,-1,-1,-1,-1],[10,2,1,10,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1],[0,3,8,1,7,2,1,5,7,7,10,2,-1,-1,-1,-1],[9,5,7,9,7,2,9,2,0,2,7,10,-1,-1,-1,-1],[7,2,5,7,10,2,5,2,9,3,8,2,9,2,8,-1],[2,11,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1],[8,0,2,8,2,5,8,5,7,11,5,2,-1,-1,-1,-1],[9,1,0,5,3,11,5,7,3,3,2,11,-1,-1,-1,-1],[9,2,8,9,1,2,8,2,7,11,5,2,7,2,5,-1],[1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1],[9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1],[9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[5,4,8,5,8,11,11,8,10,-1,-1,-1,-1,-1,-1,-1],[5,4,0,5,0,10,5,10,11,10,0,3,-1,-1,-1,-1],[0,9,1,8,11,4,8,10,11,11,5,4,-1,-1,-1,-1],[11,4,10,11,5,4,10,4,3,9,1,4,3,4,1,-1],[2,1,5,2,5,8,2,8,10,4,8,5,-1,-1,-1,-1],[0,10,4,0,3,10,4,10,5,2,1,10,5,10,1,-1],[0,5,2,0,9,5,2,5,10,4,8,5,10,5,8,-1],[9,5,4,2,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,11,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1],[5,2,11,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1],[3,2,11,3,11,5,3,5,8,4,8,5,0,9,1,-1],[5,2,11,5,4,2,1,2,9,9,2,4,-1,-1,-1,-1],[8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1],[0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,5,4,8,3,5,9,5,0,0,5,3,-1,-1,-1,-1],[9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,7,10,4,10,9,9,10,11,-1,-1,-1,-1,-1,-1,-1],[0,3,8,4,7,9,9,7,10,9,10,11,-1,-1,-1,-1],[1,10,11,1,4,10,1,0,4,7,10,4,-1,-1,-1,-1],[3,4,1,3,8,4,1,4,11,7,10,4,11,4,10,-1],[4,7,10,9,4,10,9,10,2,9,2,1,-1,-1,-1,-1],[9,4,7,9,7,10,9,10,1,2,1,10,0,3,8,-1],[10,4,7,10,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1],[10,4,7,10,2,4,8,4,3,3,4,2,-1,-1,-1,-1],[2,11,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1],[9,7,11,9,4,7,11,7,2,8,0,7,2,7,0,-1],[3,11,7,3,2,11,7,11,4,1,0,11,4,11,0,-1],[1,2,11,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1],[4,1,9,4,7,1,0,1,8,8,1,7,-1,-1,-1,-1],[4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,8,11,11,8,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,9,0,3,10,9,10,11,9,-1,-1,-1,-1,-1,-1,-1],[0,11,1,0,8,11,8,10,11,-1,-1,-1,-1,-1,-1,-1],[3,11,1,10,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,10,2,1,9,10,9,8,10,-1,-1,-1,-1,-1,-1,-1],[3,9,0,3,10,9,1,9,2,2,9,10,-1,-1,-1,-1],[0,10,2,8,10,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,8,3,2,11,8,11,9,8,-1,-1,-1,-1,-1,-1,-1],[9,2,11,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,8,3,2,11,8,0,8,1,1,8,11,-1,-1,-1,-1],[1,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]],o=[[0,1],[1,3],[2,3],[0,2],[4,5],[5,7],[6,7],[4,6],[0,4],[1,5],[2,6],[3,7]];var i={getCase:function(t){return r[t]},getEdge:function(t){return o[t]}}},39809:(t,e,n)=>{n.d(e,{ZP:()=>g});var r=n(52739),o=n(54502),i=n(68470),a=n(54131),s=n(45802),l=n(46576);n(84030);const{vtkErrorMacro:c}=i.m;function u(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function f(t,e,n,r,o){const i=t[e];if(void 0===i)return-1;if(-1!==i.indexOf("endfacet"))return e+1;if(-1===i.indexOf("facet"))return e+1;let a=0,s=2;const l=n.length/3;for(u(i.split(/[ \t]+/).filter(t=>t).slice(-3).map(Number),o);-1!==t[e+s].indexOf("vertex");){u(t[e+s].split(/[ \t]+/).filter(t=>t).slice(-3).map(Number),n),a++,s++}r.push(a);for(let t=0;t<a;t++)r.push(l+t);for(;t[e+s]&&-1!==t[e+s].indexOf("endfacet");)s++;return e+s+2}function d(t,e){e.classHierarchy.push("vtkSTLReader"),e.dataAccessHelper||(e.dataAccessHelper=o.ZP.get("http")),t.setUrl=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{binary:!0};e.url=n;const o=n.split("/");return o.pop(),e.baseURL=o.join("/"),t.loadData(r)},t.loadData=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=void 0!==r.compression?r.compression:e.compression,i=void 0!==r.progressCallback?r.progressCallback:e.progressCallback;return r.binary?e.dataAccessHelper.fetchBinary(n,{compression:o,progressCallback:i}):e.dataAccessHelper.fetchText(t,n,{compression:o,progressCallback:i})}(e.url,n);return r.then(t.parse),r},t.parse=e=>{"string"==typeof e?t.parseAsText(e):t.parseAsArrayBuffer(e)},t.parseAsArrayBuffer=n=>{if(!n)return;if(n===e.parseData)return;t.modified(),e.parseData=n;let o=!1;if(o=84+50*new DataView(n,0,84).getUint32(80,!0)===n.byteLength,!o)return void t.parseAsText(r.Z.arrayBufferToString(n));const i=n.slice(0,80),u=function(t){const e=t.split(" ").filter(t=>t.indexOf("=")>-1),n={};for(let t=0;t<e.length;++t){const r=e[t].split("=");2===r.length&&(n[r[0]]=r[1])}return n}(r.Z.arrayBufferToString(i)),f=new DataView(n,84),d=(n.byteLength-84)/50,p=new Float32Array(9*d),m=new Float32Array(3*d),g=new Uint32Array(4*d),h=new Uint16Array(d);let y=0;for(let t=0;t<d;t++){const e=50*t;m[3*t+0]=f.getFloat32(e+0,!0),m[3*t+1]=f.getFloat32(e+4,!0),m[3*t+2]=f.getFloat32(e+8,!0),p[9*t+0]=f.getFloat32(e+12,!0),p[9*t+1]=f.getFloat32(e+16,!0),p[9*t+2]=f.getFloat32(e+20,!0),p[9*t+3]=f.getFloat32(e+24,!0),p[9*t+4]=f.getFloat32(e+28,!0),p[9*t+5]=f.getFloat32(e+32,!0),p[9*t+6]=f.getFloat32(e+36,!0),p[9*t+7]=f.getFloat32(e+40,!0),p[9*t+8]=f.getFloat32(e+44,!0),g[y++]=3,g[y++]=3*t+0,g[y++]=3*t+1,g[y++]=3*t+2,h[t]=f.getUint16(e+48,!0)}const b="SPACE";if(b in u&&"LPS"!==u[b]){const t=u[b],e=new Float32Array(16);switch(e[15]=1,t[0]){case"L":e[0]=1;break;case"R":e[0]=-1;break;default:return void c(`Can not convert STL file from ${t} to LPS space: permutations not supported. Use itk.js STL reader instead.`)}switch(t[1]){case"P":e[5]=1;break;case"A":e[5]=-1;break;default:return void c(`Can not convert STL file from ${t} to LPS space: permutations not supported. Use itk.js STL reader instead.`)}switch(t[2]){case"S":e[10]=1;break;case"I":e[10]=-1;break;default:return void c(`Can not convert STL file from ${t} to LPS space: permutations not supported. Use itk.js STL reader instead.`)}s.Z.buildFromDegree().setMatrix(e).apply(p).apply(m)}const v=l.ZP.newInstance();v.getPoints().setData(p,3),v.getPolys().setData(g),v.getCellData().setScalars(a.default.newInstance({name:"Attribute",values:h})),v.getCellData().setNormals(a.default.newInstance({name:"Normals",values:m,numberOfComponents:3})),e.output[0]=v},t.parseAsText=n=>{if(!n)return;if(n===e.parseData)return;t.modified(),e.parseData=n;const r=n.split("\n");let o=1;const i=[],s=[],c=[];for(;-1!==o;)o=f(r,o,i,s,c);const u=l.ZP.newInstance();u.getPoints().setData(Float32Array.from(i),3),u.getPolys().setData(Uint32Array.from(s)),u.getCellData().setNormals(a.default.newInstance({name:"Normals",values:Float32Array.from(c),numberOfComponents:3})),e.output[0]=u},t.requestData=(n,r)=>{t.parse(e.parseData)}}const p={};function m(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,p,n),i.m.obj(t,e),i.m.get(t,e,["url","baseURL"]),i.m.setGet(t,e,["dataAccessHelper"]),i.m.algo(t,e,0,1),d(t,e),e.compression||(e.compression=null),e.progressCallback||(e.progressCallback=null)}var g={extend:m,newInstance:i.m.newInstance(m,"vtkSTLReader")}},90643:(t,e,n)=>{n.d(e,{ZP:()=>m});var r=n(72076),o=n(68470),i=n(92603),a=n(61316);const{vtkErrorMacro:s}=o.m;function l(t,e,n){return t.setFloat32(e,n.toPrecision(6),!0),e+4}function c(t,e,n){let r=l(t,e,n[0]);return r=l(t,r,n[1]),l(t,r,n[2])}function u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.p.BINARY,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=null;e===a.p.BINARY?o=(()=>{let t=0,e=null;return{init:t=>{const n=t.getPolys().getData(),r=new ArrayBuffer(84+50*n.length/4);e=new DataView(r)},writeHeader:n=>{t+=80,e.setUint32(t,n.getNumberOfCells(),!0),t+=4},writeTriangle:(n,r,o,i)=>{t=c(e,t,i),t=c(e,t,n),t=c(e,t,r),t=c(e,t,o),t+=2},writeFooter:t=>{},getOutputData:()=>e}})():e===a.p.ASCII?o=(()=>{let t="";return{init:t=>{},writeHeader:e=>{t+="solid ascii\n"},writeTriangle:(e,n,r,o)=>{t+=` facet normal ${o[0].toPrecision(6)} ${o[1].toPrecision(6)} ${o[2].toPrecision(6)}\n`,t+="  outer loop\n",t+=`   vertex ${e[0].toPrecision(6)} ${e[1].toPrecision(6)} ${e[2].toPrecision(6)}\n`,t+=`   vertex ${n[0].toPrecision(6)} ${n[1].toPrecision(6)} ${n[2].toPrecision(6)}\n`,t+=`   vertex ${r[0].toPrecision(6)} ${r[1].toPrecision(6)} ${r[2].toPrecision(6)}\n`,t+="  endloop\n",t+=" endfacet\n"},writeFooter:e=>{t+="endsolid\n"},getOutputData:()=>t}})():s("Invalid format type"),o.init(t),o.writeHeader(t);const l=t.getPolys().getData(),u=t.getPoints().getData(),f=t.getStrips()?t.getStrips().getData():null,d=[];let p=[],m=[],g=[];if(f&&f.length>0)throw new Error("Unsupported strips");for(let t=0;t<l.length;){l[t++]&&(p=[u[3*l[t]],u[3*l[t]+1],u[3*l[t++]+2]],m=[u[3*l[t]],u[3*l[t]+1],u[3*l[t++]+2]],g=[u[3*l[t]],u[3*l[t]+1],u[3*l[t++]+2]],n&&(r.R3.transformMat4(p,p,n),r.R3.transformMat4(m,m,n),r.R3.transformMat4(g,g,n)),i.ZP.computeNormal(p,m,g,d),o.writeTriangle(p,m,g,d))}return o.writeFooter(t),o.getOutputData()}const f={writeSTL:u};const d={format:a.p.BINARY,transform:null};function p(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,d,n),o.m.obj(t,e),o.m.algo(t,e,1,1),o.m.setGet(t,e,["format","transform"]),function(t,e){e.classHierarchy.push("vtkSTLWriter"),t.requestData=(t,n)=>{const r=t[0];r&&"vtkPolyData"===r.getClassName()?n[0]=u(r,e.format,e.transform):s("Invalid or missing input")}}(t,e)}var m={newInstance:o.m.newInstance(p,"vtkSTLWriter"),extend:p,...f}},61316:(t,e,n)=>{n.d(e,{p:()=>r});const r={ASCII:"ascii",BINARY:"binary"}},18727:(t,e,n)=>{n.d(e,{ZP:()=>R});var r=n(72076),o=n(68470),i=n(54131),a=n(59474),s=n(45802),l=n(89262),c=n(91382),u=n(8455);const f={CLAMP:0,REPEAT:1,MIRROR:2},d={NEAREST:0,LINEAR:1,CUBIC:2};var p={ImageBorderMode:f,InterpolationMode:d};const m={pointer:null,extent:[0,-1,0,-1,0,-1],increments:[0,0,0],scalarType:null,dataTypeSize:1,numberOfComponents:1,borderMode:f.CLAMP,interpolationMode:d.LINEAR,extraInfo:null},g={...m,positions:[0,0,0],weights:null,weightExtent:[0,-1,0,-1,0,-1],kernelSize:[1,1,1],workspace:null,lastY:null,lastZ:null};function h(t){const e=Math.floor(t);return{floored:e,error:t-e}}function y(t){return Math.round(t)}function b(t,e,n){let r=t<=n?t:n;return r-=e,r=r>=0?r:0,r}function v(t,e,n){const r=n-e+1;let o=t-e;return o%=r,o=o>=0?o:o+r,o}function I(t,e,n){const r=n-e,o=2*r+(0===r?1:0);let i=t-e;return i=i>=0?i:-i,i%=o,i=i<=r?i:o-i,i}const{ImageBorderMode:A}=p;const T={outValue:0,tolerance:Number.EPSILON,componentOffset:0,componentCount:-1,borderMode:A.CLAMP,slidingWindow:!1,scalars:null,interpolationInfo:{...m},interpolationFunc:null,rowInterpolationFunc:null,structuredBounds:[0,-1,0,-1,0,-1],spacing:null,origin:null,extent:null};function E(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,T,n),o.m.obj(t,e),o.m.setGet(t,e,["outValue","tolerance","componentOffset","componentCount","borderMode","slidingWindow"]),o.m.get(t,e,["origin","spacing"]),function(t,e){e.classHierarchy.push("vtkAbstractImageInterpolator"),t.initialize=n=>{t.releaseData(),e.scalars=n.getPointData().getScalars(),e.spacing=n.getSpacing(),e.origin=n.getOrigin(),e.extent=n.getExtent(),t.update()},t.releaseData=()=>{e.scalars=null},t.update=()=>{if(!e.scalars)return e.interpolationInfo.pointer=null,void(e.interpolationInfo.numberOfComponents=1);e.interpolationInfo.extent=e.extent.slice();const n=t.computeSupportSize(null),r=Math.max(Math.max(n[0],n[1]),n[2]),o=Number.MIN_SAFE_INTEGER+r/2,i=Number.MAX_SAFE_INTEGER-r/2;for(let t=0;t<3;++t){const n=Math.max(.5*(e.extent[2*t]===e.extent[2*t+1]),e.tolerance);e.structuredBounds[2*t]=Math.max(e.extent[2*t]-n,o),e.structuredBounds[2*t+1]=Math.min(e.extent[2*t+1]+n,i)}const a=e.extent[1]-e.extent[0]+1,s=e.extent[3]-e.extent[2]+1,l=e.scalars.getNumberOfComponents();e.interpolationInfo.increments[0]=l,e.interpolationInfo.increments[1]=e.interpolationInfo.increments[0]*a,e.interpolationInfo.increments[2]=e.interpolationInfo.increments[1]*s;let c=e.componentOffset;c=c>0?c:0,c=c<l?c:l-1;const u=e.scalars.getData();e.interpolationInfo.pointer=u.subarray(1*c),e.interpolationInfo.scalarType=e.scalars.dataType,e.interpolationInfo.dataTypeSize=1,e.interpolationInfo.numberOfComponents=t.computeNumberOfComponents(l),e.interpolationInfo.borderMode=e.borderMode,t.internalUpdate()},t.internalUpdate=()=>{},t.interpolateXYZ=(n,r,o,i)=>{let a=e.outValue;const s=[n,r,o],l=[(s[0]-e.origin[0])/e.spacing[0],(s[1]-e.origin[1])/e.spacing[1],(s[2]-e.origin[2])/e.spacing[2]];if(t.checkBoundsIJK(l)){const n={...e.interpolationInfo},r=n.increments[0]-e.componentOffset,o=1;let s=i>0?i:0;s=s<r?s:r-1,n.pointer=e.interpolationInfo.pointer.subarray(o*s),n.numberOfComponents=1;const c=[a];t.interpolatePoint(n,l,c),a=c[0]}return a},t.interpolate=(n,r)=>{const o=[(n[0]-e.origin[0])/e.spacing[0],(n[1]-e.origin[1])/e.spacing[1],(n[2]-e.origin[2])/e.spacing[2]];if(t.checkBoundsIJK(o))return t.interpolatePoint(e.interpolationInfo,o,r),!0;for(let t=0;t<e.interpolationInfo.numberOfComponents;++t)r[t]=e.outValue;return!1},t.computeNumberOfComponents=t=>{const n=Math.min(Math.max(e.componentOffset,0),t-1),r=e.componentCount<t-n?e.componentCount:t-n;return r>0?r:t-n},t.getNumberOfComponents=()=>e.interpolationInfo.numberOfComponents,t.interpolateIJK=(n,r)=>{t.interpolatePoint(e.interpolationInfo,n,r)},t.checkBoundsIJK=t=>!(t[0]<e.structuredBounds[0]||t[0]>e.structuredBounds[1]||t[1]<e.structuredBounds[2]||t[1]>e.structuredBounds[3]||t[2]<e.structuredBounds[4]||t[2]>e.structuredBounds[5]),t.computeSupportSize=null,t.isSeparable=null,t.precomputeWeightsForExtent=(t,e,n)=>{},t.FreePrecomputedWeights=t=>{},t.interpolatePoint=(t,e,n)=>{},t.interpolateRow=(t,e,n,r,o,i)=>{}}(t,e)}var P={newInstance:o.m.newInstance(E,"vtkAbstractImageInterpolator"),extend:E,...p};const C={interpolationMode:d.NEAREST};function x(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,C,n),P.extend(t,e,n),o.m.setGet(t,e,["interpolationMode"]),function(t,e){e.classHierarchy.push("vtkImageInterpolator"),t.computeSupportSize=t=>{let n=1;e.interpolationMode===d.LINEAR?n=2:e.interpolationMode===d.CUBIC&&(n=4);const r=[n,n,n];if(null==t)return r;if(0!==t[12]||0!==t[13]||0!==t[14]||1!==t[15])return r;for(let e=0;e<3;++e){let n=!0;for(let r=0;r<3;++r)n=n&&Number.isInteger(t[4*e+r]);n&&(r[e]=1)}return r},t.internalUpdate=()=>{e.interpolationInfo.interpolationMode=e.interpolationMode},t.isSeparable=()=>!0,t.interpolateNearest=(t,e,n)=>{const r=t.extent,o=t.increments,i=t.numberOfComponents;let a=y(e[0]),s=y(e[1]),l=y(e[2]);switch(t.borderMode){case f.REPEAT:a=v(a,r[0],r[1]),s=v(s,r[2],r[3]),l=v(l,r[4],r[5]);break;case f.MIRROR:a=I(a,r[0],r[1]),s=I(s,r[2],r[3]),l=I(l,r[4],r[5]);break;default:a=b(a,r[0],r[1]),s=b(s,r[2],r[3]),l=b(l,r[4],r[5])}const c=a*o[0]+s*o[1]+l*o[2];for(let e=0;e<i;++e)n[e]=t.pointer[c+e]},t.interpolateLinear=(t,e,n)=>{const r=t.extent,o=t.increments,i=t.numberOfComponents,a=h(e[0]),s=h(e[1]),l=h(e[2]);let c=a.floored,u=s.floored,d=l.floored;const p=a.error,m=s.error,g=l.error;let y=c+(0!==p),A=u+(0!==m),T=d+(0!==g);switch(t.borderMode){case f.REPEAT:c=v(c,r[0],r[1]),u=v(u,r[2],r[3]),d=v(d,r[4],r[5]),y=v(y,r[0],r[1]),A=v(A,r[2],r[3]),T=v(T,r[4],r[5]);break;case f.MIRROR:c=I(c,r[0],r[1]),u=I(u,r[2],r[3]),d=I(d,r[4],r[5]),y=I(y,r[0],r[1]),A=I(A,r[2],r[3]),T=I(T,r[4],r[5]);break;default:c=b(c,r[0],r[1]),u=b(u,r[2],r[3]),d=b(d,r[4],r[5]),y=b(y,r[0],r[1]),A=b(A,r[2],r[3]),T=b(T,r[4],r[5])}const E=c*o[0],P=y*o[0],C=u*o[1],x=A*o[1],O=d*o[2],S=T*o[2],N=C+O,w=C+S,M=x+O,D=x+S,k=1-p,L=1-m,_=1-g,R=L*_,F=m*_,U=L*g,V=m*g,B=t.pointer;for(let t=0;t<i;++t)n[t]=k*(R*B[E+N+4*t]+U*B[E+w+4*t]+F*B[E+M+4*t]+V*B[E+D+4*t])+p*(R*B[P+N+4*t]+U*B[P+w+4*t]+F*B[P+M+4*t]+V*B[P+D+4*t])},t.interpolatePoint=(n,r,o)=>{switch(e.interpolationMode){case d.LINEAR:t.interpolateLinear(n,r,o);break;case d.CUBIC:console.log("CUBIC not implemented");break;default:t.interpolateNearest(n,r,o)}},t.interpolateRowNearest=(t,e,n,r,o,i)=>{const a=t.positions[0].subarray(e),s=t.positions[1].subarray(n),l=t.positions[2].subarray(r),c=t.pointer.subarray(s[0]+l[0]),u=t.numberOfComponents;for(let t=0;t<i;++t)o.set(c.subarray(a[t],u),t*u)},t.interpolateRowLinear=(t,e,n,r,o,i)=>{const a=t.kernelSize[0],s=t.kernelSize[1],l=t.kernelSize[2],c=e*a,u=n*s,f=r*l,d=t.weights[0].subarray(c),p=t.weights[1].subarray(u),m=t.weights[2].subarray(f),g=t.positions[0].subarray(c),h=t.positions[1].subarray(u),y=t.positions[2].subarray(f),b=t.pointer,v=t.numberOfComponents,I=h.subarray(y[0]);let A=I,T=I,E=I,P=1,C=0,x=1,O=0;2===s&&(T=h[1].subarray(y[0]),E=T,P=p[0],C=p[1]),2===l&&(A=h[0].subarray(y[1]),E=A,x=m[0],O=m[1]),s+l===4&&(E=h[1].subarray(y[1]));const S=P*x,N=P*O,w=C*x,M=C*O;if(1===a)if(0===C&&0===O)for(let t=i;t>0;--t)for(let e=0;e<v;e++)o[e+i-t]=b[I+g[i-t]+e];else if(0===C)for(let t=i;t>0;--t)for(let e=0;e<v;e++)o[e+i-t]=x*b[g[i-t]+I+4*e]+O*b[g[i-t]+A+4*e];else for(let t=i;t>0;--t)for(let e=0;e<v;e++)o[e+i-t]=S*b[g[i-t]+I+4*e]+N*b[g[i-t]+A+4*e]+w*b[g[i-t]+T+4*e]+M*b[g[i-t]+E+4*e];else if(0===O){let t=0;for(let e=i;e>0;--e){const n=d[0+2*t],r=d[1+2*t],a=g[0+2*t],s=g[1+2*t];for(let t=0;t<v;t++)o[t+i-e]=n*(P*b[a+I+4*t]+C*b[a+T+4*t])+r*(P*b[s+I+4*t]+C*b[s+T+4*t]);t++}}else{let t=0;for(let e=i;e>0;--e){const e=d[0+2*t],n=d[1+2*t],r=g[0+2*t],i=g[1+2*t];for(let t=0;t<v;t++)o[t]=e*(S*b[r+I+4*t]+N*b[r+A+4*t]+w*b[r+T+4*t]+M*b[r+E+4*t])+n*(S*b[i+I+4*t]+N*b[i+A+4*t]+w*b[i+T+4*t]+M*b[i+E+4*t]);t++}}},t.interpolateRow=(n,r,o,i,a,s)=>{switch(e.interpolationMode){case d.LINEAR:t.interpolateRowLinear(n,r,o,i,a,s);break;case d.CUBIC:console.log("CUBIC not implemented");break;default:t.interpolateRowNearest(n,r,o,i,a,s)}},t.vtkTricubicInterpWeights=t=>{const e=t-1,n=.5*t,r=3*t;return[-n*e*e,((r-2)*n-1)*e,-((r-4)*t-1)*n,t*n*e]},t.precomputeWeightsForExtent=(n,r,o)=>{const i={...g.newInstance(),...e.interpolationInfo};i.weightType="Float32Array";const a=i.interpolationMode;let s=!0;for(let l=0;l<3;++l){let c;for(c=0;c<3&&0===n[4*l+c];++c);o[2*l]=r[2*l],o[2*l+1]=r[2*l+1];const u=i.extent[2*c],p=i.extent[2*c+1],m=e.structuredBounds[2*c],g=e.structuredBounds[2*c+1];let y=1;y=a<d.LINEAR?y:2,y=a<d.CUBIC?y:4;const A=p-u+1;y=y<A?y:A,Number.isInteger(n[4*l+c])&&Number.isInteger(n[4*c+c])&&(y=1);const T=y*(r[2*l+1]-r[2*l]+1),E=new Int16Array(T),P=y*r[2*l];let C=null;a!==d.NEAREST&&(C=new Int16Array(T)),i.kernelSize[l]=y,i.weightExtent[2*l]=r[2*l],i.weightExtent[2*l+1]=r[2*l+1],i.positions[l]=E,i.weights[l]=C;let x=0;for(let e=r[2*l];e<=r[2*l+1];++e){const r=n[12+c]+e*n[4*l+c];let s=y,A=0,T=0;if(a===d.NEAREST)A=Math.round(r);else{const t=h(r);A=t.integer,T=t.error,a===d.CUBIC&&1!==y&&(A--,s=4)}const O=[0,0,0,0];let S=0;switch(i.borderMode){case f.REPEAT:do{O[S]=v(A,u,p),A++}while(++S<s);break;case f.MIRROR:do{O[S]=I(A,u,p),A++}while(++S<s);break;default:do{O[S]=b(A,u,p),A++}while(++S<s)}const N=i.increments[c];if(E[y*e-P]=O[0]*N,a!==d.NEAREST&&(C[y*e-P]=1),y>1)if(a===d.LINEAR)E[y*e+1-P]=O[1]*N,C[y*e-P]=1-T,C[y*e+1-P]=T;else if(a===d.CUBIC){const n=t.vtkTricubicInterpWeights(T);if(4===y)for(let t=0;t<4;t++)E[y*e+t-P]=O[t]*N,C[y*e+t-P]=n[t];else{const t=[0,0,0,0];for(let e=0;e<4;e++)t[O[e]-u]+=n[e];for(let n=0;n<y;n++)E[y*e+n-P]=u+n,C[y*e+n-P]=t[n]}}r>=m&&r<=g?0===x&&(x=1,o[2*l]=e):1===x&&(x=2,o[2*l+1]=e-1)}(0===x||o[2*l]>o[2*l+1])&&(s=!1)}if(!s)for(let t=0;t<3;t++)o[2*t]=r[2*t],o[2*t+1]=r[2*t]-1}}(t,e)}var O={newInstance:o.m.newInstance(x,"vtkImageInterpolator"),extend:x};const S={spanState:0,extent:[0,-1,0,-1,0,-1],end:0,spanEnd:0,rowEnd:0,sliceEnd:0,rowIncrement:0,rowEndIncrement:0,sliceIncrement:0,sliceEndIncrement:0,id:0,index:[0,0,0],startY:0,hasStencil:!1,inStencil:!0,spanIndex:0,spanSliceIncrement:0,spanSliceEndIncrement:0,spanCountPointer:null,spanListPointer:null,algorithm:null,target:0,count:0};function N(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,S,n),o.m.obj(t,e),o.m.get(t,e,["id","index"]),function(t,e){e.classHierarchy.push("vtkImagePointDataIterator"),t.initialize=(t,n,r,o)=>{const i=t.getExtent();let a=n;null==a&&(a=i);let s,l,c,u=!1;for(let t=0;t<6;t+=2)e.extent[t]=Math.max(a[t],i[t]),e.extent[t+1]=Math.min(a[t+1],i[t+1]),e.extent[t]>e.extent[t+1]&&(u=!0);if(e.rowIncrement=i[1]-i[0]+1,e.sliceIncrement=e.rowIncrement*(i[3]-i[2]+1),u){s=0,l=0,c=0,e.id=0,e.rowEndIncrement=0,e.sliceEndIncrement=0;for(let t=0;t<6;t+=2)e.extent[t]=i[t],e.extent[t+1]=i[t]-1}else s=e.extent[1]-e.extent[0]+1,l=e.extent[3]-e.extent[2]+1,c=e.extent[5]-e.extent[4]+1,e.id=e.extent[0]-i[0]+(e.extent[2]-i[2])*e.rowIncrement+(e.extent[4]-i[4])*e.sliceIncrement,e.rowEndIncrement=e.rowIncrement-s,e.sliceEndIncrement=e.rowEndIncrement+e.sliceIncrement-e.rowIncrement*l;if(e.spanEnd=e.id+s,e.rowEnd=e.id+s,e.sliceEnd=e.id+(e.rowIncrement*l-e.rowEndIncrement),e.end=e.id+(e.sliceIncrement*c-e.sliceEndIncrement),e.index[0]=e.extent[0],e.index[1]=e.extent[2],e.index[2]=e.extent[4],e.startY=e.index[1],r){e.hasStencil=!0,e.inStencil=!1,e.spanIndex=0;const t=r.getExtent();if(e.spanSliceIncrement=0,e.spanSliceEndIncrement=0,t[3]>=t[2]&&t[5]>=t[4]){e.spanSliceIncrement=t[3]-t[2]+1;const n=e.extent[2]-t[2];n>=0&&(e.spanSliceEndIncrement+=n);const r=t[3]-e.extent[3];r>=0&&(e.spanSliceEndIncrement+=r)}let n=0;const o=e.extent[2]-t[2];o<0?(e.extent[2]=t[2],n-=1):n+=o,t[3]<=e.extent[3]&&(e.extent[3]=t[3]);const i=e.extent[4]-t[4];i<0?(e.extent[4]=t[4],o>=0&&(n-=1+e.spanSliceEndIncrement)):n+=i*e.spanSliceIncrement,t[5]<=e.extent[5]&&(e.extent[5]=t[5]),e.extent[2]<=e.extent[3]&&e.extent[4]<=e.extent[5]?(e.spanCountPointer=r.extentListLengths.subarray(n),e.spanListPointer=r.extentLists.subarray(n),o>=0&&i>=0&&(e.inStencil=!0,e.setSpanState(e.extent[0]))):(e.spanCountPointer=null,e.spanListPointer=null,e.inStencil=!1)}else e.hasStencil=!1,e.inStencil=!0,e.spanSliceEndIncrement=0,e.spanSliceIncrement=0,e.spanIndex=0,e.spanCountPointer=null,e.spanListPointer=null;if(o){e.algorithm=o;const t=l*c;e.target=t/50+1,e.count=50*e.target-t/e.target*e.target+1}else e.algorithm=null,e.target=0,e.count=0},t.setSpanState=t=>{let n=!1;const r=e.spanListPointer,o=e.spanCountPointer[0];let i;for(i=0;i<o&&!(r[i]>t);++i)n=!n;e.spanIndex=i,e.inStencil=n;let a=e.extent[1]+1;i<o&&r[i]<=e.extent[1]&&(a=r[i]);const s=e.rowEnd-(e.rowIncrement-e.rowEndIncrement);e.id=s+(t-e.extent[0]),e.spanEnd=s+(a-e.extent[0])},t.nextSpan=()=>{if(e.spanEnd===e.rowEnd){let n=1;if(e.spanEnd!==e.sliceEnd)e.id=e.rowEnd+e.rowEndIncrement,e.rowEnd+=e.rowIncrement,e.spanEnd=e.rowEnd,e.index[1]++;else{if(e.spanEnd===e.end)return void(e.id=e.end);e.id=e.sliceEnd+e.sliceEndIncrement,e.sliceEnd+=e.sliceIncrement,e.rowEnd=e.id+(e.rowIncrement-e.rowEndIncrement),e.spanEnd=e.rowEnd,e.index[1]=e.startY,e.index[2]++,n+=e.spanSliceEndIncrement}e.index[0]=e.extent[0],e.hasStencil&&(e.index[1]>=e.extent[2]&&e.index[1]<=e.extent[3]&&e.index[2]>=e.extent[4]&&e.index[2]<=e.extent[5]?(e.spanCountPointer=e.spanCountPointer.subarray(n),e.spanListPointer=e.spanListPointer.subarray(n),t.setSpanState(e.extent[0])):e.inStencil=!1),e.algorithm&&t.reportProgress()}else{e.id=e.spanEnd;const t=e.spanCountPointer[0];let n=e.extent[1]+1;if(e.index[0]=n,e.spanIndex<t){const t=e.spanListPointer[e.spanIndex];t<n&&(e.index[0]=t)}if(e.spanIndex++,e.spanIndex<t){const t=e.spanListPointer[e.spanIndex];t<n&&(n=t)}e.spanEnd=e.rowEnd-(e.rowIncrement-e.rowEndIncrement)+(n-e.extent[0]),e.inStencil=!e.inStencil}},t.isAtEnd=()=>e.id===e.end,t.isInStencil=()=>e.inStencil,t.spanEndId=()=>e.spanEnd,t.reportProgress=()=>{},t.getArray=(t,e)=>t.getData().subarray(e*t.getNumberOfComponents()),t.getScalars=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.getArray(e.getPointData().getScalars(),n)}}(t,e)}var w={newInstance:o.m.newInstance(N,"vtkImagePointDataIterator"),extend:N};var M={SlabMode:{MIN:0,MAX:1,MEAN:2,SUM:3}};const{SlabMode:D}=M,{vtkErrorMacro:k}=o.m;const L={transformInputSampling:!0,autoCropOutput:!1,outputDimensionality:3,outputSpacing:null,outputOrigin:null,outputDirection:null,outputExtent:null,outputScalarType:null,wrap:!1,mirror:!1,border:!0,interpolationMode:d.NEAREST,slabMode:D.MIN,slabTrapezoidIntegration:!1,slabNumberOfSlices:1,slabSliceSpacingFraction:1,optimization:!1,scalarShift:0,scalarScale:1,backgroundColor:[0,0,0,0],resliceAxes:null,interpolator:O.newInstance(),usePermuteExecute:!1};function _(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,L,n),o.m.obj(t,e),o.m.algo(t,e,1,1),o.m.setGet(t,e,["outputDimensionality","outputScalarType","scalarShift","scalarScale","transformInputSampling","autoCropOutput","wrap","mirror","border","interpolationMode","resliceTransform","slabMode","slabTrapezoidIntegration","slabNumberOfSlices","slabSliceSpacingFraction"]),o.m.setGetArray(t,e,["outputOrigin","outputSpacing"],3),o.m.setGetArray(t,e,["outputExtent"],6),o.m.setGetArray(t,e,["outputDirection"],9),o.m.setGetArray(t,e,["backgroundColor"],4),o.m.get(t,e,["resliceAxes"]),function(t,e){e.classHierarchy.push("vtkImageReslice");const n={...t},p=r._E.identity(new Float64Array(16));let m=null;function g(t,e,n,r){const o=n-1;for(let n=0;n<e;n+=1){let i=.5*t[n];for(let r=1;r<o;r+=1)i+=t[n+r*e];i+=.5*t[n+o*e],t[n]=i*r}}function v(t,e,n,r){for(let o=0;o<e;o+=1){let i=t[o];for(let r=1;r<n;r+=1)i+=t[o+r*e];t[o]=i*r}}function I(t,e,n){for(let r=0;r<e;r+=1){let o=t[r];for(let i=1;i<n;i+=1)o=Math.min(o,t[r+i*e]);t[r]=o}}function A(t,e,n){for(let r=0;r<e;r+=1){let o=t[r];for(let i=1;i<n;i+=1)o=Math.max(o,t[r+i*e]);t[r]=o}}function T(t,e,n){v(t,e,n,1/n)}function E(t,e,n){g(t,e,n,1/(n-1))}function P(t,e,n){v(t,e,n,1)}function C(t,e,n){g(t,e,n,1)}t.getMTime=()=>{let t=n.getMTime();return e.resliceTransform&&(t=Math.max(t,e.resliceTransform.getMTime())),t},t.setResliceAxes=n=>(e.resliceAxes||(e.resliceAxes=r._E.identity(new Float64Array(16))),!r._E.exactEquals(e.resliceAxes,n)&&(r._E.copy(e.resliceAxes,n),t.modified(),!0)),t.requestData=(n,a)=>{const s=n[0];if(!s)return void k("Invalid or missing input");const l=s.getOrigin(),c=s.getSpacing(),g=s.getDimensions(),h=s.getPointData().getScalars(),y=[0,g[0]-1,0,g[1]-1,0,g[2]-1],b=[0,0,0],v=[1,1,1],I=[0,0,0,0,0,0],A=[0,0,0],T=r._E.identity(new Float64Array(16));e.resliceAxes&&r._E.multiply(T,T,e.resliceAxes);const E=new Float64Array(16);r._E.invert(E,T);const P=[l[0]+.5*(y[0]+y[1])*c[0],l[1]+.5*(y[2]+y[3])*c[1],l[2]+.5*(y[4]+y[5])*c[2]];let C=null;e.autoCropOutput&&(C=t.getAutoCroppedOutputBounds(s));for(let t=0;t<3;t++){let n=0,r=0,o=0,i=0;if(e.transformInputSampling){let e=0;for(let a=0;a<3;a++){i+=E[4*a+t]*(P[a]-T[12+a]);const s=T[4*t+a]*T[4*t+a];n+=s*Math.abs(c[a]),r+=s*(y[2*a+1]-y[2*a])*Math.abs(c[a]),o+=s*y[2*a],e+=s}n/=e,r/=e*Math.sqrt(e),o/=e}else i=P[t],n=c[t],r=(y[2*t+1]-y[2*t])*n,o=y[2*t];null==e.outputSpacing?v[t]=n:v[t]=e.outputSpacing[t],t>=e.outputDimensionality?(I[2*t]=0,I[2*t+1]=0):null==e.outputExtent?(e.autoCropOutput&&(r=C[2*t+1]-C[2*t]),I[2*t]=Math.round(o),I[2*t+1]=Math.round(I[2*t]+Math.abs(r/v[t]))):(I[2*t]=e.outputExtent[2*t],I[2*t+1]=e.outputExtent[2*t+1]),t>=e.outputDimensionality?b[t]=0:null==e.outputOrigin?e.autoCropOutput?b[t]=C[2*t]-I[2*t]*v[t]:b[t]=i-.5*(I[2*t]+I[2*t+1])*v[t]:b[t]=e.outputOrigin[t],A[t]=I[2*t+1]-I[2*t]+1}let x=h.getDataType();e.outputScalarType&&(x=e.outputScalarType);const O=s.getPointData().getScalars().getNumberOfComponents(),S=o.m.newTypedArray(x,A[0]*A[1]*A[2]*O),N=i.default.newInstance({name:"Scalars",values:S,numberOfComponents:O}),w=u.ZP.newInstance();w.setDimensions(A),w.setOrigin(b),w.setSpacing(v),e.outputDirection&&w.setDirection(e.outputDirection),w.getPointData().setScalars(N),t.getIndexMatrix(s,w);let M=e.interpolationMode;e.usePermuteExecute=!1,e.optimization&&null==m&&1===e.slabSliceSpacingFraction&&e.interpolator.isSeparable()&&t.isPermutationMatrix(p)&&(e.usePermuteExecute=!0,t.canUseNearestNeighbor(p,I)&&(M=d.NEAREST)),e.interpolator.setInterpolationMode(M);let D=f.CLAMP;D=e.wrap?f.REPEAT:D,D=e.mirror?f.MIRROR:D,e.interpolator.setBorderMode(D);const L=762939453125e-17;let _=.5*e.border;_=D===f.CLAMP?_:4294967294,_=_>L?_:L,e.interpolator.setTolerance(_),e.interpolator.initialize(s),t.vtkImageResliceExecute(s,w),e.interpolator.releaseData(),a[0]=w},t.vtkImageResliceExecute=(n,r)=>{const i=n.getPointData().getScalars(),a=r.getPointData().getScalars();let s=a.getData();const l=r.getExtent(),u=p,g=Math.max(e.slabNumberOfSlices,1),h=e.slabSliceSpacingFraction,b=t.isPerspectiveMatrix(u);let v=i.getData();const I=i.getDataType(),A=i.getNumberOfComponents(),T=e.interpolator.getComponentOffset(),E=e.interpolator.getBorderMode(),P=n.getDimensions(),C=[0,P[0]-1,0,P[1]-1,0,P[2]-1],x=[0,0,0];x[0]=i.getNumberOfComponents(),x[1]=x[0]*P[0],x[2]=x[1]*P[1];const O=P[0]*P[1]*P[2];T>0&&T+A<x[0]&&(v=v.subarray(1*T));let S=d.NEAREST;e.interpolator.isA("vtkImageInterpolator")&&(S=e.interpolator.getInterpolationMode());const N=0!==e.scalarShift||1!==e.scalarScale,M=S===d.NEAREST&&E===f.CLAMP&&!(null!=m||b||N)&&I===a.getDataType()&&O===i.getNumberOfTuples()&&!0===e.border&&g<=1,k=a.getDataType(),L=a.getNumberOfComponents(),_=[0,0,0,0],R=[0,0,0,0],F=[0,0,0,0],U=[0,0,0,0];for(let t=0;t<4;++t)_[t]=u[0+t],R[t]=u[4+t],F[t]=u[8+t],U[t]=u[12+t];let V=null;M||(V=new Float64Array(A*(l[1]-l[0]+g)));const B=o.m.newTypedArray(I,e.backgroundColor),z=S>d.LINEAR||g>1&&e.slabMode===D.SUM,$=t.getConversionFunc(I,k,e.scalarShift,e.scalarScale,z),G=t.getSetPixelsFunc(k,1,L,s),j=t.getCompositeFunc(e.slabMode,e.slabTrapezoidIntegration);let H=l[2]-1,K=l[4]-1;const W=[0,0,0,0],X=[0,0,0,0],Z=w.newInstance();Z.initialize(r,l,e.stencil,null);const Y=Z.getScalars(r,0);let Q=0;const q=o.m.newTypedArray(k,c.ZP.getDiagonalLength(l)*L*2),J=new Float64Array(A*g),tt=new Float64Array(A);for(;!Z.isAtEnd();Z.nextSpan()){const n=Z.spanEndId()-Z.getId();if(Q=1*Z.getId()*L,Z.isInStencil()){const r=Z.getIndex();r[2]>K&&(K=r[2],W[0]=U[0]+K*F[0],W[1]=U[1]+K*F[1],W[2]=U[2]+K*F[2],W[3]=U[3]+K*F[3],H=l[2]-1),r[1]>H&&(H=r[1],X[0]=W[0]+H*R[0],X[1]=W[1]+H*R[1],X[2]=W[2]+H*R[2],X[3]=W[3]+H*R[3]);const o=r[0],i=o+n-1;if(M){const t=v,e=s,n=1*x[0],r=1*x[1],a=1*x[2],l=C[1]-C[0]+1,c=C[3]-C[2]+1,u=C[5]-C[4]+1;let f=o,d=o-1,p=!1;const m=1*A;for(let e=o;e<=i;e++){const i=[X[0]+e*_[0],X[1]+e*_[1],X[2]+e*_[2]],s=y(i[0])-C[0],g=y(i[1])-C[2],h=y(i[2])-C[4];if(s>=0&&s<l&&g>=0&&g<c&&h>=0&&h<u){if(!p){f=e,p=!0;const t=G(q,B,L,f-o);for(let e=0;e<t;++e)Y[Q++]=q[e]}d=e;let i=s*n+g*r+h*a;switch(m){case 1:Y[Q++]=t[i];break;case 2:case 3:case 4:case 8:case 12:case 16:for(let e=0;e<m;++e)Y[Q++]=t[i+e];break;default:{let e=0;do{Y[Q++]=t[i++]}while(++e!==m);break}}}else if(p)break}s=e;const g=G(q,B,L,i-d);for(let t=0;t<g;++t)Y[Q++]=q[t]}else{let n=1,r=1,a=o,s=o;const l=V;let c=0;for(;a<=i;){for(;s<=i&&r===n;s++){const i=[X[0]+s*_[0],X[1]+s*_[1],X[2]+s*_[2],X[3]+s*_[3]],a=[0,0,0,0];let u=i;r=!1;let f=0;for(let n=0;n<g;++n){if(g>1){let t=n-.5*(g-1);t*=h,a[0]=i[0]+t*F[0],a[1]=i[1]+t*F[1],a[2]=i[2]+t*F[2],a[3]=i[3]+t*F[3],u=a}if(b){const t=1/u[3];u[0]*=t,u[1]*=t,u[2]*=t}if(null!==m){const n=e.interpolator.getOrigin(),r=e.interpolator.getSpacing(),o=[1/r[0],1/r[1],1/r[2]];t.applyTransform(m,u,n,o)}if(e.interpolator.checkBoundsIJK(u)){r=1,e.interpolator.interpolateIJK(u,tt);for(let t=0;t<A;++t)J[f++]=tt[t]}}f>A&&j(J,A,f/A);for(let t=0;t<A;++t)l[c++]=J[t];n=s>o?n:r}const u=s-1-(r!==n)-a+1;let f=0;n?(N&&t.rescaleScalars(V,A,i-o+1,e.scalarShift,e.scalarScale),f=$(q,V.subarray(a*A),L,u)):f=G(q,B,L,u);for(let t=0;t<f;++t)Y[Q++]=q[t];a+=u,n=r}}}else{const t=G(q,B,L,n);for(let e=0;e<t;++e)Y[Q++]=q[e]}}},t.getIndexMatrix=(t,n)=>{const i=r._E.identity(new Float64Array(16));m=null,e.resliceAxes&&r._E.copy(i,e.resliceAxes),e.resliceTransform&&(e.resliceTransform.isA("vtkHomogeneousTransform")?r._E.multiply(i,e.resliceTransform.getMatrix(),i):(0,o.v)("Non homogeneous transform have not yet been ported"));const a=n.getIndexToWorld();if(r._E.multiply(i,i,a),null==m){const e=t.getWorldToIndex();r._E.multiply(i,e,i)}return r._E.copy(p,i),p},t.getAutoCroppedOutputBounds=t=>{const n=t.getOrigin(),o=t.getSpacing(),i=t.getDirection(),l=t.getDimensions(),c=[0,l[0]-1,0,l[1]-1,0,l[2]-1],u=new Float64Array(16);e.resliceAxes?r._E.invert(u,e.resliceAxes):r._E.identity(u);let f=null;e.resliceTransform&&(f=e.resliceTransform.getInverse());let d=null;a.f.isIdentity3x3(i)||(d=s.Z.buildFromRadian().translate(n[0],n[1],n[2]).multiply3x3(i).translate(-n[0],-n[1],-n[2]).invert().getMatrix());const p=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE],m=[0,0,0,0];for(let t=0;t<8;++t){m[0]=n[0]+c[t%2]*o[0],m[1]=n[1]+c[2+Math.floor(t/2)%2]*o[1],m[2]=n[2]+c[4+Math.floor(t/4)%2]*o[2],m[3]=1,d&&r.vh.transformMat4(m,m,d),e.resliceTransform&&f.transformPoint(m,m),r.vh.transformMat4(m,m,u);const i=1/m[3];m[0]*=i,m[1]*=i,m[2]*=i;for(let t=0;t<3;++t)m[t]>p[2*t+1]&&(p[2*t+1]=m[t]),m[t]<p[2*t]&&(p[2*t]=m[t])}return p},t.getDataTypeMinMax=t=>{switch(t){case"Int8Array":return{min:-128,max:127};case"Int16Array":return{min:-32768,max:32767};case"Uint16Array":return{min:0,max:65535};case"Int32Array":return{min:-2147483648,max:2147483647};case"Uint32Array":return{min:0,max:4294967295};case"Float32Array":case"Float64Array":return{min:-12e37,max:12e37};default:return{min:0,max:255}}},t.clamp=(t,e,n,r,o,i)=>{const a=r*n;for(let n=0;n<a;++n)t[n]=b(e[n],o,i);return a},t.convert=(t,e,n,r)=>{const o=r*n;for(let n=0;n<o;++n)t[n]=Math.round(e[n]);return o},t.getConversionFunc=(e,n,r,o,i)=>{let a=i;if(n!==l.Tu.FLOAT&&n!==l.Tu.DOUBLE&&!i){const i=t.getDataTypeMinMax(e);let s=(i.min+r)*o,l=(i.max+r)*o;const c=t.getDataTypeMinMax(n),u=c.min,f=c.max;if(s>l){const t=l;l=s,s=t}a=s<u||l>f}if(a&&n!==l.Tu.FLOAT&&n!==l.Tu.DOUBLE){const e=t.getDataTypeMinMax(n);return(n,r,o,i)=>t.clamp(n,r,o,i,e.min,e.max)}return t.convert},t.set=(t,e,n,r)=>{const o=n*r;for(let n=0;n<r;++n)t[n]=e[n];return o},t.set1=(t,e,n,r)=>(t.fill(e[0],0,r),r),t.getSetPixelsFunc=(e,n,r,o)=>1===r?t.set1:t.set,t.getCompositeFunc=(t,e)=>{let n=null;switch(t){case D.MIN:n=I;break;case D.MAX:n=A;break;case D.MEAN:n=e?E:T;break;case D.SUM:n=e?C:P}return n},t.applyTransform=(t,e,n,o)=>{e[3]=1,r.vh.transformMat4(e,e,t),e[0]-=n[0],e[1]-=n[1],e[2]-=n[2],e[0]*=o[0],e[1]*=o[1],e[2]*=o[2]},t.rescaleScalars=(t,e,n,r,o)=>{const i=n*e;for(let e=0;e<i;++e)t[e]=(t[e]+r)*o},t.isPermutationMatrix=t=>{for(let e=0;e<3;e++)if(0!==t[4*e+3])return!1;if(1!==t[15])return!1;for(let e=0;e<3;e++){let n=0;for(let r=0;r<3;r++)0!==t[4*e+r]&&n++;if(1!==n)return!1}return!0},t.isIdentityMatrix=t=>{for(let e=0;e<4;++e)for(let n=0;n<4;++n)if((e===n?1:0)!==t[4*n+e])return!1;return!0},t.isPerspectiveMatrix=t=>0!==t[3]||0!==t[7]||0!==t[11]||1!==t[15],t.canUseNearestNeighbor=(t,e)=>{for(let n=0;n<3;n++){let r;for(r=0;r<3&&0===t[4*r+n];r++);if(r>=3)return!1;let o=t[4*r+n],i=t[12+n];e[2*r]===e[2*r+1]&&(i+=o*e[2*n],o=0);const a=h(o).error,s=h(i).error;if(0!==a||0!==s)return!1}return!0}}(t,e)}var R={newInstance:o.m.newInstance(_,"vtkImageReslice"),extend:_,...M}},94614:(t,e,n)=>{n.d(e,{S_:()=>T});var r=n(76805),o=n(80107),i=n(84067),a=n(25539),s=n(43001),l=(n(8339),"object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()});function c(t){cancelAnimationFrame(t.id)}function u(t,e){var n=l();var r={id:requestAnimationFrame(function o(){l()-n>=e?t.call(null):r.id=requestAnimationFrame(o)})};return r}var f=-1;function d(t){if(void 0===t&&(t=!1),-1===f||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(e),f=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return f}var p=null;function m(t){if(void 0===t&&(t=!1),null===p||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),o=r.style;return o.width="100px",o.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?p="positive-descending":(e.scrollLeft=1,p=0===e.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(e),p}return p}var g=function(t,e){return t};function h(t){var e,n=t.getItemOffset,l=t.getEstimatedTotalSize,f=t.getItemSize,p=t.getOffsetForIndexAndAlignment,h=t.getStartIndexForOffset,b=t.getStopIndexForStartIndex,v=t.initInstanceProps,I=t.shouldResetStyleCacheOnItemSizeChange,A=t.validateProps;return e=function(t){function e(e){var r;return(r=t.call(this,e)||this)._instanceProps=v(r.props,(0,o.Z)(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:(0,o.Z)(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=(0,a.Z)(function(t,e,n,o){return r.props.onItemsRendered({overscanStartIndex:t,overscanStopIndex:e,visibleStartIndex:n,visibleStopIndex:o})}),r._callOnScroll=void 0,r._callOnScroll=(0,a.Z)(function(t,e,n){return r.props.onScroll({scrollDirection:t,scrollOffset:e,scrollUpdateWasRequested:n})}),r._getItemStyle=void 0,r._getItemStyle=function(t){var e,o=r.props,i=o.direction,a=o.itemSize,s=o.layout,l=r._getItemStyleCache(I&&a,I&&s,I&&i);if(l.hasOwnProperty(t))e=l[t];else{var c=n(r.props,t,r._instanceProps),u=f(r.props,t,r._instanceProps),d="horizontal"===i||"horizontal"===s,p="rtl"===i,m=d?c:0;l[t]=e={position:"absolute",left:p?void 0:m,right:p?m:void 0,top:d?0:c,height:d?"100%":u,width:d?u:"100%"}}return e},r._getItemStyleCache=void 0,r._getItemStyleCache=(0,a.Z)(function(t,e,n){return{}}),r._onScrollHorizontal=function(t){var e=t.currentTarget,n=e.clientWidth,o=e.scrollLeft,i=e.scrollWidth;r.setState(function(t){if(t.scrollOffset===o)return null;var e=r.props.direction,a=o;if("rtl"===e)switch(m()){case"negative":a=-o;break;case"positive-descending":a=i-n-o}return a=Math.max(0,Math.min(a,i-n)),{isScrolling:!0,scrollDirection:t.scrollOffset<a?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}},r._resetIsScrollingDebounced)},r._onScrollVertical=function(t){var e=t.currentTarget,n=e.clientHeight,o=e.scrollHeight,i=e.scrollTop;r.setState(function(t){if(t.scrollOffset===i)return null;var e=Math.max(0,Math.min(i,o-n));return{isScrolling:!0,scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!1}},r._resetIsScrollingDebounced)},r._outerRefSetter=function(t){var e=r.props.outerRef;r._outerRef=t,"function"==typeof e?e(t):null!=e&&"object"==typeof e&&e.hasOwnProperty("current")&&(e.current=t)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&c(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=u(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},function(){r._getItemStyleCache(-1,null)})},r}(0,i.Z)(e,t),e.getDerivedStateFromProps=function(t,e){return y(t,e),A(t),null};var T=e.prototype;return T.scrollTo=function(t){t=Math.max(0,t),this.setState(function(e){return e.scrollOffset===t?null:{scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},T.scrollToItem=function(t,e){void 0===e&&(e="auto");var n=this.props,r=n.itemCount,o=n.layout,i=this.state.scrollOffset;t=Math.max(0,Math.min(t,r-1));var a=0;if(this._outerRef){var s=this._outerRef;a="vertical"===o?s.scrollWidth>s.clientWidth?d():0:s.scrollHeight>s.clientHeight?d():0}this.scrollTo(p(this.props,t,e,i,this._instanceProps,a))},T.componentDidMount=function(){var t=this.props,e=t.direction,n=t.initialScrollOffset,r=t.layout;if("number"==typeof n&&null!=this._outerRef){var o=this._outerRef;"horizontal"===e||"horizontal"===r?o.scrollLeft=n:o.scrollTop=n}this._callPropsCallbacks()},T.componentDidUpdate=function(){var t=this.props,e=t.direction,n=t.layout,r=this.state,o=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var i=this._outerRef;if("horizontal"===e||"horizontal"===n)if("rtl"===e)switch(m()){case"negative":i.scrollLeft=-o;break;case"positive-ascending":i.scrollLeft=o;break;default:var a=i.clientWidth,s=i.scrollWidth;i.scrollLeft=s-a-o}else i.scrollLeft=o;else i.scrollTop=o}this._callPropsCallbacks()},T.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&c(this._resetIsScrollingTimeoutId)},T.render=function(){var t=this.props,e=t.children,n=t.className,o=t.direction,i=t.height,a=t.innerRef,c=t.innerElementType,u=t.innerTagName,f=t.itemCount,d=t.itemData,p=t.itemKey,m=void 0===p?g:p,h=t.layout,y=t.outerElementType,b=t.outerTagName,v=t.style,I=t.useIsScrolling,A=t.width,T=this.state.isScrolling,E="horizontal"===o||"horizontal"===h,P=E?this._onScrollHorizontal:this._onScrollVertical,C=this._getRangeToRender(),x=C[0],O=C[1],S=[];if(f>0)for(var N=x;N<=O;N++)S.push((0,s.createElement)(e,{data:d,key:m(N,d),index:N,isScrolling:I?T:void 0,style:this._getItemStyle(N)}));var w=l(this.props,this._instanceProps);return(0,s.createElement)(y||b||"div",{className:n,onScroll:P,ref:this._outerRefSetter,style:(0,r.Z)({position:"relative",height:i,width:A,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:o},v)},(0,s.createElement)(c||u||"div",{children:S,ref:a,style:{height:E?"100%":w,pointerEvents:T?"none":void 0,width:E?w:"100%"}}))},T._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var t=this._getRangeToRender(),e=t[0],n=t[1],r=t[2],o=t[3];this._callOnItemsRendered(e,n,r,o)}if("function"==typeof this.props.onScroll){var i=this.state,a=i.scrollDirection,s=i.scrollOffset,l=i.scrollUpdateWasRequested;this._callOnScroll(a,s,l)}},T._getRangeToRender=function(){var t=this.props,e=t.itemCount,n=t.overscanCount,r=this.state,o=r.isScrolling,i=r.scrollDirection,a=r.scrollOffset;if(0===e)return[0,0,0,0];var s=h(this.props,a,this._instanceProps),l=b(this.props,s,a,this._instanceProps),c=o&&"backward"!==i?1:Math.max(1,n),u=o&&"forward"!==i?1:Math.max(1,n);return[Math.max(0,s-c),Math.max(0,Math.min(e-1,l+u)),s,l]},e}(s.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var y=function(t,e){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,e.instance},b=function(t,e,n){var r=t.itemSize,o=n.itemMetadataMap,i=n.lastMeasuredIndex;if(e>i){var a=0;if(i>=0){var s=o[i];a=s.offset+s.size}for(var l=i+1;l<=e;l++){var c=r(l);o[l]={offset:a,size:c},a+=c}n.lastMeasuredIndex=e}return o[e]},v=function(t,e,n,r,o){for(;r<=n;){var i=r+Math.floor((n-r)/2),a=b(t,i,e).offset;if(a===o)return i;a<o?r=i+1:a>o&&(n=i-1)}return r>0?r-1:0},I=function(t,e,n,r){for(var o=t.itemCount,i=1;n<o&&b(t,n,e).offset<r;)n+=i,i*=2;return v(t,e,Math.min(n,o-1),Math.floor(n/2),r)},A=function(t,e){var n=t.itemCount,r=e.itemMetadataMap,o=e.estimatedItemSize,i=e.lastMeasuredIndex,a=0;if(i>=n&&(i=n-1),i>=0){var s=r[i];a=s.offset+s.size}return a+(n-i-1)*o},T=h({getItemOffset:function(t,e,n){return b(t,e,n).offset},getItemSize:function(t,e,n){return n.itemMetadataMap[e].size},getEstimatedTotalSize:A,getOffsetForIndexAndAlignment:function(t,e,n,r,o,i){var a=t.direction,s=t.height,l=t.layout,c=t.width,u="horizontal"===a||"horizontal"===l?c:s,f=b(t,e,o),d=A(t,o),p=Math.max(0,Math.min(d-u,f.offset)),m=Math.max(0,f.offset-u+f.size+i);switch("smart"===n&&(n=r>=m-u&&r<=p+u?"auto":"center"),n){case"start":return p;case"end":return m;case"center":return Math.round(m+(p-m)/2);default:return r>=m&&r<=p?r:r<m?m:p}},getStartIndexForOffset:function(t,e,n){return function(t,e,n){var r=e.itemMetadataMap,o=e.lastMeasuredIndex;return(o>0?r[o].offset:0)>=n?v(t,e,o,0,n):I(t,e,Math.max(0,o),n)}(t,n,e)},getStopIndexForStartIndex:function(t,e,n,r){for(var o=t.direction,i=t.height,a=t.itemCount,s=t.layout,l=t.width,c="horizontal"===o||"horizontal"===s?l:i,u=b(t,e,r),f=n+c,d=u.offset+u.size,p=e;p<a-1&&d<f;)p++,d+=b(t,p,r).size;return p},initInstanceProps:function(t,e){var n={itemMetadataMap:{},estimatedItemSize:t.estimatedItemSize||50,lastMeasuredIndex:-1};return e.resetAfterIndex=function(t,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,t-1),e._getItemStyleCache(-1),r&&e.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}})},90765:(t,e,n)=>{n.d(e,{ZP:()=>h});var r=n(55068),o=n(55367),i=n(22659);const{vtkErrorMacro:a}=o.c,{DefaultDataType:s}=r.default;function l(t,e,n){const r=t.length;let o,i,a=Number.MAX_VALUE,s=-Number.MAX_VALUE;for(i=e;i<r;i+=n)if(!Number.isNaN(t[i])){a=t[i],s=a;break}for(;i<r;i+=n)o=t[i],o<a?a=o:o>s&&(s=o);return{min:a,max:s}}function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e<0&&n>1){const e=t.length/n,r=new Float64Array(e);for(let o=0,i=0;o<e;++o){for(let e=i+n;i<e;++i)r[o]+=t[i]*t[i];r[o]**=.5}return l(r,0,1)}return l(t,e<0?0:e,n)}function u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=t||[];for(;n.length<=e;)n.push(null);return n}function f(t){return Object.prototype.toString.call(t).slice(8,-1)}const d={computeRange:c,createRangeHelper:function(){let t=Number.MAX_VALUE,e=-Number.MAX_VALUE,n=0,r=0;return{add(o){t>o&&(t=o),e<o&&(e=o),n++,r+=o},get:()=>({min:t,max:e,count:n,sum:r,mean:r/n}),getRange:()=>({min:t,max:e})}},fastComputeRange:l,getDataType:f,getMaxNorm:function(t){const e=t.getNumberOfComponents();let n=0;const r=new Array(e);for(let o=0;o<t.getNumberOfTuples();++o){t.getTuple(o,r);const a=(0,i.n)(r,e);a>n&&(n=a)}return n}};const p={name:"",numberOfComponents:1,dataType:s,rangeTuple:[0,0]};function m(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object.assign(e,p,n),Array.isArray(n.values)&&void 0===n.dataType&&console.warn("vtkDataArray.newInstance: no dataType provided, converting to Float32Array"),!e.empty&&!e.values&&!e.size)throw new TypeError("Cannot create vtkDataArray object without: size > 0, values");if(e.values?Array.isArray(e.values)&&(e.values=(0,o.b)(e.dataType,e.values)):e.values=(0,o.a)(e.dataType,e.size),e.values&&(e.size=e.size??e.values.length,e.dataType=f(e.values)),(0,o.o)(t,e),(0,o.s)(t,e,["name","numberOfComponents"]),e.size%e.numberOfComponents!==0)throw new RangeError("model.size is not a multiple of model.numberOfComponents");!function(t,e){function n(n){if(n<0)return!1;const r=t.getNumberOfComponents(),i=e.values.length/(r>0?r:1);if(n===i)return!0;if(n>i){const t=e.values;return e.values=(0,o.a)(e.dataType,(n+i)*r),e.values.set(t),!0}return e.size>n*r&&(e.size=n*r,t.dataChange()),!0}e.classHierarchy.push("vtkDataArray"),t.dataChange=()=>{e.ranges=null,t.modified()},t.allocate=e=>{n(t.getNumberOfTuples()+e)},t.resize=r=>{n(r);const o=r*t.getNumberOfComponents();return e.size!==o&&(e.size=o,t.dataChange(),!0)},t.initialize=()=>(t.resize(0),t),t.getElementComponentSize=()=>e.values.BYTES_PER_ELEMENT,t.getComponent=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.values[t*e.numberOfComponents+n]},t.setComponent=(n,r,o)=>{o!==e.values[n*e.numberOfComponents+r]&&(e.values[n*e.numberOfComponents+r]=o,t.dataChange())},t.getValue=n=>{const r=n/e.numberOfComponents,o=n%e.numberOfComponents;return t.getComponent(r,o)},t.setValue=(n,r)=>{const o=n/e.numberOfComponents,i=n%e.numberOfComponents;t.setComponent(o,i,r)},t.getData=()=>e.size===e.values.length?e.values:e.values.subarray(0,e.size),t.getRange=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=n;r<0&&(r=1===e.numberOfComponents?0:e.numberOfComponents);let o=null;return e.ranges||(e.ranges=u(e.ranges,e.numberOfComponents)),o=e.ranges[r],o?(e.rangeTuple[0]=o.min,e.rangeTuple[1]=o.max,e.rangeTuple):(o=c(t.getData(),n,e.numberOfComponents),e.ranges[r]=o,e.rangeTuple[0]=o.min,e.rangeTuple[1]=o.max,e.rangeTuple)},t.setRange=(t,n)=>{e.ranges||(e.ranges=u(e.ranges,e.numberOfComponents));const r={min:t.min,max:t.max};return e.ranges[n]=r,e.rangeTuple[0]=r.min,e.rangeTuple[1]=r.max,e.rangeTuple},t.getRanges=function(){if(arguments.length>0&&void 0!==arguments[0]&&!arguments[0])return structuredClone(e.ranges);const n=[];for(let r=0;r<e.numberOfComponents;r++){const[e,o]=t.getRange(r),i={min:e,max:o};n.push(i)}if(e.numberOfComponents>1){const[e,r]=t.getRange(-1),o={min:e,max:r};n.push(o)}return n},t.setTuple=(t,n)=>{const r=t*e.numberOfComponents;for(let t=0;t<e.numberOfComponents;t++)e.values[r+t]=n[t]},t.setTuples=(t,n)=>{let r=t*e.numberOfComponents;const o=Math.min(n.length,e.size-r);for(let t=0;t<o;)e.values[r++]=n[t++]},t.insertTuple=(r,o)=>(e.size<=r*e.numberOfComponents&&(e.size=(r+1)*e.numberOfComponents,n(r+1)),t.setTuple(r,o),r),t.insertTuples=(r,o)=>{const i=r+o.length/e.numberOfComponents;return e.size<i*e.numberOfComponents&&(e.size=i*e.numberOfComponents,n(i)),t.setTuples(r,o),i},t.insertNextTuple=n=>{const r=e.size/e.numberOfComponents;return t.insertTuple(r,n)},t.insertNextTuples=n=>{const r=e.size/e.numberOfComponents;return t.insertTuples(r,n)},t.findTuple=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-6;for(let r=0;r<e.size;r+=e.numberOfComponents)if(Math.abs(t[0]-e.values[r])<=n){let o=!0;for(let i=1;i<e.numberOfComponents;++i)if(Math.abs(t[i]-e.values[r+i])>n){o=!1;break}if(o)return r/e.numberOfComponents}return-1},t.getTuple=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=e.numberOfComponents||1,o=t*r;switch(r){case 4:n[3]=e.values[o+3];case 3:n[2]=e.values[o+2];case 2:n[1]=e.values[o+1];case 1:n[0]=e.values[o];break;default:for(let t=r-1;t>=0;--t)n[t]=e.values[o+t]}return n},t.getTuples=(n,r)=>{const o=(n??0)*e.numberOfComponents,i=(r??t.getNumberOfTuples())*e.numberOfComponents,a=t.getData().subarray(o,i);return a.length>0?a:null},t.getTupleLocation=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*e.numberOfComponents},t.getNumberOfComponents=()=>e.numberOfComponents,t.getNumberOfValues=()=>e.size,t.getNumberOfTuples=()=>e.size/e.numberOfComponents,t.getDataType=()=>e.dataType,t.newClone=()=>g({empty:!0,name:e.name,dataType:e.dataType,numberOfComponents:e.numberOfComponents}),t.getName=()=>(e.name||(t.modified(),e.name=`vtkDataArray${t.getMTime()}`),e.name),t.setData=(n,r)=>{e.values=n,e.size=n.length,e.dataType=f(n),r&&(e.numberOfComponents=r),e.size%e.numberOfComponents!==0&&(e.numberOfComponents=1),t.dataChange()},t.getState=()=>{if(e.deleted)return null;const n={...e,vtkClass:t.getClassName()};n.values=Array.from(n.values),delete n.buffer,Object.keys(n).forEach(t=>{n[t]||delete n[t]});const r={};return Object.keys(n).sort().forEach(t=>{r[t]=n[t]}),r.mtime&&delete r.mtime,r},t.deepCopy=n=>{const r=t.getDataType(),o=e.values;t.shallowCopy(n),e.ranges=structuredClone(n.getRanges()),o?.length>=n.getNumberOfValues()&&r===n.getDataType()?(o.set(n.getData()),e.values=o,t.dataChange()):t.setData(n.getData().slice())},t.interpolateTuple=(n,r,o,i,s,l)=>{const c=e.numberOfComponents||1;c===r.getNumberOfComponents()&&c===i.getNumberOfComponents()||a("numberOfComponents must match");const u=r.getTuple(o),f=i.getTuple(s),d=[];switch(d.length=c,c){case 4:d[3]=u[3]+(f[3]-u[3])*l;case 3:d[2]=u[2]+(f[2]-u[2])*l;case 2:d[1]=u[1]+(f[1]-u[1])*l;case 1:d[0]=u[0]+(f[0]-u[0])*l;break;default:for(let t=0;t<c;t++)d[t]=u[t]+(f[t]-u[t])*l}return t.insertTuple(n,d)}}(t,e)}const g=(0,o.n)(m,"vtkDataArray");var h={newInstance:g,extend:m,...d,...r.default}},55068:(t,e,n)=>{n.d(e,{Tu:()=>o,Xe:()=>r,default:()=>i});const r={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},o={VOID:"",CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",UNSIGNED_CHAR_CLAMPED:"Uint8ClampedArray",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"};var i={DefaultDataType:o.FLOAT,DataTypeByteSize:r,VtkDataTypes:o}},1553:(t,e,n)=>{n.d(e,{B0:()=>a,Ib:()=>i,Wd:()=>r,qt:()=>o});const r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o=[1,0,0,0,1,0,0,0,1],i=1e-6,a=1e-12},22659:(t,e,n)=>{n.d(e,{a:()=>gt,b:()=>he,d:()=>$,f:()=>Q,g:()=>Mt,j:()=>j,k:()=>R,l:()=>K,m:()=>B,n:()=>H,o:()=>ot,p:()=>Dt,s:()=>F,u:()=>Kt});var r=n(53775),o=n(55367),i=n(1553);const{vtkErrorMacro:a,vtkWarningMacro:s}=o.m;let l=0;function c(t){return()=>a(`vtkMath::${t} - NOT IMPLEMENTED`)}function u(t,e,n,r){let o;for(let i=0;i<e;i++)o=t[n*e+i],t[n*e+i]=t[r*e+i],t[r*e+i]=o}function f(t,e,n,r){let o;for(let i=0;i<e;i++)o=t[i*e+n],t[i*e+n]=t[i*e+r],t[i*e+r]=o}function d(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;const e=Array(t);for(let n=0;n<t;++n)e[n]=0;return e}const p=()=>Math.PI;function m(t,e){return e>1023?t*2**1023*2**(e-1023):e<-1074?5e-324*t*2**(e+1074):t*2**e}function g(t){return t/180*Math.PI}function h(t){return 180*t/Math.PI}const{round:y,floor:b,ceil:v,min:I,max:A}=Math;function T(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=1/0;for(let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=t.length;r<o;r+=e)t[r]<n&&(n=t[r]);return n}function E(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=-1/0;for(let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=t.length;r<o;r+=e)n<t[r]&&(n=t[r]);return n}function P(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=1/0,r=-1/0;for(let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t.length;o<i;o+=e)t[o]<n&&(n=t[o]),r<t[o]&&(r=t[o]);return[n,r]}const C=c("ceilLog2"),x=c("factorial");function O(t){let e=1;for(;e<t;)e*=2;return e}function S(t){return t===O(t)}function N(t,e){let n=1;for(let r=1;r<=e;++r)n*=(t-r+1)/r;return Math.floor(n)}function w(t,e){if(t<e)return 0;const n=d(e);for(let t=0;t<e;++t)n[t]=t;return n}function M(t,e,n){let r=0;for(let o=e-1;o>=0;--o)if(n[o]<t-e+o){let t=n[o]+1;for(;o<e;)n[o++]=t++;r=1;break}return r}function D(t){r(`${t}`,{global:!0}),l=t}function k(){return l}function L(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t+((arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)-t)*Math.random()}const _=c("gaussian");function R(t,e,n){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n}function F(t,e,n){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n}function U(t,e){return t[0]*=e,t[1]*=e,t[2]*=e,t}function V(t,e){return t[0]*=e,t[1]*=e,t}function B(t,e,n,r){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r[2]=t[2]+e[2]*n,r}function z(t,e,n,r){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r}function $(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function G(t,e,n){n[0]=t[0]*e[0],n[1]=t[0]*e[1],n[2]=t[0]*e[2],n[3]=t[1]*e[0],n[4]=t[1]*e[1],n[5]=t[1]*e[2],n[6]=t[2]*e[0],n[7]=t[2]*e[1],n[8]=t[2]*e[2]}function j(t,e,n){const r=t[1]*e[2]-t[2]*e[1],o=t[2]*e[0]-t[0]*e[2],i=t[0]*e[1]-t[1]*e[0];return n[0]=r,n[1]=o,n[2]=i,n}function H(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;switch(e){case 1:return Math.abs(t);case 2:return Math.sqrt(t[0]*t[0]+t[1]*t[1]);case 3:return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);default:{let n=0;for(let r=0;r<e;r++)n+=t[r]*t[r];return Math.sqrt(n)}}}function K(t){const e=H(t);return 0!==e&&(t[0]/=e,t[1]/=e,t[2]/=e),e}function W(t,e,n,r){const o=t[0]*t[0],i=t[1]*t[1],a=t[2]*t[2],s=Math.sqrt(o+i+a);let l,c,u;o>i&&o>a?(l=0,c=1,u=2):i>a?(l=1,c=2,u=0):(l=2,c=0,u=1);const f=t[l]/s,d=t[c]/s,p=t[u]/s,m=Math.sqrt(f*f+p*p);if(0!==r){const t=Math.sin(r),o=Math.cos(r);e&&(e[l]=(p*o-f*d*t)/m,e[c]=t*m,e[u]=(-f*o-d*p*t)/m),n&&(n[l]=(-p*t-f*d*o)/m,n[c]=o*m,n[u]=(f*t-d*p*o)/m)}else e&&(e[l]=p/m,e[c]=0,e[u]=-f/m),n&&(n[l]=-f*d/m,n[c]=m,n[u]=-d*p/m)}function X(t,e,n){const r=$(e,e);if(0===r)return n[0]=0,n[1]=0,n[2]=0,!1;const o=$(t,e)/r;for(let t=0;t<3;t++)n[t]=e[t];return U(n,o),!0}function Z(t,e){return t[0]*e[0]+t[1]*e[1]}function Y(t,e,n){const r=Z(e,e);if(0===r)return n[0]=0,n[1]=0,!1;const o=Z(t,e)/r;for(let t=0;t<2;t++)n[t]=e[t];return V(n,o),!0}function Q(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])+(t[2]-e[2])*(t[2]-e[2])}function q(t,e){const n=[0,0,0];return j(t,e,n),Math.atan2(H(n),$(t,e))}function J(t,e,n){const r=Math.abs(t-n);return 1/Math.sqrt(2*Math.PI*e)*Math.exp(-(r**2)/(2*e))}function tt(t,e,n){const r=Math.abs(t-n);return Math.exp(-(r**2)/(2*e))}function et(t,e,n){n[0]=t[0]*e[0],n[1]=t[0]*e[1],n[2]=t[1]*e[0],n[3]=t[1]*e[1]}function nt(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function rt(t){const e=nt(t);return 0!==e&&(t[0]/=e,t[1]/=e),e}function ot(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 2===e.length?e[0][0]*e[1][1]-e[1][0]*e[0][1]:4===e.length?e[0]*e[3]-e[1]*e[2]:Number.NaN}function it(t,e){let n,r,o;const i=[0,0,0];for(let e=0;e<3;e++)o=Math.abs(t[3*e]),(r=Math.abs(t[3*e+1]))>o&&(o=r),(r=Math.abs(t[3*e+2]))>o&&(o=r),i[e]=1/o;o=i[0]*Math.abs(t[0]),n=0,(r=i[1]*Math.abs(t[3]))>=o&&(o=r,n=1),(r=i[2]*Math.abs(t[6]))>=o&&(n=2),0!==n&&(u(t,3,n,0),i[n]=i[0]),e[0]=n,t[3]/=t[0],t[6]/=t[0],t[4]-=t[3]*t[1],t[7]-=t[6]*t[1],o=i[1]*Math.abs(t[4]),n=1,(r=i[2]*Math.abs(t[7]))>=o&&(n=2,u(t,3,1,2),i[2]=i[1]),e[1]=n,t[7]/=t[4],t[5]-=t[3]*t[2],t[8]-=t[6]*t[2]+t[7]*t[5],e[2]=2}function at(t,e,n){let r=n[e[0]];n[e[0]]=n[0],n[0]=r,r=n[e[1]],n[e[1]]=n[1],n[1]=r-t[3]*n[0],r=n[e[2]],n[e[2]]=n[2],n[2]=r-t[6]*n[0]-t[7]*n[1],n[2]/=t[8],n[1]=(n[1]-t[5]*n[2])/t[4],n[0]=(n[0]-t[1]*n[1]-t[2]*n[2])/t[0]}function st(t,e,n){const r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],f=t[8],d=+ot(s,u,l,f),p=-ot(a,c,l,f),m=+ot(a,c,s,u),g=-ot(o,u,i,f),h=+ot(r,c,i,f),y=-ot(r,c,o,u),b=+ot(o,s,i,l),v=-ot(r,a,i,l),I=+ot(r,a,o,s),A=r*d+o*p+i*m,T=d*e[0]+g*e[1]+b*e[2],E=p*e[0]+h*e[1]+v*e[2],P=m*e[0]+y*e[1]+I*e[2];n[0]=T/A,n[1]=E/A,n[2]=P/A}function lt(t,e,n){const r=t[0]*e[0]+t[1]*e[1]+t[2]*e[2],o=t[3]*e[0]+t[4]*e[1]+t[5]*e[2],i=t[6]*e[0]+t[7]*e[1]+t[8]*e[2];n[0]=r,n[1]=o,n[2]=i}function ct(t,e,n){const r=[...t],o=[...e];for(let t=0;t<3;t++)n[t]=r[0]*o[t]+r[1]*o[t+3]+r[2]*o[t+6],n[t+3]=r[3]*o[t]+r[4]*o[t+3]+r[5]*o[t+6],n[t+6]=r[6]*o[t]+r[7]*o[t+3]+r[8]*o[t+6]}function ut(t,e,n,r,o,i,s){r!==o&&a("Number of columns of A must match number of rows of B.");const l=[...t],c=[...e];for(let t=0;t<n;t++)for(let e=0;e<i;e++){s[t*i+e]=0;for(let n=0;n<r;n++)s[t*i+e]+=l[t*r+n]*c[e+i*n]}}function ft(t,e){let n;n=t[3],e[3]=t[1],e[1]=n,n=t[6],e[6]=t[2],e[2]=n,n=t[7],e[7]=t[5],e[5]=n,e[0]=t[0],e[4]=t[4],e[8]=t[8]}function dt(t,e){const n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],l=t[5],c=t[6],u=t[7],f=t[8],d=+ot(a,u,l,f),p=-ot(i,c,l,f),m=+ot(i,c,a,u),g=-ot(r,u,o,f),h=+ot(n,c,o,f),y=-ot(n,c,r,u),b=+ot(r,a,o,l),v=-ot(n,i,o,l),I=+ot(n,i,r,a),A=n*d+r*p+o*m;0===A&&s("Matrix has 0 determinant"),e[0]=d/A,e[3]=p/A,e[6]=m/A,e[1]=g/A,e[4]=h/A,e[7]=y/A,e[2]=b/A,e[5]=v/A,e[8]=I/A}function pt(t){return t[0]*t[4]*t[8]+t[3]*t[7]*t[2]+t[6]*t[1]*t[5]-t[0]*t[7]*t[5]-t[3]*t[1]*t[8]-t[6]*t[4]*t[2]}function mt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Ib;if(t.length!==e.length)return!1;return t.every(function(t,r){return Math.abs(t-e[r])<=n})}const gt=mt;function ht(t){for(let e=0;e<3;e++)t[3*e]=t[3*e+1]=t[3*e+2]=0,t[3*e+e]=1}function yt(t,e){for(let n=0;n<t;n++){for(let r=0;r<t;r++)e[n*t+r]=0;e[n*t+n]=1}return e}function bt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Ib;return gt(t,i.Wd,e)}function vt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Ib;return gt(t,i.qt,e)}function It(t,e){const n=t[0]*t[0],r=t[0]*t[1],o=t[0]*t[2],i=t[0]*t[3],a=t[1]*t[1],s=t[2]*t[2],l=t[3]*t[3],c=t[1]*t[2],u=t[1]*t[3],f=t[2]*t[3],d=a+s+l;let p=1/(n+d);const m=(n-d)*p;p*=2,e[0]=a*p+m,e[3]=(c+i)*p,e[6]=(u-o)*p,e[1]=(c-i)*p,e[4]=s*p+m,e[7]=(f+r)*p,e[2]=(u+o)*p,e[5]=(f-r)*p,e[8]=l*p+m}function At(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!`${t}`.includes("e"))return+`${Math.round(`${t}e+${e}`)}e-${e}`;const n=`${t}`.split("e");let r="";return+n[1]+e>0&&(r="+"),+`${Math.round(`${+n[0]}e${r}${+n[1]+e}`)}e-${e}`}function Tt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e[0]=At(t[0],n),e[1]=At(t[1],n),e[2]=At(t[2],n),e}function Et(t,e,n,r){let o,a,l,c,u,p,m,g,h,y,b,v,I,A,T,E;const P=d(e),C=d(e),x=(t,e,n)=>{A=t[e],I=t[n],t[e]=A-v*(I+A*y),t[n]=I+v*(A-I*y)};for(yt(e,r),u=0;u<e;u++)P[u]=n[u]=t[u+u*e],C[u]=0;for(o=0;o<20;o++){for(b=0,u=0;u<e-1;u++)for(c=u+1;c<e;c++)b+=Math.abs(t[u*e+c]);if(0===b)break;for(m=o<3?.2*b/(e*e):0,u=0;u<e-1;u++)for(c=u+1;c<e;c++)if(A=100*Math.abs(t[u*e+c]),o>3&&Math.abs(n[u])+A===Math.abs(n[u])&&Math.abs(n[c])+A===Math.abs(n[c]))t[u*e+c]=0;else if(Math.abs(t[u*e+c])>m){for(I=n[c]-n[u],Math.abs(I)+A===Math.abs(I)?h=t[u*e+c]/I:(g=.5*I/t[u*e+c],h=1/(Math.abs(g)+Math.sqrt(1+g*g)),g<0&&(h=-h)),T=1/Math.sqrt(1+h*h),v=h*T,y=v/(1+T),I=h*t[u*e+c],C[u]-=I,C[c]+=I,n[u]-=I,n[c]+=I,t[u*e+c]=0,a=0;a<=u-1;a++)x(t,a*e+u,a*e+c);for(a=u+1;a<=c-1;a++)x(t,u*e+a,a*e+c);for(a=c+1;a<e;a++)x(t,u*e+a,c*e+a);for(a=0;a<e;a++)x(r,a*e+u,a*e+c)}for(u=0;u<e;u++)P[u]+=C[u],n[u]=P[u],C[u]=0}if(o>=20)return s("vtkMath::Jacobi: Error extracting eigenfunctions"),0;for(a=0;a<e-1;a++){for(l=a,E=n[l],o=a+1;o<e;o++)(n[o]>=E||Math.abs(n[o]-E)<i.B0)&&(l=o,E=n[l]);l!==a&&(n[l]=n[a],n[a]=E,f(r,e,a,l))}const O=(e>>1)+(1&e);for(p=0,o=0;o<e*e;o++)r[o]>=0&&p++;if(p<O)for(o=0;o<e;o++)r[o*e+a]*=-1;return 1}function Pt(t,e){const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];n[0]=t[0]+t[4]+t[8],n[5]=t[0]-t[4]-t[8],n[10]=-t[0]+t[4]-t[8],n[15]=-t[0]-t[4]+t[8],n[1]=n[4]=t[7]-t[5],n[2]=n[8]=t[2]-t[6],n[3]=n[12]=t[3]-t[1],n[6]=n[9]=t[3]+t[1],n[7]=n[13]=t[2]+t[6],n[11]=n[14]=t[7]+t[5];const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];Et([...n],4,[0,0,0,0],r),e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12]}function Ct(t,e,n){const r=t[0]*e[0],o=t[0]*e[1],i=t[0]*e[2],a=t[0]*e[3],s=t[1]*e[0],l=t[1]*e[1],c=t[1]*e[2],u=t[1]*e[3],f=t[2]*e[0],d=t[2]*e[1],p=t[2]*e[2],m=t[2]*e[3],g=t[3]*e[0],h=t[3]*e[1],y=t[3]*e[2],b=t[3]*e[3];n[0]=r-l-p-b,n[1]=o+s+m-y,n[2]=i-u+f+h,n[3]=a+c-d+g}function xt(t,e){for(let n=0;n<9;n++)e[n]=t[n];const n=d(3),r=d(3);let o;for(let t=0;t<3;t++){const r=Math.abs(e[3*t]),i=Math.abs(e[3*t+1]),a=Math.abs(e[3*t+2]);o=i>r?i:r,o=a>o?a:o,n[t]=1,0!==o&&(n[t]/=o)}const i=Math.abs(e[0])*n[0],a=Math.abs(e[3])*n[1],s=Math.abs(e[6])*n[2];r[0]=0,o=i,a>=o&&(o=a,r[0]=1),s>=o&&(r[0]=2),0!==r[0]&&(f(e,3,r[0],0),n[r[0]]=n[0]);const l=Math.abs(e[4])*n[1],c=Math.abs(e[7])*n[2];r[1]=1,o=l,c>=o&&(r[1]=2,f(e,3,1,2)),r[2]=2;let u=0;if(pt(e)<0){u=1;for(let t=0;t<9;t++)e[t]=-e[t]}const p=d(4);if(Pt(e,p),It(p,e),u)for(let t=0;t<9;t++)e[t]=-e[t];1!==r[1]&&f(e,3,r[1],1),0!==r[0]&&f(e,3,r[0],0)}function Ot(t,e,n){let r,o,i,a,s,l;if(Et([...t],3,e,n),e[0]!==e[1]||e[0]!==e[2]){for(ft(n,n),r=0;r<3;r++)if(e[(r+1)%3]===e[(r+2)%3]){for(l=Math.abs(n[3*r]),a=0,o=1;o<3;o++)l<(s=Math.abs(n[3*r+o]))&&(l=s,a=o);a!==r&&(s=e[a],e[a]=e[r],e[r]=s,u(n,3,r,a)),n[3*a+a]<0&&(n[3*a]=-n[3*a],n[3*a+1]=-n[3*a+1],n[3*a+2]=-n[3*a+2]),o=(a+1)%3,i=(a+2)%3,n[3*o]=0,n[3*o+1]=0,n[3*o+2]=0,n[3*o+o]=1;const t=j([n[3*a],n[3*a+1],n[3*a+2]],[n[3*o],n[3*o+1],n[3*o+2]],[]);K(t);const c=j(t,[n[3*a],n[3*a+1],n[3*a+2]],[]);for(let e=0;e<3;e++)n[3*i+e]=t[e],n[3*o+e]=c[e];return void ft(n,n)}for(l=Math.abs(n[0]),a=0,r=1;r<3;r++)l<(s=Math.abs(n[3*r]))&&(l=s,a=r);if(0!==a){const t=e[a];e[a]=e[0],e[0]=t,u(n,3,a,0)}if(Math.abs(n[4])<Math.abs(n[7])){const t=e[2];e[2]=e[1],e[1]=t,u(n,3,1,2)}for(r=0;r<2;r++)n[3*r+r]<0&&(n[3*r]=-n[3*r],n[3*r+1]=-n[3*r+1],n[3*r+2]=-n[3*r+2]);pt(n)<0&&(n[6]=-n[6],n[7]=-n[7],n[8]=-n[8]),ft(n,n)}else ht(n)}function St(t,e,n,r){let o;const i=[...t],a=pt(i);if(a<0)for(o=0;o<9;o++)i[o]=-i[o];xt(i,e),ft(i,i),ct(i,e,r),Ot(r,n,r),ct(e,r,e),ft(r,r),a<0&&(n[0]=-n[0],n[1]=-n[1],n[2]=-n[2])}function Nt(t,e,n){let r,o,a,l,c,u,f,p=0;const m=d(n);for(r=0;r<n;r++){for(l=0,o=0;o<n;o++)(f=Math.abs(t[r*n+o]))>l&&(l=f);if(0===l)return s("Unable to factor linear system"),0;m[r]=1/l}for(o=0;o<n;o++){for(r=0;r<o;r++){for(c=t[r*n+o],a=0;a<r;a++)c-=t[r*n+a]*t[a*n+o];t[r*n+o]=c}for(l=0,r=o;r<n;r++){for(c=t[r*n+o],a=0;a<o;a++)c-=t[r*n+a]*t[a*n+o];t[r*n+o]=c,(u=m[r]*Math.abs(c))>=l&&(l=u,p=r)}if(o!==p){for(a=0;a<n;a++)u=t[p*n+a],t[p*n+a]=t[o*n+a],t[o*n+a]=u;m[p]=m[o]}if(e[o]=p,Math.abs(t[o*n+o])<=i.B0)return s("Unable to factor linear system"),0;if(o!==n-1)for(u=1/t[o*n+o],r=o+1;r<n;r++)t[r*n+o]*=u}return 1}function wt(t,e,n,r){let o,i,a,s,l;for(a=-1,o=0;o<r;o++){if(s=e[o],l=n[s],n[s]=n[o],a>=0)for(i=a;i<=o-1;i++)l-=t[o*r+i]*n[i];else 0!==l&&(a=o);n[o]=l}for(o=r-1;o>=0;o--){for(l=n[o],i=o+1;i<r;i++)l-=t[o*r+i]*n[i];n[o]=l/t[o*r+o]}}function Mt(t,e,n){if(2===n){const n=d(2),r=ot(t[0],t[1],t[2],t[3]);return 0===r?0:(n[0]=(t[3]*e[0]-t[1]*e[1])/r,n[1]=(-t[2]*e[0]+t[0]*e[1])/r,e[0]=n[0],e[1]=n[1],1)}if(1===n)return 0===t[0]?0:(e[0]/=t[0],1);const r=d(n);return 0===Nt(t,r,n)?0:(wt(t,r,e,n),1)}function Dt(t,e,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const o=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)||d(n),i=r||d(n);if(0===Nt(t,o,n))return null;for(let r=0;r<n;r++){for(let t=0;t<n;t++)i[t]=0;i[r]=1,wt(t,o,i,n);for(let t=0;t<n;t++)e[t*n+r]=i[t]}return e}function kt(t,e){let n=+Number.MAX_VALUE,r=-Number.MAX_VALUE;for(let n=0;n<e;n++)for(let o=n;o<e;o++)Math.abs(t[n*e+o])>r&&(r=Math.abs(t[n*e+o]));for(let r=0;r<e;r++)Math.abs(t[r*e+r])<n&&(n=Math.abs(t[r*e+r]));return 0===n?Number.MAX_VALUE:r/n}function Lt(t,e,n){return Et(t,3,e,n)}function _t(t,e,n,r){if(t<n)return s("Insufficient number of samples. Underdetermined."),0;let o,i,a;const l=d(n*n),c=d(n),u=d(n*n);for(a=0;a<t;a++)for(o=0;o<n;o++)for(i=o;i<n;i++)l[o*n+i]+=e[a*n+o]*e[a*n+i];for(o=0;o<n;o++)for(i=0;i<o;i++)l[o*n+i]=l[i*n+o];for(Et(l,n,c,u),o=0;o<n;o++)r[o]=u[o*n+n-1];return 1}function Rt(t,e,n,r,o,a){let l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];if(t<n||t<o)return s("Insufficient number of samples. Underdetermined."),0;const c=d(o);let u,f,p,m,g=1,h=0,y=0;if(l){for(p=0;p<o;p++)c[p]=1;for(f=0;f<t;f++)for(p=0;p<o;p++)Math.abs(r[f*o+p])>i.B0&&(g=0,c[p]=0);if(g&&1===o)return s("Detected homogeneous system (Y=0), calling SolveHomogeneousLeastSquares()"),_t(t,e,n,a);if(g)y=1;else for(p=0;p<o;p++)c[p]&&(y=1)}y&&(u=d(n),h=_t(t,e,n,u));const b=d(n*n),v=d(n*n),I=d(n*o);for(m=0;m<t;m++)for(f=0;f<n;f++){for(p=f;p<n;p++)b[f*n+p]+=e[m*n+f]*e[m*n+p];for(p=0;p<o;p++)I[f*o+p]+=e[m*n+f]*r[m*o+p]}for(f=0;f<n;f++)for(p=0;p<f;p++)b[f*n+p]=b[p*n+f];const A=Dt(b,v,n);if(A)for(f=0;f<n;f++)for(p=0;p<o;p++)for(a[f*o+p]=0,m=0;m<n;m++)a[f*o+p]+=v[f*n+m]*I[m*o+p];if(y)for(p=0;p<o;p++)if(c[p])for(f=0;f<n;f++)a[f*o+p]=u[f*o];return y?h&&A:A}function Ft(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,.5,1];switch(t.length){case 3:return e[0]=17*parseInt(t[0],16)/255,e[1]=17*parseInt(t[1],16)/255,e[2]=17*parseInt(t[2],16)/255,e;case 4:return e[0]=17*parseInt(t[1],16)/255,e[1]=17*parseInt(t[2],16)/255,e[2]=17*parseInt(t[3],16)/255,e;case 6:return e[0]=parseInt(t.substr(0,2),16)/255,e[1]=parseInt(t.substr(2,2),16)/255,e[2]=parseInt(t.substr(4,2),16)/255,e;case 7:return e[0]=parseInt(t.substr(1,2),16)/255,e[1]=parseInt(t.substr(3,2),16)/255,e[2]=parseInt(t.substr(5,2),16)/255,e;case 9:return e[0]=parseInt(t.substr(1,2),16)/255,e[1]=parseInt(t.substr(3,2),16)/255,e[2]=parseInt(t.substr(5,2),16)/255,e[3]=parseInt(t.substr(7,2),16)/255,e;default:return e}}function Ut(t,e){let n,r;const[o,i,a]=t,s=1/6;let l=o,c=o;i>l?l=i:i<c&&(c=i),a>l?l=a:a<c&&(c=a);const u=l;r=u>0?(l-c)/l:0,r>0?(n=o===l?s*(i-a)/(l-c):i===l?1/3+s*(a-o)/(l-c):2/3+s*(o-i)/(l-c),n<0&&(n+=1)):n=0,e[0]=n,e[1]=r,e[2]=u}function Vt(t,e){const[n,r,o]=t,i=1/3,a=1/6,s=2/3,l=5/6;let c,u,f;n>a&&n<=i?(u=1,c=(i-n)/a,f=0):n>i&&n<=.5?(u=1,f=(n-i)/a,c=0):n>.5&&n<=s?(f=1,u=(s-n)/a,c=0):n>s&&n<=l?(f=1,c=(n-s)/a,u=0):n>l&&n<=1?(c=1,f=(1-n)/a,u=0):(c=1,u=n/a,f=0),c=r*c+(1-r),u=r*u+(1-r),f=r*f+(1-r),c*=o,u*=o,f*=o,e[0]=c,e[1]=u,e[2]=f}function Bt(t,e){const[n,r,o]=t;let i=(n+16)/116,a=r/500+i,s=i-o/200;i**3>.008856?i**=3:i=(i-16/116)/7.787,a**3>.008856?a**=3:a=(a-16/116)/7.787,s**3>.008856?s**=3:s=(s-16/116)/7.787;e[0]=.9505*a,e[1]=1*i,e[2]=1.089*s}function zt(t,e){const[n,r,o]=t;let i=n/.9505,a=r/1,s=o/1.089;i>.008856?i**=1/3:i=7.787*i+16/116,a>.008856?a**=1/3:a=7.787*a+16/116,s>.008856?s**=1/3:s=7.787*s+16/116,e[0]=116*a-16,e[1]=500*(i-a),e[2]=200*(a-s)}function $t(t,e){const[n,r,o]=t;let i=3.2406*n+-1.5372*r+-.4986*o,a=-.9689*n+1.8758*r+.0415*o,s=.0557*n+-.204*r+1.057*o;i>.0031308?i=1.055*i**(1/2.4)-.055:i*=12.92,a>.0031308?a=1.055*a**(1/2.4)-.055:a*=12.92,s>.0031308?s=1.055*s**(1/2.4)-.055:s*=12.92;let l=i;l<a&&(l=a),l<s&&(l=s),l>1&&(i/=l,a/=l,s/=l),i<0&&(i=0),a<0&&(a=0),s<0&&(s=0),e[0]=i,e[1]=a,e[2]=s}function Gt(t,e){let[n,r,o]=t;n>.04045?n=((n+.055)/1.055)**2.4:n/=12.92,r>.04045?r=((r+.055)/1.055)**2.4:r/=12.92,o>.04045?o=((o+.055)/1.055)**2.4:o/=12.92,e[0]=.4124*n+.3576*r+.1805*o,e[1]=.2126*n+.7152*r+.0722*o,e[2]=.0193*n+.1192*r+.9505*o}function jt(t,e){const n=[0,0,0];Gt(t,n),zt(n,e)}function Ht(t,e){const n=[0,0,0];Bt(t,n),$t(n,e)}function Kt(t){return t[0]=1,t[1]=-1,t[2]=1,t[3]=-1,t[4]=1,t[5]=-1,t}function Wt(t){return!(t[1]-t[0]<0)}function Xt(t,e,n){return n[0]=Math.min(t[0],e[0]),n[1]=Math.max(t[0],e[0]),n[2]=Math.min(t[1],e[1]),n[3]=Math.max(t[1],e[1]),n[4]=Math.min(t[2],e[2]),n[5]=Math.max(t[2],e[2]),n}function Zt(t,e,n){return t<e?e:t>n?n:t}function Yt(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0,0];return r[0]=Zt(t[0],e[0],n[0]),r[1]=Zt(t[1],e[1],n[1]),r[2]=Zt(t[2],e[2],n[2]),r}function Qt(t,e){let n=0;return e[0]!==e[1]&&(n=t<e[0]?e[0]:t>e[1]?e[1]:t,n=(n-e[0])/(e[1]-e[0])),n}const qt=c("GetScalarTypeFittingRange"),Jt=c("GetAdjustedScalarRange");function te(t,e){if(!t||!e)return 0;for(let n=0;n<6;n+=2)if(t[n]<e[n]||t[n]>e[n+1]||t[n+1]<e[n]||t[n+1]>e[n+1])return 0;return 1}function ee(t,e,n){if(!t||!e)return 0;for(let r=0;r<6;r+=2)if(t[r]+n[r/2]<e[r]||t[r]-n[r/2]>e[r+1]||t[r+1]+n[r/2]<e[r]||t[r+1]-n[r/2]>e[r+1])return 0;return 1}function ne(t,e,n){if(!t||!e||!n)return 0;for(let r=0;r<3;r++)if(t[r]+n[r]<e[2*r]||t[r]-n[r]>e[2*r+1])return 0;return 1}function re(t,e,n,r){const o=d(3),i=d(3),a=d(3),s=d(3),l=d(3),c=d(3);for(let r=0;r<3;++r)o[r]=t[r]-e[r],i[r]=e[r]-n[r],a[r]=n[r]-t[r],s[r]=-o[r],l[r]=-i[r],c[r]=-a[r];const u=H(s),f=H(l),p=H(a),m=d(3);j(o,i,m);const g=H(m),h=u*f*p/(2*g),y=2*g*g,b=f*f*$(o,c)/y,v=p*p*$(s,i)/y,I=u*u*$(a,l)/y;for(let o=0;o<3;++o)r[o]=b*t[o]+v*e[o]+I*n[o];return h}const oe=1/0,ie=-1/0,ae=t=>!Number.isFinite(t),{isFinite:se,isNaN:le}=Number;function ce(){return[].concat([Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE])}function ue(t){let e=-1,n=-1;for(let r=0;r<t.length;r++){const o=Math.abs(t[r]);o>e&&(n=r,e=o)}return n}function fe(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;const n=new Array(e),r=new Array(e);for(let t=0;t<e;++t)n[t]=t,r[t]=t;for(let o=e-1;o>0;o--){let i=-1/0,a=0,s=0;for(let l=0;l<=o;++l){const c=n[l];for(let n=0;n<=o;++n){const o=r[n],u=Math.abs(t[c+e*o]);u>i&&(i=u,a=l,s=n)}}[n[o],n[a]]=[n[a],n[o]],[r[o],r[s]]=[r[s],r[o]]}const o=new Array(e*e).fill(0);for(let i=0;i<e;++i){const a=n[i]+e*r[i];o[a]=t[a]<0?-1:1}return o}function de(t){const e=Math.floor(255*t);return e>15?e.toString(16):`0${e.toString(16)}`}function pe(t){return`${arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#"}${t.map(de).join("")}`}function me(t){return Math.round(255*t)}function ge(t){return 3===t.length?`rgb(${t.map(me).join(", ")})`:`rgba(${me(t[0]||0)}, ${me(t[1]||0)}, ${me(t[2]||0)}, ${t[3]||0})`}var he={Pi:p,ldexp:m,radiansFromDegrees:g,degreesFromRadians:h,round:y,floor:b,ceil:v,ceilLog2:C,min:I,max:A,arrayMin:T,arrayMax:E,arrayRange:P,isPowerOfTwo:S,nearestPowerOfTwo:O,factorial:x,binomial:N,beginCombination:w,nextCombination:M,randomSeed:D,getSeed:k,random:L,gaussian:_,add:R,subtract:F,multiplyScalar:U,multiplyScalar2D:V,multiplyAccumulate:B,multiplyAccumulate2D:z,dot:$,outer:G,cross:j,norm:H,normalize:K,perpendiculars:W,projectVector:X,projectVector2D:Y,distance2BetweenPoints:Q,angleBetweenVectors:q,gaussianAmplitude:J,gaussianWeight:tt,dot2D:Z,outer2D:et,norm2D:nt,normalize2D:rt,determinant2x2:ot,LUFactor3x3:it,LUSolve3x3:at,linearSolve3x3:st,multiply3x3_vect3:lt,multiply3x3_mat3:ct,multiplyMatrix:ut,transpose3x3:ft,invert3x3:dt,identity3x3:ht,identity:yt,isIdentity:bt,isIdentity3x3:vt,determinant3x3:pt,quaternionToMatrix3x3:It,areEquals:mt,areMatricesEqual:gt,roundNumber:At,roundVector:Tt,matrix3x3ToQuaternion:Pt,multiplyQuaternion:Ct,orthogonalize3x3:xt,diagonalize3x3:Ot,singularValueDecomposition3x3:St,solveLinearSystem:Mt,invertMatrix:Dt,luFactorLinearSystem:Nt,luSolveLinearSystem:wt,estimateMatrixCondition:kt,jacobi:Lt,jacobiN:Et,solveHomogeneousLeastSquares:_t,solveLeastSquares:Rt,hex2float:Ft,rgb2hsv:Ut,hsv2rgb:Vt,lab2xyz:Bt,xyz2lab:zt,xyz2rgb:$t,rgb2xyz:Gt,rgb2lab:jt,lab2rgb:Ht,uninitializeBounds:Kt,areBoundsInitialized:Wt,computeBoundsFromPoints:Xt,clampValue:Zt,clampVector:Yt,clampAndNormalizeValue:Qt,getScalarTypeFittingRange:qt,getAdjustedScalarRange:Jt,extentIsWithinOtherExtent:te,boundsIsWithinOtherBounds:ee,pointIsWithinBounds:ne,solve3PointCircle:re,inf:oe,negInf:ie,isInf:ae,isNan:le,isNaN:le,isFinite:se,createUninitializedBounds:ce,getMajorAxisIndex:ue,getSparseOrthogonalMatrix:fe,floatToHex2:de,floatRGB2HexCode:pe,float2CssRGBA:ge}},96413:(t,e,n)=>{n.d(e,{ZP:()=>u});var r=n(55367),o=n(90765),i=n(55068),a=n(22659);const{vtkErrorMacro:s}=r.m;const l={empty:!0,numberOfComponents:3,dataType:i.Tu.FLOAT,bounds:[1,-1,1,-1,1,-1]};function c(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,l,n),o.ZP.extend(t,e,n),r.m.getArray(t,e,["bounds"],6),function(t,e){let n=0;e.classHierarchy.push("vtkPoints"),t.getNumberOfPoints=t.getNumberOfTuples,t.setNumberOfPoints=function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;t.getNumberOfPoints()!==n&&(e.size=n*o,e.values=r.m.newTypedArray(e.dataType,e.size),t.setNumberOfComponents(o),t.modified())},t.setPoint=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.setTuple(e,r)},t.getPoint=t.getTuple,t.findPoint=t.findTuple,t.insertNextPoint=(e,n,r)=>t.insertNextTuple([e,n,r]),t.insertPoint=(e,n)=>t.insertTuple(e,n);const o=t.getBounds;t.getBounds=()=>(n<e.mtime&&t.computeBounds(),o());const i=t.getBoundsByReference;t.getBoundsByReference=()=>(n<e.mtime&&t.computeBounds(),i()),t.computeBounds=()=>{if(3===t.getNumberOfComponents()){const n=t.getRange(0);e.bounds[0]=n[0],e.bounds[1]=n[1];const r=t.getRange(1);e.bounds[2]=r[0],e.bounds[3]=r[1];const o=t.getRange(2);e.bounds[4]=o[0],e.bounds[5]=o[1]}else if(2===t.getNumberOfComponents()){const n=t.getRange(0);e.bounds[0]=n[0],e.bounds[1]=n[1];const r=t.getRange(1);e.bounds[2]=r[0],e.bounds[3]=r[1],e.bounds[4]=0,e.bounds[5]=0}else s(`getBounds called on an array with components of ${t.getNumberOfComponents()}`),(0,a.u)(e.bounds);n=r.m.getCurrentGlobalMTime()},t.setNumberOfComponents(e.numberOfComponents<2?3:e.numberOfComponents)}(t,e)}var u={newInstance:r.m.newInstance(c,"vtkPoints"),extend:c}},31573:(t,e,n)=>{n.d(e,{XJ:()=>r,default:()=>o});const r={DEFAULT:0,SINGLE:1,DOUBLE:2};var o={AttributeCopyOperations:{COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},AttributeLimitTypes:{MAX:0,EXACT:1,NOLIMIT:2},AttributeTypes:{SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},CellGhostTypes:{DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},DesiredOutputPrecision:r,PointGhostTypes:{DUPLICATEPOINT:1,HIDDENPOINT:2},ghostArrayName:"vtkGhostType"}},8101:(t,e,n)=>{n.d(e,{ZP:()=>ze});var r=n(55367),o=n(48975),i=n(90765),a=n(55068);const{isVtkObject:s}=r.m;function l(t){let e=0;return t.filter((t,n)=>n===e&&(e+=t+1,!0))}function c(t){let e=0;for(let n=0;n<t.length;)n+=t[n]+1,e++;return e}const u={extractCellSizes:l,getNumberOfCells:c};function f(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.ZP.extend(t,e,function(t){return{empty:!0,numberOfComponents:1,dataType:a.Tu.UNSIGNED_INT,...t}}(n)),function(t,e){e.classHierarchy.push("vtkCellArray");const n={...t};t.getNumberOfCells=n=>void 0===e.numberOfCells||n?(e.cellSizes?e.numberOfCells=e.cellSizes.length:e.numberOfCells=c(t.getData()),e.numberOfCells):e.numberOfCells,t.getCellSizes=n=>void 0===e.cellSizes||n?(e.cellSizes=l(t.getData()),e.cellSizes):e.cellSizes,t.resize=r=>{const o=t.getNumberOfTuples();n.resize(r);const i=t.getNumberOfTuples();i<o&&(0===i?(e.numberOfCells=0,e.cellSizes=[]):(e.numberOfCells=void 0,e.cellSizes=void 0))},t.setData=t=>{n.setData(t,1),e.numberOfCells=void 0,e.cellSizes=void 0},t.getCell=t=>{let n=t;const r=e.values[n++];return e.values.subarray(n,n+r)},t.insertNextCell=n=>{let r;r=s(n)?n.getPointsIds():n;const o=t.getNumberOfCells();return t.insertNextTuples([r.length,...r]),++e.numberOfCells,null!=e.cellSizes&&e.cellSizes.push(r.length),o},t.getMaxCellSize=()=>t.getCellSizes().reduce((t,e)=>Math.max(t,e),0)}(t,e)}var d={newInstance:r.m.newInstance(f,"vtkCellArray"),extend:f,...u},p=n(22659),m=n(72076);const g={};function h(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,g,n),r.m.obj(t,e),r.m.setGet(t,e,["transform"]),function(t,e){e.classHierarchy.push("vtkImplicitFunction"),t.functionValue=n=>{if(!e.transform)return t.evaluateFunction(n);const r=[];return e.transform.transformPoint(n,r),t.evaluateFunction(r)},t.evaluateFunction=t=>{r.m.vtkErrorMacro("not implemented")}}(t,e)}var y={newInstance:r.m.newInstance(h,"vtkImplicitFunction"),extend:h};const b=1e-6,v="coincide",I="disjoint";function A(t,e,n){const r=n[0]*(t[0]-e[0])+n[1]*(t[1]-e[1])+n[2]*(t[2]-e[2]);return Math.abs(r)}function T(t,e,n,r){const o=[];(0,p.s)(t,e,o);const i=(0,p.d)(n,o);r[0]=t[0]-i*n[0],r[1]=t[1]-i*n[1],r[2]=t[2]-i*n[2]}function E(t,e,n){const r=(0,p.d)(t,e);let o=(0,p.d)(e,e);return 0===o&&(o=1),n[0]=t[0]-r*e[0]/o,n[1]=t[1]-r*e[1]/o,n[2]=t[2]-r*e[2]/o,n}function P(t,e,n,r){const o=[];(0,p.s)(t,e,o);const i=(0,p.d)(n,o),a=(0,p.d)(n,n);0!==a?(r[0]=t[0]-i*n[0]/a,r[1]=t[1]-i*n[1]/a,r[2]=t[2]-i*n[2]/a):(r[0]=t[0],r[1]=t[1],r[2]=t[2])}function C(t,e,n,r){const o={intersection:!1,betweenPoints:!1,t:Number.MAX_VALUE,x:[]},i=[],a=[];(0,p.s)(e,t,i),(0,p.s)(n,t,a);const s=(0,p.d)(r,a),l=(0,p.d)(r,i);let c,u;return c=l<0?-l:l,u=s<0?-s*b:s*b,c<=u||(o.t=s/l,o.x[0]=t[0]+o.t*i[0],o.x[1]=t[1]+o.t*i[1],o.x[2]=t[2]+o.t*i[2],o.intersection=!0,o.betweenPoints=o.t>=0&&o.t<=1),o}function x(t,e,n,r){const o={intersection:!1,l0:[],l1:[],error:null},i=[];(0,p.j)(e,r,i);const a=i.map(t=>Math.abs(t));if(a[0]+a[1]+a[2]<b){const r=[];return(0,p.s)(t,n,r),0===(0,p.d)(e,r)?o.error=v:o.error=I,o}let s;s=a[0]>a[1]&&a[0]>a[2]?"x":a[1]>a[2]?"y":"z";const l=[],c=-(0,p.d)(e,t),u=-(0,p.d)(r,n);switch(s){case"x":l[0]=0,l[1]=(u*e[2]-c*r[2])/i[0],l[2]=(c*r[1]-u*e[1])/i[0];break;case"y":l[0]=(c*r[2]-u*e[2])/i[1],l[1]=0,l[2]=(u*e[0]-c*r[0])/i[1];break;case"z":l[0]=(u*e[1]-c*r[1])/i[2],l[1]=(c*r[0]-u*e[0])/i[2],l[2]=0}return o.l0=l,(0,p.k)(l,i,o.l1),o.intersection=!0,o}const O={evaluate:function(t,e,n){return t[0]*(n[0]-e[0])+t[1]*(n[1]-e[1])+t[2]*(n[2]-e[2])},distanceToPlane:A,projectPoint:T,projectVector:E,generalizedProjectPoint:P,intersectWithLine:C,intersectWithPlane:x,DISJOINT:I,COINCIDE:v};const S={normal:[0,0,1],origin:[0,0,0]};function N(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,S,n),y.extend(t,e,n),r.m.setGetArray(t,e,["normal","origin"],3),function(t,e){e.classHierarchy.push("vtkPlane"),t.distanceToPlane=t=>A(t,e.origin,e.normal),t.projectPoint=(t,n)=>{T(t,e.origin,e.normal,n)},t.projectVector=(t,n)=>E(t,e.normal,n),t.push=t=>{if(0!==t)for(let n=0;n<3;n++)e.origin[n]+=t*e.normal[n]},t.generalizedProjectPoint=(t,n)=>{P(t,e.origin,e.normal,n)},t.evaluateFunction=(t,n,r)=>Array.isArray(t)?e.normal[0]*(t[0]-e.origin[0])+e.normal[1]*(t[1]-e.origin[1])+e.normal[2]*(t[2]-e.origin[2]):e.normal[0]*(t-e.origin[0])+e.normal[1]*(n-e.origin[1])+e.normal[2]*(r-e.origin[2]),t.evaluateGradient=t=>[e.normal[0],e.normal[1],e.normal[2]],t.intersectWithLine=(t,n)=>C(t,n,e.origin,e.normal),t.intersectWithPlane=(t,n)=>x(t,n,e.origin,e.normal)}(t,e)}var w={newInstance:r.m.newInstance(N,"vtkPlane"),extend:N,...O};const M=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];function D(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function k(t){return t?.length>=6&&t[0]<=t[1]&&t[2]<=t[3]&&t[4]<=t[5]}function L(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function _(t){return L(t,M)}function R(t,e,n,r){const[o,i,a,s,l,c]=t;return t[0]=o<e?o:e,t[1]=i>e?i:e,t[2]=a<n?a:n,t[3]=s>n?s:n,t[4]=l<r?l:r,t[5]=c>r?c:r,t}function F(t,e){if(0===e.length)return t;if(Array.isArray(e[0]))for(let n=0;n<e.length;++n)R(t,...e[n]);else for(let n=0;n<e.length;n+=3)R(t,...e.slice(n,n+3));return t}function U(t,e,n,r,o,i,a){const[s,l,c,u,f,d]=t;return void 0===a?(t[0]=Math.min(e[0],s),t[1]=Math.max(e[1],l),t[2]=Math.min(e[2],c),t[3]=Math.max(e[3],u),t[4]=Math.min(e[4],f),t[5]=Math.max(e[5],d)):(t[0]=Math.min(e,s),t[1]=Math.max(n,l),t[2]=Math.min(r,c),t[3]=Math.max(o,u),t[4]=Math.min(i,f),t[5]=Math.max(a,d)),t}function V(t,e,n,r){const[o,i,a,s,l,c]=t;return t[0]=e,t[1]=e>i?e:i,t[2]=n,t[3]=n>s?n:s,t[4]=r,t[5]=r>c?r:c,o!==e||a!==n||l!==r}function B(t,e,n,r){const[o,i,a,s,l,c]=t;return t[0]=e<o?e:o,t[1]=e,t[2]=n<a?n:a,t[3]=n,t[4]=r<l?r:l,t[5]=r,i!==e||s!==n||c!==r}function z(t,e){return null==e?function(t){const e=[0,0,0];let n=-1,r=0,o=0;for(let i=0;i<3;++i)o=t[2*i+1]-t[2*i],o>r&&(r=o,n=i),e[i]=o>0?1:0;if(n<0)return z(t,.5);for(let n=0;n<3;++n)if(!e[n]){const e=.005*r;t[2*n]-=e,t[2*n+1]+=e}return t}(t):(t[0]-=e,t[1]+=e,t[2]-=e,t[3]+=e,t[4]-=e,t[5]+=e,t)}function $(t,e,n,r){return!!k(t)&&(e>=0?(t[0]*=e,t[1]*=e):(t[0]=e*t[1],t[1]=e*t[0]),n>=0?(t[2]*=n,t[3]*=n):(t[2]=n*t[3],t[3]=n*t[2]),r>=0?(t[4]*=r,t[5]*=r):(t[4]=r*t[5],t[5]=r*t[4]),!0)}function G(t){return[.5*(t[0]+t[1]),.5*(t[2]+t[3]),.5*(t[4]+t[5])]}function j(t,e){return t[2*e+1]-t[2*e]}function H(t){return[j(t,0),j(t,1),j(t,2)]}function K(t){return t.slice(0,2)}function W(t){return t.slice(2,4)}function X(t){return t.slice(4,6)}function Z(t){const e=H(t);return e[0]>e[1]?e[0]>e[2]?e[0]:e[2]:e[1]>e[2]?e[1]:e[2]}function Y(t){if(k(t)){const e=H(t);return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]}return null}function Q(t){const e=Y(t);return null!==e?Math.sqrt(e):null}function q(t){return[t[0],t[2],t[4]]}function J(t){return[t[1],t[3],t[5]]}function tt(t,e){return t<=0&&e>=0||t>=0&&e<=0}function et(t,e){return e[0]=[t[0],t[2],t[4]],e[1]=[t[0],t[2],t[5]],e[2]=[t[0],t[3],t[4]],e[3]=[t[0],t[3],t[5]],e[4]=[t[1],t[2],t[4]],e[5]=[t[1],t[2],t[5]],e[6]=[t[1],t[3],t[4]],e[7]=[t[1],t[3],t[5]],e}function nt(t,e,n){return e[0]=t[0],e[1]=t[2],e[2]=t[4],n[0]=t[1],n[1]=t[3],n[2]=t[5],e}function rt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=et(t,[]);for(let t=0;t<r.length;++t)m.R3.transformMat4(r[t],r[t],e);return _(n),F(n,r)}function ot(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[0]=.5*(t[1]-t[0]),e[1]=.5*(t[3]-t[2]),e[2]=.5*(t[5]-t[4]),e}function it(t,e,n,r){const o=[].concat(M),i=t.getData();for(let t=0;t<i.length;t+=3){const a=[i[t],i[t+1],i[t+2]],s=(0,p.d)(a,e);o[0]=Math.min(s,o[0]),o[1]=Math.max(s,o[1]);const l=(0,p.d)(a,n);o[2]=Math.min(l,o[2]),o[3]=Math.max(l,o[3]);const c=(0,p.d)(a,r);o[4]=Math.min(c,o[4]),o[5]=Math.max(c,o[5])}return o}function at(t,e,n,r,o){let i=!0;const a=[];let s=0;const l=[],c=[0,0,0];for(let n=0;n<3;n++)e[n]<t[2*n]?(a[n]=1,c[n]=t[2*n],i=!1):e[n]>t[2*n+1]?(a[n]=0,c[n]=t[2*n+1],i=!1):a[n]=2;if(i)return r[0]=e[0],r[1]=e[1],r[2]=e[2],o[0]=0,1;for(let t=0;t<3;t++)2!==a[t]&&0!==n[t]?l[t]=(c[t]-e[t])/n[t]:l[t]=-1;for(let t=0;t<3;t++)l[s]<l[t]&&(s=t);if(l[s]>1||l[s]<0)return 0;o[0]=l[s];for(let o=0;o<3;o++)if(s!==o){if(r[o]=e[o]+l[s]*n[o],r[o]<t[2*o]||r[o]>t[2*o+1])return 0}else r[o]=c[o];return 1}function st(t,e,n){const r=[];let o=0,i=1,a=1;for(let s=4;s<=5;++s){r[2]=t[s];for(let s=2;s<=3;++s){r[1]=t[s];for(let s=0;s<=1;++s)if(r[0]=t[s],o=w.evaluate(n,e,r),a&&(i=o>=0?1:-1,a=0),0===o||i>0&&o<0||i<0&&o>0)return 1}}return 0}function lt(t,e){if(!k(t)||!k(e))return!1;const n=[0,0,0,0,0,0];let r;for(let o=0;o<3;o++)if(r=!1,e[2*o]>=t[2*o]&&e[2*o]<=t[2*o+1]?(r=!0,n[2*o]=e[2*o]):t[2*o]>=e[2*o]&&t[2*o]<=e[2*o+1]&&(r=!0,n[2*o]=t[2*o]),e[2*o+1]>=t[2*o]&&e[2*o+1]<=t[2*o+1]?(r=!0,n[2*o+1]=e[2*o+1]):t[2*o+1]>=e[2*o]&&t[2*o+1]<=e[2*o+1]&&(r=!0,n[2*o+1]=t[2*o+1]),!r)return!1;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],!0}function ct(t,e){if(!k(t)||!k(e))return!1;for(let n=0;n<3;n++)if(!(e[2*n]>=t[2*n]&&e[2*n]<=t[2*n+1]||t[2*n]>=e[2*n]&&t[2*n]<=e[2*n+1]||e[2*n+1]>=t[2*n]&&e[2*n+1]<=t[2*n+1]||t[2*n+1]>=e[2*n]&&t[2*n+1]<=e[2*n+1]))return!1;return!0}function ut(t,e,n,r){return!(e<t[0]||e>t[1])&&(!(n<t[2]||n>t[3])&&!(r<t[4]||r>t[5]))}function ft(t,e,n){const r=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],o=[0,0,0,0,0,0,0,0];let i=0;for(let r=0;r<2;r++)for(let a=2;a<4;a++)for(let s=4;s<6;s++){const l=[t[r],t[a],t[s]];o[i++]=w.evaluate(n,e,l)}let a=2;for(;a--&&!(tt(o[r[a][0]],o[r[a][4]])&&tt(o[r[a][1]],o[r[a][5]])&&tt(o[r[a][2]],o[r[a][6]])&&tt(o[r[a][3]],o[r[a][7]])););if(a<0)return!1;const s=Math.sign(n[a]),l=Math.abs((t[2*a+1]-t[2*a])*n[a]);let c=s>0?1:0;for(let t=0;t<4;t++){if(0===l)continue;const e=Math.abs(o[r[a][t]])/l;s>0&&e<c&&(c=e),s<0&&e>c&&(c=e)}const u=(1-c)*t[2*a]+c*t[2*a+1];return s>0?t[2*a]=u:t[2*a+1]=u,!0}function dt(t,e){for(let t=0;t<3;++t)e[t]=e[t]<1?1:e[t];let n=e[0]*e[1]*e[2];for(;n>t;){for(let t=0;t<3;++t)e[t]=e[t]>1?e[t]-1:1;n=e[0]*e[1]*e[2]}}function pt(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];e=e<=0?1:e;let o=0;const i=[0,0,0];let a=-1,s=0;const l=H(t),c=l[0]+l[1]+l[2],u=c*(.001/3);for(let t=0;t<3;++t)l[t]>s&&(a=t,s=l[t]),l[t]>u?(i[t]=1,o++):i[t]=0;const f=q(t),d=J(t);if(o<1)return n[0]=1,n[1]=1,n[2]=1,r[0]=f[0]-.5,r[1]=d[0]+.5,r[2]=f[1]-.5,r[3]=d[1]+.5,r[4]=f[2]-.5,r[5]=d[2]+.5,1;let p=e;p/=i[0]?l[0]/c:1,p/=i[1]?l[1]/c:1,p/=i[2]?l[2]/c:1,p**=1/o;for(let t=0;t<3;++t)n[t]=i[t]?Math.floor(p*l[t]/c):1,n[t]=n[t]<1?1:n[t];dt(e,n);const m=.5*l[a]/n[a];for(let t=0;t<3;++t)i[t]?(r[2*t]=f[t],r[2*t+1]=d[t]):(r[2*t]=f[t]-m,r[2*t+1]=d[t]+m);return n[0]*n[1]*n[2]}function mt(t,e){if(t[0]>=e[0]&&t[0]<=e[1]&&t[1]>=e[2]&&t[1]<=e[3]&&t[2]>=e[4]&&t[2]<=e[5])return 0;const n=[0,0,0];return t[0]<e[0]?n[0]=e[0]-t[0]:t[0]>e[1]&&(n[0]=t[0]-e[1]),t[1]<e[2]?n[1]=e[2]-t[1]:t[1]>e[3]&&(n[1]=t[1]-e[3]),t[2]<e[4]?n[2]=e[4]-t[2]:t[2]>e[5]&&(n[2]=t[2]-e[5]),(0,p.d)(n,n)}class gt{constructor(t){this.bounds=t,this.bounds||(this.bounds=new Float64Array(M))}getBounds(){return this.bounds}equals(t){return D(this.bounds,t)}isValid(){return k(this.bounds)}setBounds(t){return L(this.bounds,t)}reset(){return _(this.bounds)}addPoint(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return R(this.bounds,...e)}addPoints(t){return F(this.bounds,t)}addBounds(t,e,n,r,o,i){return U(this.bounds,t,e,n,r,o,i)}setMinPoint(t,e,n){return V(this.bounds,t,e,n)}setMaxPoint(t,e,n){return B(this.bounds,t,e,n)}inflate(t){return z(this.bounds,t)}scale(t,e,n){return $(this.bounds,t,e,n)}getCenter(){return G(this.bounds)}getLength(t){return j(this.bounds,t)}getLengths(){return H(this.bounds)}getMaxLength(){return Z(this.bounds)}getDiagonalLength(){return Q(this.bounds)}getDiagonalLength2(){return Y(this.bounds)}getMinPoint(){return q(this.bounds)}getMaxPoint(){return J(this.bounds)}getXRange(){return K(this.bounds)}getYRange(){return W(this.bounds)}getZRange(){return X(this.bounds)}getCorners(t){return et(this.bounds,t)}computeCornerPoints(t,e){return nt(this.bounds,t,e)}computeLocalBounds(t,e,n){return it(this.bounds,t,e,n)}transformBounds(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return rt(this.bounds,t,e)}computeScale3(t){return ot(this.bounds,t)}cutWithPlane(t,e){return ft(this.bounds,t,e)}intersectBox(t,e,n,r){return at(this.bounds,t,e,n,r)}intersectPlane(t,e){return st(this.bounds,t,e)}intersect(t){return lt(this.bounds,t)}intersects(t){return ct(this.bounds,t)}containsPoint(t,e,n){return ut(this.bounds,t,e,n)}contains(t){return ct(this.bounds,t)}computeDivisions(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return pt(this.bounds,t,e,n)}distance2ToBounds(t){return mt(t,this.bounds)}}var ht={newInstance:function(t){const e=t&&t.bounds;return new gt(e)},...{equals:D,isValid:k,setBounds:L,reset:_,addPoint:R,addPoints:F,addBounds:U,setMinPoint:V,setMaxPoint:B,inflate:z,scale:$,scaleAboutCenter:function(t,e,n,r){if(!k(t))return!1;const o=G(t);return t[0]-=o[0],t[1]-=o[0],t[2]-=o[1],t[3]-=o[1],t[4]-=o[2],t[5]-=o[2],$(t,e,n,r),t[0]+=o[0],t[1]+=o[0],t[2]+=o[1],t[3]+=o[1],t[4]+=o[2],t[5]+=o[2],!0},getCenter:G,getLength:j,getLengths:H,getMaxLength:Z,getDiagonalLength:Q,getDiagonalLength2:Y,getMinPoint:q,getMaxPoint:J,getXRange:K,getYRange:W,getZRange:X,getCorners:et,computeCornerPoints:nt,computeLocalBounds:it,transformBounds:rt,computeScale3:ot,cutWithPlane:ft,intersectBox:at,intersectPlane:st,intersect:lt,intersects:ct,containsPoint:ut,contains:function(t,e){return!!ct(t,e)&&(!!ut(t,...q(e))&&!!ut(t,...J(e)))},computeDivisions:pt,clampDivisions:dt,distance2ToBounds:mt,INIT_BOUNDS:M}},yt=n(96413);const bt={bounds:[-1,-1,-1,-1,-1,-1],pointsIds:[]};function vt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,bt,n),r.m.obj(t,e),e.points||(e.points=yt.ZP.newInstance()),r.m.get(t,e,["points","pointsIds"]),function(t,e){e.classHierarchy.push("vtkCell"),t.initialize=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n){e.pointsIds=n;let o=e.points.getData();o.length!==3*e.pointsIds.length&&(o=r.m.newTypedArray(t.getDataType(),3*e.pointsIds.length));const i=t.getData();e.pointsIds.forEach((t,e)=>{let n=3*t,r=3*e;o[r]=i[n],o[++r]=i[++n],o[++r]=i[++n]}),e.points.setData(o)}else{e.points=t,e.pointsIds=new Array(t.getNumberOfPoints());for(let n=t.getNumberOfPoints()-1;n>=0;--n)e.pointsIds[n]=n}},t.getBounds=()=>e.points.getBounds(),t.getLength2=()=>{const e=ht.getLengths(t.getBounds());return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]},t.getParametricDistance=t=>{let e,n=0;for(let r=0;r<3;r++)e=t[r]<0?-t[r]:t[r]>1?t[r]-1:0,e>n&&(n=e);return n},t.getNumberOfPoints=()=>e.points.getNumberOfPoints(),t.deepCopy=t=>{t.initialize(e.points,e.pointsIds)},t.getCellDimension=()=>{},t.intersectWithLine=(t,e,n,r,o,i,a)=>{},t.evaluatePosition=(t,e,n,o,i,a)=>{r.m.vtkErrorMacro("vtkCell.evaluatePosition is not implemented.")}}(t,e)}var It={newInstance:r.m.newInstance(vt,"vtkCell"),extend:vt};const At={array:null,maxId:0,extend:0};function Tt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,At,n),r.m.obj(t,e),function(t,e){e.classHierarchy.push("vtkCellLinks"),t.buildLinks=n=>{const r=n.getPoints().getNumberOfPoints(),o=n.getNumberOfCells(),i=new Uint32Array(r);if(n.isA("vtkPolyData")){for(let e=0;e<o;++e){const{cellPointIds:r}=n.getCellPoints(e);r.forEach(e=>{t.incrementLinkCount(e)})}t.allocateLinks(r),e.maxId=r-1;for(let e=0;e<o;++e){const{cellPointIds:r}=n.getCellPoints(e);r.forEach(n=>{t.insertCellReference(n,i[n]++,e)})}}else{for(let e=0;e<o;e++)It.newInstance().getPointsIds().forEach(e=>{t.incrementLinkCount(e)});t.allocateLinks(r),e.maxId=r-1;for(let e=0;e<o;++e)It.newInstance().getPointsIds().forEach(n=>{t.insertCellReference(n,i[n]++,e)})}},t.allocate=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;e.array=Array(t).fill().map(()=>({ncells:0,cells:null})),e.extend=n,e.maxId=-1},t.initialize=()=>{e.array=null},t.getLink=t=>e.array[t],t.getNcells=t=>e.array[t].ncells,t.getCells=t=>e.array[t].cells,t.insertNextPoint=t=>{e.array.push({ncells:t,cells:Array(t)}),++e.maxId},t.insertNextCellReference=(t,n)=>{e.array[t].cells[e.array[t].ncells++]=n},t.deletePoint=t=>{e.array[t].ncells=0,e.array[t].cells=null},t.removeCellReference=(t,n)=>{e.array[n].cells=e.array[n].cells.filter(e=>e!==t),e.array[n].ncells=e.array[n].cells.length},t.addCellReference=(t,n)=>{e.array[n].cells[e.array[n].ncells++]=t},t.resizeCellList=(t,n)=>{e.array[t].cells.length=n},t.squeeze=()=>{!function(t,e){let n=e;for(e>=t.array.length&&(n+=t.array.length);n>t.array.length;)t.array.push({ncells:0,cells:null});t.array.length=n}(e,e.maxId+1)},t.reset=()=>{e.maxId=-1},t.deepCopy=t=>{e.array=[...t.array],e.extend=t.extend,e.maxId=t.maxId},t.incrementLinkCount=t=>{++e.array[t].ncells},t.allocateLinks=t=>{for(let n=0;n<t;++n)e.array[n].cells=new Array(e.array[n].ncells)},t.insertCellReference=(t,n,r)=>{e.array[t].cells[n]=r}}(t,e)}var Et={newInstance:r.m.newInstance(Tt,"vtkCellLinks"),extend:Tt};const Pt={VTK_EMPTY_CELL:0,VTK_VERTEX:1,VTK_POLY_VERTEX:2,VTK_LINE:3,VTK_POLY_LINE:4,VTK_TRIANGLE:5,VTK_TRIANGLE_STRIP:6,VTK_POLYGON:7,VTK_PIXEL:8,VTK_QUAD:9,VTK_TETRA:10,VTK_VOXEL:11,VTK_HEXAHEDRON:12,VTK_WEDGE:13,VTK_PYRAMID:14,VTK_PENTAGONAL_PRISM:15,VTK_HEXAGONAL_PRISM:16,VTK_QUADRATIC_EDGE:21,VTK_QUADRATIC_TRIANGLE:22,VTK_QUADRATIC_QUAD:23,VTK_QUADRATIC_POLYGON:36,VTK_QUADRATIC_TETRA:24,VTK_QUADRATIC_HEXAHEDRON:25,VTK_QUADRATIC_WEDGE:26,VTK_QUADRATIC_PYRAMID:27,VTK_BIQUADRATIC_QUAD:28,VTK_TRIQUADRATIC_HEXAHEDRON:29,VTK_QUADRATIC_LINEAR_QUAD:30,VTK_QUADRATIC_LINEAR_WEDGE:31,VTK_BIQUADRATIC_QUADRATIC_WEDGE:32,VTK_BIQUADRATIC_QUADRATIC_HEXAHEDRON:33,VTK_BIQUADRATIC_TRIANGLE:34,VTK_CUBIC_LINE:35,VTK_CONVEX_POINT_SET:41,VTK_POLYHEDRON:42,VTK_PARAMETRIC_CURVE:51,VTK_PARAMETRIC_SURFACE:52,VTK_PARAMETRIC_TRI_SURFACE:53,VTK_PARAMETRIC_QUAD_SURFACE:54,VTK_PARAMETRIC_TETRA_REGION:55,VTK_PARAMETRIC_HEX_REGION:56,VTK_HIGHER_ORDER_EDGE:60,VTK_HIGHER_ORDER_TRIANGLE:61,VTK_HIGHER_ORDER_QUAD:62,VTK_HIGHER_ORDER_POLYGON:63,VTK_HIGHER_ORDER_TETRAHEDRON:64,VTK_HIGHER_ORDER_WEDGE:65,VTK_HIGHER_ORDER_PYRAMID:66,VTK_HIGHER_ORDER_HEXAHEDRON:67,VTK_LAGRANGE_CURVE:68,VTK_LAGRANGE_TRIANGLE:69,VTK_LAGRANGE_QUADRILATERAL:70,VTK_LAGRANGE_TETRAHEDRON:71,VTK_LAGRANGE_HEXAHEDRON:72,VTK_LAGRANGE_WEDGE:73,VTK_LAGRANGE_PYRAMID:74,VTK_NUMBER_OF_CELL_TYPES:75},Ct=["vtkEmptyCell","vtkVertex","vtkPolyVertex","vtkLine","vtkPolyLine","vtkTriangle","vtkTriangleStrip","vtkPolygon","vtkPixel","vtkQuad","vtkTetra","vtkVoxel","vtkHexahedron","vtkWedge","vtkPyramid","vtkPentagonalPrism","vtkHexagonalPrism","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkQuadraticEdge","vtkQuadraticTriangle","vtkQuadraticQuad","vtkQuadraticTetra","vtkQuadraticHexahedron","vtkQuadraticWedge","vtkQuadraticPyramid","vtkBiQuadraticQuad","vtkTriQuadraticHexahedron","vtkQuadraticLinearQuad","vtkQuadraticLinearWedge","vtkBiQuadraticQuadraticWedge","vtkBiQuadraticQuadraticHexahedron","vtkBiQuadraticTriangle","vtkCubicLine","vtkQuadraticPolygon","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkConvexPointSet","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkParametricCurve","vtkParametricSurface","vtkParametricTriSurface","vtkParametricQuadSurface","vtkParametricTetraRegion","vtkParametricHexRegion","UnknownClass","UnknownClass","UnknownClass","vtkHigherOrderEdge","vtkHigherOrderTriangle","vtkHigherOrderQuad","vtkHigherOrderPolygon","vtkHigherOrderTetrahedron","vtkHigherOrderWedge","vtkHigherOrderPyramid","vtkHigherOrderHexahedron"];const xt={getClassNameFromTypeId:function(t){return t<Ct.length?Ct[t]:"UnknownClass"},getTypeIdFromClassName:function(t){return Ct.findIndex(t)},isLinear:function(t){return t<Pt.VTK_QUADRATIC_EDGE||t===Pt.VTK_CONVEX_POINT_SET||t===Pt.VTK_POLYHEDRON},hasSubCells:function(t){return t===Pt.VTK_TRIANGLE_STRIP||t===Pt.VTK_POLY_LINE||t===Pt.VTK_POLY_VERTEX}};const Ot={size:0,maxId:-1,extend:1e3};function St(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,Ot,n),r.m.obj(t,e),r.m.get(t,e,["size","maxId","extend"]),r.m.getArray(t,e,["typeArray","locationArray"]),function(t,e){e.classHierarchy.push("vtkCellTypes"),t.allocate=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:512,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;e.size=t>0?t:1,e.extend=n>0?n:1,e.maxId=-1,e.typeArray=new Uint8Array(t),e.locationArray=new Uint32Array(t)},t.insertCell=(t,n,r)=>{e.typeArray[t]=n,e.locationArray[t]=r,t>e.maxId&&(e.maxId=t)},t.insertNextCell=(n,r)=>(t.insertCell(++e.maxId,n,r),e.maxId),t.setCellTypes=(t,n,r)=>{e.size=t,e.typeArray=n,e.locationArray=r,e.maxId=t-1},t.getCellLocation=t=>e.locationArray[t],t.deleteCell=t=>{e.typeArray[t]=Pt.VTK_EMPTY_CELL},t.getNumberOfTypes=()=>e.maxId+1,t.isType=e=>{const n=t.getNumberOfTypes();for(let r=0;r<n;++r)if(e===t.getCellType(r))return!0;return!1},t.insertNextType=e=>t.insertNextCell(e,-1),t.getCellType=t=>e.typeArray[t],t.reset=()=>{e.maxId=-1},t.deepCopy=n=>{t.allocate(n.getSize(),n.getExtend()),e.typeArray.set(n.getTypeArray()),e.locationArray.set(n.getLocationArray()),e.maxId=n.getMaxId()}}(t,e)}var Nt={newInstance:r.m.newInstance(St,"vtkCellTypes"),extend:St,...xt};const wt={NO_INTERSECTION:0,YES_INTERSECTION:1,ON_LINE:2};var Mt={IntersectionState:wt};const{IntersectionState:Dt}=Mt;function kt(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o={t:Number.MIN_VALUE,distance:0},i=[];let a;i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2];const s=i[0]*(t[0]-e[0])+i[1]*(t[1]-e[1])+i[2]*(t[2]-e[2]),l=(0,p.d)(i,i);let c=1e-5*s;return 0!==l&&(o.t=s/l),c<0&&(c=-c),-c<l&&l<c||l<=0||o.t<0?a=e:o.t>1?a=n:(a=i,i[0]=e[0]+o.t*i[0],i[1]=e[1]+o.t*i[1],i[2]=e[2]+o.t*i[2]),r&&(r[0]=a[0],r[1]=a[1],r[2]=a[2]),o.distance=(0,p.f)(a,t),o}function Lt(t,e,n,r,o,i){const a=[],s=[],l=[];o[0]=0,i[0]=0,(0,p.s)(e,t,a),(0,p.s)(r,n,s),(0,p.s)(n,t,l);const c=[(0,p.d)(a,a),-(0,p.d)(a,s),-(0,p.d)(a,s),(0,p.d)(s,s)],u=[];if(u[0]=(0,p.d)(a,l),u[1]=-(0,p.d)(s,l),0===(0,p.g)(c,u,2)){let a=Number.MAX_VALUE;const s=[t,e,n,r],l=[n,n,t,t],c=[r,r,e,e];let u;i[0],i[0],o[0],o[0],o[0],o[0],i[0],i[0];for(let t=0;t<4;t++)u=kt(s[t],l[t],c[t]),u.distance<a&&(a=u.distance,u.t);return Dt.ON_LINE}return o[0]=u[0],i[0]=u[1],o[0]>=0&&o[0]<=1&&i[0]>=0&&i[0]<=1?Dt.YES_INTERSECTION:Dt.NO_INTERSECTION}const _t={distanceToLine:kt,intersection:Lt};const Rt={orientations:null};function Ft(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,Rt,n),It.extend(t,e,n),r.m.setGet(t,e,["orientations"]),function(t,e){e.classHierarchy.push("vtkLine"),t.getCellDimension=()=>1,t.intersectWithLine=(t,n,r,o,i)=>{const a={intersect:0,t:Number.MAX_VALUE,subId:0,betweenPoints:null};i[1]=0,i[2]=0;const s=[],l=[],c=[];e.points.getPoint(0,l),e.points.getPoint(1,c);const u=[],f=[],d=Lt(t,n,l,c,u,f);var m;if(a.t=u[0],a.betweenPoints=(m=a.t)>=0&&m<=1,i[0]=f[0],d===Dt.YES_INTERSECTION){for(let e=0;e<3;e++)o[e]=l[e]+i[0]*(c[e]-l[e]),s[e]=t[e]+a.t*(n[e]-t[e]);if((0,p.f)(o,s)<=r*r)return a.intersect=1,a}else{let e;if(a.t<0)return e=kt(t,l,c,o),e.distance<=r*r?(a.t=0,a.intersect=1,a.betweenPoints=!0,a):a;if(a.t>1)return e=kt(n,l,c,o),e.distance<=r*r?(a.t=1,a.intersect=1,a.betweenPoints=!0,a):a;if(i[0]<0)return i[0]=0,e=kt(l,t,n,o),a.t=e.t,e.distance<=r*r?(a.intersect=1,a):a;if(i[0]>1)return i[0]=1,e=kt(c,t,n,o),a.t=e.t,e.distance<=r*r?(a.intersect=1,a):a}return a},t.evaluateLocation=(t,n,r)=>{const o=[],i=[];e.points.getPoint(0,o),e.points.getPoint(1,i);for(let e=0;e<3;e++)n[e]=o[e]+t[0]*(i[e]-o[e]);r[0]=1-t[0],r[1]=t[0]},t.evaluateOrientation=(t,n,r)=>!!e.orientations&&(m.gf.slerp(n,e.orientations[0],e.orientations[1],t[0]),r[0]=1-t[0],r[1]=t[0],!0)}(t,e)}var Ut={newInstance:r.m.newInstance(Ft,"vtkLine"),extend:Ft,..._t,...Mt};const{vtkErrorMacro:Vt,vtkWarningMacro:Bt}=r.m;const zt={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function $t(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,zt,n),r.m.obj(t,e),function(t,e){e.classHierarchy.push("vtkFieldData");const n=t.getState;e.arrays&&(e.arrays=e.arrays.map(t=>({data:(0,o.Z)(t.data)}))),t.initialize=()=>{t.initializeFields(),t.copyAllOn(),t.clearFieldFlags()},t.initializeFields=()=>{e.arrays=[],e.copyFieldFlags={},t.modified()},t.copyStructure=n=>{t.initializeFields(),e.copyFieldFlags=n.getCopyFieldFlags().map(t=>t),e.arrays=n.getArrays().map(t=>({data:t}))},t.getNumberOfArrays=()=>e.arrays.length,t.getNumberOfActiveArrays=()=>e.arrays.length,t.addArray=n=>{const r=n.getName(),{array:o,index:i}=t.getArrayWithIndex(r);return null!=o?(e.arrays[i]={data:n},i):(e.arrays=[].concat(e.arrays,{data:n}),e.arrays.length-1)},t.removeAllArrays=()=>{e.arrays=[]},t.removeArray=n=>{const r=e.arrays.findIndex(t=>t.data.getName()===n);return t.removeArrayByIndex(r)},t.removeArrayByIndex=t=>-1!==t&&t<e.arrays.length&&(e.arrays.splice(t,1),!0),t.getArrays=()=>e.arrays.map(t=>t.data),t.getArray=e=>"number"==typeof e?t.getArrayByIndex(e):t.getArrayByName(e),t.getArrayByName=t=>e.arrays.reduce((e,n,r)=>n.data.getName()===t?n.data:e,null),t.getArrayWithIndex=t=>{const n=e.arrays.findIndex(e=>e.data.getName()===t);return{array:-1!==n?e.arrays[n].data:null,index:n}},t.getArrayByIndex=t=>t>=0&&t<e.arrays.length?e.arrays[t].data:null,t.hasArray=e=>t.getArrayWithIndex(e).index>=0,t.getArrayName=t=>{const n=e.arrays[t];return n?n.data.getName():""},t.getCopyFieldFlags=()=>e.copyFieldFlags,t.getFlag=t=>e.copyFieldFlags[t],t.passData=function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;n.getArrays().forEach(s=>{const l=t.getFlag(s.getName());if(!1!==l&&(!e.doCopyAllOff||!0===l)&&s){let e=t.getArrayByName(s.getName());if(e)if(s.getNumberOfComponents()===e.getNumberOfComponents())if(o>-1&&o<s.getNumberOfTuples()){const t=a>-1?a:o;e.insertTuple(t,s.getTuple(o))}else e.insertTuples(0,s.getTuples());else Vt("Unhandled case in passData");else if(o<0||o>s.getNumberOfTuples())t.addArray(s),n.getAttributes(s).forEach(e=>{t.setAttribute(s,e)});else{const l=s.getNumberOfComponents();let c=s.getNumberOfValues();const u=a>-1?a:o;c<=u*l&&(c=(u+1)*l),e=i.ZP.newInstance({name:s.getName(),dataType:s.getDataType(),numberOfComponents:l,values:r.m.newTypedArray(s.getDataType(),c),size:0}),e.insertTuple(u,s.getTuple(o)),t.addArray(e),n.getAttributes(s).forEach(n=>{t.setAttribute(e,n)})}}})},t.interpolateData=function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;n.getArrays().forEach(c=>{const u=t.getFlag(c.getName());if(!1!==u&&(!e.doCopyAllOff||!0===u)&&c){let e=t.getArrayByName(c.getName());if(e)if(c.getNumberOfComponents()===e.getNumberOfComponents())if(o>-1&&o<c.getNumberOfTuples()){const t=s>-1?s:o;e.interpolateTuple(t,c,o,c,a,l),Bt("Unexpected case in interpolateData")}else e.insertTuples(c.getTuples());else Vt("Unhandled case in interpolateData");else if(o<0||a<0||o>c.getNumberOfTuples())t.addArray(c),n.getAttributes(c).forEach(e=>{t.setAttribute(c,e)});else{const u=c.getNumberOfComponents();let f=c.getNumberOfValues();const d=s>-1?s:o;f<=d*u&&(f=(d+1)*u),e=i.ZP.newInstance({name:c.getName(),dataType:c.getDataType(),numberOfComponents:u,values:r.m.newTypedArray(c.getDataType(),f),size:0}),e.interpolateTuple(d,c,o,c,a,l),t.addArray(e),n.getAttributes(c).forEach(n=>{t.setAttribute(e,n)})}}})},t.copyFieldOn=t=>{e.copyFieldFlags[t]=!0},t.copyFieldOff=t=>{e.copyFieldFlags[t]=!1},t.copyAllOn=()=>{e.doCopyAllOn&&!e.doCopyAllOff||(e.doCopyAllOn=!0,e.doCopyAllOff=!1,t.modified())},t.copyAllOff=()=>{!e.doCopyAllOn&&e.doCopyAllOff||(e.doCopyAllOn=!1,e.doCopyAllOff=!0,t.modified())},t.clearFieldFlags=()=>{e.copyFieldFlags={}},t.deepCopy=t=>{e.arrays=t.getArrays().map(t=>{const e=t.newClone();return e.deepCopy(t),{data:e}})},t.copyFlags=t=>t.getCopyFieldFlags().map(t=>t),t.reset=()=>e.arrays.forEach(t=>t.data.reset()),t.getMTime=()=>e.arrays.reduce((t,e)=>e.data.getMTime()>t?e.data.getMTime():t,e.mtime),t.getNumberOfComponents=()=>e.arrays.reduce((t,e)=>t+e.data.getNumberOfComponents(),0),t.getNumberOfTuples=()=>e.arrays.length>0?e.arrays[0].getNumberOfTuples():0,t.getState=()=>{const t=n();return t&&(t.arrays=e.arrays.map(t=>({data:t.data.getState()}))),t}}(t,e)}var Gt={newInstance:r.m.newInstance($t,"vtkFieldData"),extend:$t},jt=n(31573);const{AttributeTypes:Ht,AttributeCopyOperations:Kt}=jt.default,{vtkWarningMacro:Wt}=r.m;const Xt={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function Zt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,Xt,n),Gt.extend(t,e,n),r.m.setGet(t,e,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),e.arrays||(e.arrays={}),function(t,e){const n=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];function o(t){let e=n.find(e=>Ht[e.toUpperCase()]===t||"number"!=typeof t&&e.toLowerCase()===t.toLowerCase());return void 0===e&&(e=null),e}e.classHierarchy.push("vtkDataSetAttributes");const a={...t};t.checkNumberOfComponents=t=>!0,t.setAttribute=(n,r)=>{const i=o(r);if(n&&"PEDIGREEIDS"===i.toUpperCase()&&!n.isA("vtkDataArray"))return Wt(`Cannot set attribute ${i}. The attribute must be a vtkDataArray.`),-1;if(n&&!t.checkNumberOfComponents(n,i))return Wt(`Cannot set attribute ${i}. Incorrect number of components.`),-1;let a=e[`active${i}`];if(a>=0&&a<e.arrays.length){if(e.arrays[a]===n)return a;t.removeArrayByIndex(a)}return n?(a=t.addArray(n),e[`active${i}`]=a):e[`active${i}`]=-1,t.modified(),e[`active${i}`]},t.getAttributes=e=>n.filter(n=>t[`get${n}`]()===e),t.setActiveAttributeByName=(e,n)=>t.setActiveAttributeByIndex(t.getArrayWithIndex(e).index,n),t.setActiveAttributeByIndex=(n,r)=>{const i=o(r);if(n>=0&&n<e.arrays.length){if("PEDIGREEIDS"!==i.toUpperCase()){const e=t.getArrayByIndex(n);if(!e.isA("vtkDataArray"))return Wt(`Cannot set attribute ${i}. Only vtkDataArray subclasses can be set as active attributes.`),-1;if(!t.checkNumberOfComponents(e,i))return Wt(`Cannot set attribute ${i}. Incorrect number of components.`),-1}return e[`active${i}`]=n,t.modified(),n}return-1===n&&(e[`active${i}`]=n,t.modified()),-1},t.getActiveAttribute=e=>{const n=o(e);return t[`get${n}`]()},t.removeAllArrays=()=>{n.forEach(t=>{e[`active${t}`]=-1}),a.removeAllArrays()},t.removeArrayByIndex=t=>(-1!==t&&n.forEach(n=>{t===e[`active${n}`]?e[`active${n}`]=-1:t<e[`active${n}`]&&(e[`active${n}`]-=1)}),a.removeArrayByIndex(t)),n.forEach(n=>{const r=`active${n}`;t[`get${n}`]=()=>t.getArrayByIndex(e[r]),t[`set${n}`]=e=>t.setAttribute(e,n),t[`setActive${n}`]=e=>t.setActiveAttributeByIndex(t.getArrayWithIndex(e).index,n),t[`copy${n}Off`]=()=>{const t=n.toUpperCase();e.copyAttributeFlags[Kt.PASSDATA][Ht[t]]=!1},t[`copy${n}On`]=()=>{const t=n.toUpperCase();e.copyAttributeFlags[Kt.PASSDATA][Ht[t]]=!0}}),t.initializeAttributeCopyFlags=()=>{e.copyAttributeFlags=[],Object.keys(Kt).filter(t=>"ALLCOPY"!==t).forEach(t=>{e.copyAttributeFlags[Kt[t]]=Object.keys(Ht).filter(t=>"NUM_ATTRIBUTES"!==t).reduce((t,e)=>(t[Ht[e]]=!0,t),[])}),e.copyAttributeFlags[Kt.COPYTUPLE][Ht.GLOBALIDS]=!1,e.copyAttributeFlags[Kt.INTERPOLATE][Ht.GLOBALIDS]=!1,e.copyAttributeFlags[Kt.COPYTUPLE][Ht.PEDIGREEIDS]=!1},t.initialize=r.m.chain(t.initialize,t.initializeAttributeCopyFlags),e.dataArrays&&Object.keys(e.dataArrays).length&&Object.keys(e.dataArrays).forEach(n=>{e.dataArrays[n].ref||"vtkDataArray"!==e.dataArrays[n].type||t.addArray(i.ZP.newInstance(e.dataArrays[n]))});const s=t.shallowCopy;t.shallowCopy=(t,n)=>{s(t,n),e.arrays=t.getArrays().map(t=>{const e=t.newClone();return e.shallowCopy(t,n),{data:e}})},t.initializeAttributeCopyFlags()}(t,e)}var Yt={newInstance:r.m.newInstance(Zt,"vtkDataSetAttributes"),extend:Zt,...jt.default};var Qt={FieldDataTypes:{UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},FieldAssociations:{FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7}};const qt=["pointData","cellData","fieldData"];const Jt={};function te(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,Jt,n),r.m.obj(t,e),r.m.setGet(t,e,qt),r.m.getArray(t,e,["bounds"],6),function(t,e){e.classHierarchy.push("vtkDataSet"),qt.forEach(t=>{e[t]?e[t]=(0,o.Z)(e[t]):e[t]=Yt.newInstance()}),t.computeBounds=()=>{if(e.modifiedTime&&e.computeTime&&e.modifiedTime>e.computeTime||!e.computeTime){const n=t.getPoints();n?.getNumberOfPoints()?ht.setBounds(e.bounds,n.getBoundsByReference()):e.bounds=p.b.createUninitializedBounds(),e.computeTime=r.m.getCurrentGlobalMTime()}},t.getLength2=()=>{const e=t.getBoundsByReference();return e&&6===e.length?ht.getDiagonalLength2(e):0},t.getLength=()=>Math.sqrt(t.getLength2()),t.getCenter=()=>{const e=t.getBoundsByReference();return e&&6===e.length?ht.getCenter(e):[0,0,0]},t.getCellBounds=e=>{const n=t.getCell(e);return n?n.getBounds():p.b.createUninitializedBounds()},t.getBounds=r.m.chain(()=>t.computeBounds,t.getBounds),t.getBoundsByReference=r.m.chain(()=>t.computeBounds,t.getBoundsByReference);const n=t.shallowCopy;t.shallowCopy=function(t){n(t,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),qt.forEach(n=>{e[n]=Yt.newInstance(),e[n].shallowCopy(t.getReferenceByName(n))})};const i=t.getMTime;t.getMTime=()=>qt.reduce((t,n)=>Math.max(t,e[n]?.getMTime()??t),i()),t.initialize=()=>(qt.forEach(t=>e[t]?.initialize()),t)}(t,e)}var ee={newInstance:r.m.newInstance(te,"vtkDataSet"),extend:te,...Qt};const ne={};function re(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,ne,n),ee.extend(t,e,n),r.m.setGet(t,e,["points"]),function(t,e){e.classHierarchy.push("vtkPointSet"),e.points?e.points=(0,o.Z)(e.points):e.points=yt.ZP.newInstance(),t.getNumberOfPoints=()=>e.points.getNumberOfPoints(),t.getBounds=()=>e.points.getBounds(),t.computeBounds=()=>{t.getBounds()};const n=t.shallowCopy;t.shallowCopy=function(t){n(t,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),e.points=yt.ZP.newInstance(),e.points.shallowCopy(t.getPoints())};const r=t.getMTime;t.getMTime=()=>{const t=r();return Math.max(t,e.points?.getMTime()??t)};const i=t.initialize;t.initialize=()=>(e.points?.initialize(),i())}(t,e)}var oe={newInstance:r.m.newInstance(re,"vtkPointSet"),extend:re};const ie={orientations:null,distanceFunction:m.R3.dist};function ae(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,ie,n),It.extend(t,e,n),r.m.setGet(t,e,["orientations","distanceFunction"]),e.distancesTime={},r.m.obj(e.distancesTime,{mtime:0}),function(t,e){e.classHierarchy.push("vtkPolyLine");const n=Ut.newInstance();n.getPoints().setNumberOfPoints(2),t.getCellDimension=()=>1,t.intersectWithLine=(r,o,i,a,s,l,c)=>{const u={intersect:0,t:Number.MAX_VALUE,subId:0,betweenPoints:null},f=t.getNumberOfPoints()-1;let d=Number.MAX_VALUE;for(let t=0;t<f;t++){const f=[0,0,0];n.getPoints().getData().set(e.points.getData().subarray(3*t,3*(t+2)));const p=n.intersectWithLine(i,a,s,l,c);if(1===p.intersect&&p.t<=u.t+s&&p.t>=r&&p.t<=o){u.intersect=1;const e=n.getParametricDistance(f);if(e<d||e===d&&p.t<u.t){u.subId=t,u.t=p.t,d=e;for(let t=0;t<3;t++)l[t],f[t]}}}return u},t.evaluateLocation=(t,r,o,i)=>(n.getPoints().getData().set(e.points.getData().subarray(3*t,3*(t+2))),n.evaluateLocation(r,o,i)),t.evaluateOrientation=(t,r,o,i)=>(e.orientations?n.setOrientations([e.orientations[t],e.orientations[t+1]]):n.setOrientations(null),n.evaluateOrientation(r,o,i)),t.getDistancesToFirstPoint=()=>{const n=e.distancesTime.getMTime();if(n<e.points.getMTime()||n<t.getMTime()){const n=t.getNumberOfPoints();if(e.distances?e.distances.length=n:e.distances=new Array(n),n>0){const t=new Array(3),r=new Array(3);let o=0;e.distances[0]=o,e.points.getPoint(0,t);for(let i=1;i<n;++i)e.points.getPoint(i,r),o+=e.distanceFunction(t,r),e.distances[i]=o,m.R3.copy(t,r)}e.distancesTime.modified()}return e.distances},t.findPointIdAtDistanceFromFirstPoint=e=>{const n=t.getDistancesToFirstPoint();if(n.length<2)return-1;let r=0,o=n.length-1;if(e<n[r]||e>n[o]||0===n[o])return-1;for(;o-r>1;){const t=Math.floor((r+o)/2);n[t]<=e?r=t:o=t}return r}}(t,e)}var se={newInstance:r.m.newInstance(ae,"vtkPolyLine"),extend:ae};const le={elements:[]};function ce(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,le,n),r.m.obj(t,e),function(t,e){e.classHierarchy.push("vtkPriorityQueue"),t.push=(t,n)=>{const r=e.elements.findIndex(e=>e.priority>t);e.elements.splice(r,0,{priority:t,element:n})},t.pop=()=>e.elements.length>0?e.elements.shift().element:null,t.deleteById=t=>{e.elements=e.elements.filter(e=>{let{element:n}=e;return n.id!==t})},t.length=()=>e.elements.length}(t,e)}var ue={newInstance:r.m.newInstance(ce,"vtkPriorityQueue"),extend:ce};const fe=1e-6,de=1.1920929e-7,pe={FAILURE:-1,OUTSIDE:0,INSIDE:1,INTERSECTION:2,ON_LINE:3};function me(t,e,n,r,o){return(r[t]-n[t])*(o[e]-n[e])-(o[t]-n[t])*(r[e]-n[e])}const ge={PolygonWithPointIntersectionState:pe,pointInPolygon:function(t,e,n,r){if(t[0]<n[0]||t[0]>n[1]||t[1]<n[2]||t[1]>n[3]||t[2]<n[4]||t[2]>n[5])return pe.OUTSIDE;if((0,p.l)(r)<=de)return pe.FAILURE;let o=1e-8*((n[1]-n[0])*(n[1]-n[0])+(n[3]-n[2])*(n[3]-n[2])+(n[5]-n[4])*(n[5]-n[4]));o*=o,o=0===o?de:o;const i=[],a=[];for(let n=0;n<e.length;){if(i[0]=e[n++],i[1]=e[n++],i[2]=e[n++],(0,p.f)(t,i)<=o)return pe.INSIDE;const{distance:r,t:s}=Ut.distanceToLine(t,i,a);if(r<=o&&s>0&&s<1)return pe.INSIDE}let s,l;Math.abs(r[0])>Math.abs(r[1])?Math.abs(r[0])>Math.abs(r[2])?(s=1,l=2):(s=0,l=1):Math.abs(r[1])>Math.abs(r[2])?(s=0,l=2):(s=0,l=1);let c=0;for(let n=0;n<e.length;)i[0]=e[n++],i[1]=e[n++],i[2]=e[n++],n<e.length?(a[0]=e[n],a[1]=e[n+1],a[2]=e[n+2]):(a[0]=e[0],a[1]=e[1],a[2]=e[2]),i[l]<=t[l]?a[l]>t[l]&&me(s,l,i,a,t)>0&&++c:a[l]<=t[l]&&me(s,l,i,a,t)<0&&--c;return 0===c?pe.OUTSIDE:pe.INSIDE},getBounds:function(t,e,n){const r=t.length,o=[];e.getPoint(t[0],o),n[0]=o[0],n[1]=o[0],n[2]=o[1],n[3]=o[1],n[4]=o[2],n[5]=o[2];for(let i=1;i<r;i++)e.getPoint(t[i],o),ht.addPoint(n,...o);const i=ht.getLengths(n);return(0,p.d)(i,i)},getNormal:function(t,e,n){n.length=3,n[0]=0,n[1]=0,n[2]=0;const r=[];let o=[],i=[];const a=[],s=[];e.getPoint(t[0],r),e.getPoint(t[1],o);for(let l=2;l<t.length;l++){e.getPoint(t[l],i),(0,p.s)(i,o,a),(0,p.s)(r,o,s);const c=[0,0,0];(0,p.j)(a,s,c),(0,p.k)(n,c,n),[o,i]=[i,o]}return(0,p.l)(n)},computeCentroid:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,0];n[0]=0,n[1]=0,n[2]=0;const r=t.length,o=[];for(let i=0;i<r;i++)e.getPoint(t[i],o),n[0]+=o[0],n[1]+=o[1],n[2]+=o[2];return n[0]/=r,n[1]/=r,n[2]/=r,n}};function he(t,e){function n(t){const n=[0,0,0],r=[0,0,0],o=[0,0,0],i=[0,0,0];(0,p.s)(t.point,t.previous.point,n),(0,p.s)(t.next.point,t.point,r),(0,p.s)(t.previous.point,t.next.point,o),(0,p.j)(n,r,i);const a=(0,p.d)(i,e.normal);if(a<=0)return-1;const s=(0,p.n)(n)+(0,p.n)(r)+(0,p.n)(o);return s*s/a}function r(t){if(e.pointCount<=3)return!0;const n=t.previous,r=t.next,o=[0,0,0];(0,p.s)(r.point,n.point,o);const i=[0,0,0];if((0,p.j)(o,e.normal,i),(0,p.l)(i),0===(0,p.n)(i))return!1;let a=w.evaluate(i,n.point,r.next.point),s=a>fe?1:a<-fe?-1:0,l=s<0?1:0;for(let t=r.next.next;t.id!==n.id;t=t.next){const e=t.previous;a=w.evaluate(i,n.point,t.point);const o=a>fe?1:a<-fe?-1:0;if(o!==s){if(l||(l=o<=0?1:0),Ut.intersection(n.point,r.point,t.point,e.point,[0],[0])===wt.YES_INTERSECTION)return!1;s=o}}return 1===l}function o(t,r){e.pointCount-=1;const o=t.previous,i=t.next;e.tris=e.tris.concat(t.point),e.tris=e.tris.concat(i.point),e.tris=e.tris.concat(o.point),o.next=i,i.previous=o,r.deleteById(o.id),r.deleteById(i.id);const a=n(o);a>0&&r.push(a,o);const s=n(i);s>0&&r.push(s,i),t.id===e.firstPoint.id&&(e.firstPoint=i)}function i(){!function(){const t=[0,0,0],n=[0,0,0];e.normal=[0,0,0];const r=[...e.firstPoint.point];let o=e.firstPoint;for(let i=0;i<e.pointCount;i++){(0,p.s)(o.point,r,t),(0,p.s)(o.next.point,r,n);const i=[0,0,0];(0,p.j)(t,n,i),(0,p.k)(e.normal,i,e.normal),o=o.next}(0,p.l)(e.normal)}();const t=ue.newInstance();let i=e.firstPoint;for(let r=0;r<e.pointCount;r++){const e=n(i);e>0&&t.push(e,i),i=i.next}for(;e.pointCount>2&&t.length()>0;)if(e.pointCount===t.length()){o(t.pop(),t)}else{const e=t.pop();r(e)&&o(e,t)}return e.pointCount<=2}e.classHierarchy.push("vtkPolygon"),t.triangulate=()=>e.firstPoint?i():null,t.setPoints=t=>{e.pointCount=t.length,e.firstPoint={id:0,point:t[0],next:null,previous:null};let n=e.firstPoint;for(let r=1;r<e.pointCount;r++)n.next={id:r,point:t[r],next:null,previous:n},n=n.next;e.firstPoint.previous=n,n.next=e.firstPoint},t.getPointArray=()=>e.tris}const ye={firstPoint:null,pointCount:0,tris:[]};function be(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,ye,n),r.m.obj(t,e),he(t,e)}var ve={newInstance:r.m.newInstance(be,"vtkPolygon"),extend:be,...ge};function Ie(t,e,n,r){const o=n[0]-e[0],i=n[1]-e[1],a=n[2]-e[2],s=t[0]-e[0],l=t[1]-e[1],c=t[2]-e[2];r[0]=i*c-a*l,r[1]=a*s-o*c,r[2]=o*l-i*s}function Ae(t,e,n,r){Ie(t,e,n,r);const o=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);0!==o&&(r[0]/=o,r[1]/=o,r[2]/=o)}function Te(t){t[0]=-1,t[1]=1,t[2]=0,t[3]=-1,t[4]=0,t[5]=1}const Ee={computeNormalDirection:Ie,computeNormal:Ae,interpolationDerivs:Te,intersectWithTriangle:function(t,e,n,r,o,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e-6,s=!1;const l=[],c=[],u=[],f=[],d=[];Ae(t,e,n,f),Ae(r,o,i,d);const m=-(0,p.d)(f,t),g=-(0,p.d)(d,r),h=[(0,p.d)(d,t)+g,(0,p.d)(d,e)+g,(0,p.d)(d,n)+g];if(h[0]*h[1]>a&&h[0]*h[2]>a)return{intersect:!1,coplanar:s,pt1:l,pt2:c,surfaceId:u};const y=[(0,p.d)(f,r)+m,(0,p.d)(f,o)+m,(0,p.d)(f,i)+m];if(y[0]*y[1]>a&&y[0]*y[2]>a)return{intersect:!1,coplanar:s,pt1:l,pt2:c,surfaceId:u};if(Math.abs(f[0]-d[0])<1e-9&&Math.abs(f[1]-d[1])<1e-9&&Math.abs(f[2]-d[2])<1e-9&&Math.abs(m-g)<1e-9)return s=!0,{intersect:!1,coplanar:s,pt1:l,pt2:c,surfaceId:u};const b=[t,e,n],v=[r,o,i],I=(0,p.d)(f,d),A=(m-g*I)/(I*I-1),T=(g-m*I)/(I*I-1),E=[A*f[0]+T*d[0],A*f[1]+T*d[1],A*f[2]+T*d[2]],P=(0,p.j)(f,d,[]);(0,p.l)(P);let C=0,x=0;const O=[],S=[];let N,M,D=50,k=50;for(let e=0;e<3;e++){const n=e,o=(e+1)%3,i=w.intersectWithLine(b[n],b[o],r,d);i.intersection&&i.t>0-a&&i.t<1+a&&(i.t<1+a&&i.t>1-a&&(D=C),O[C++]=(0,p.d)(i.x,P)-(0,p.d)(E,P));const s=w.intersectWithLine(v[n],v[o],t,f);s.intersection&&s.t>0-a&&s.t<1+a&&(s.t<1+a&&s.t>1-a&&(k=x),S[x++]=(0,p.d)(s.x,P)-(0,p.d)(E,P))}if(C>2){C--;const t=O[2];O[2]=O[D],O[D]=t}if(x>2){x--;const t=S[2];S[2]=S[k],S[k]=t}if(2!==C||2!==x)return{intersect:!1,coplanar:s,pt1:l,pt2:c,surfaceId:u};if(Number.isNaN(O[0])||Number.isNaN(O[1])||Number.isNaN(S[0])||Number.isNaN(S[1]))return{intersect:!1,coplanar:s,pt1:l,pt2:c,surfaceId:u};if(O[0]>O[1]){const t=O[1];O[1]=O[0],O[0]=t}if(S[0]>S[1]){const t=S[1];S[1]=S[0],S[0]=t}return O[1]<S[0]||S[1]<O[0]?{intersect:!1,coplanar:s,pt1:l,pt2:c,surfaceId:u}:(O[0]<S[0]?O[1]<S[1]?(u[0]=2,u[1]=1,N=S[0],M=O[1]):(u[0]=2,u[1]=2,N=S[0],M=S[1]):O[1]<S[1]?(u[0]=1,u[1]=1,N=O[0],M=O[1]):(u[0]=1,u[1]=2,N=O[0],M=S[1]),(0,p.m)(E,P,N,l),(0,p.m)(E,P,M,c),{intersect:!0,coplanar:s,pt1:l,pt2:c,surfaceId:u})}};const Pe={};function Ce(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,Pe,n),It.extend(t,e,n),function(t,e){e.classHierarchy.push("vtkTriangle"),t.getCellDimension=()=>2,t.intersectWithLine=(n,r,o,i,a)=>{const s={subId:0,t:Number.MAX_VALUE,intersect:0,betweenPoints:!1};a[2]=0;const l=[],c=o*o,u=[],f=[],d=[];e.points.getPoint(0,u),e.points.getPoint(1,f),e.points.getPoint(2,d);const m=[],g=[];if(Ae(u,f,d,m),0!==m[0]||0!==m[1]||0!==m[2]){const e=w.intersectWithLine(n,r,u,m);if(s.betweenPoints=e.betweenPoints,s.t=e.t,i[0]=e.x[0],i[1]=e.x[1],i[2]=e.x[2],!e.intersection)return a[0]=0,a[1]=0,s.intersect=0,s;const o=t.evaluatePosition(i,l,a,g);if(o.evaluation>=0)return o.dist2<=c?(s.intersect=1,s):(s.intersect=o.evaluation,s)}const h=(0,p.f)(u,f),y=(0,p.f)(f,d),b=(0,p.f)(d,u);e.line||(e.line=Ut.newInstance()),h>y&&h>b?(e.line.getPoints().setPoint(0,u),e.line.getPoints().setPoint(1,f)):y>b&&y>h?(e.line.getPoints().setPoint(0,f),e.line.getPoints().setPoint(1,d)):(e.line.getPoints().setPoint(0,d),e.line.getPoints().setPoint(1,u));const v=e.line.intersectWithLine(n,r,o,i,a);if(s.betweenPoints=v.betweenPoints,s.t=v.t,v.intersect){const t=[],e=[],n=[];for(let r=0;r<3;r++)t[r]=u[r]-d[r],e[r]=f[r]-d[r],n[r]=i[r]-d[r];return a[0]=(0,p.d)(n,t)/b,a[1]=(0,p.d)(n,e)/y,s.intersect=1,s}return a[0]=0,a[1]=0,s.intersect=0,s},t.evaluatePosition=(t,n,r,o)=>{const i={subId:0,dist2:0,evaluation:-1};let a,s;const l=[],c=[],u=[],f=[];let d;const m=[],g=[],h=[];let y=0,b=0;const v=[];let I,A,T,E=[];const P=[],C=[],x=[];i.subId=0,r[2]=0,e.points.getPoint(1,l),e.points.getPoint(2,c),e.points.getPoint(0,u),Ie(l,c,u,f),w.generalizedProjectPoint(t,l,f,x);let O=0;for(a=0;a<3;a++)d=f[a]<0?-f[a]:f[a],d>O&&(O=d,b=a);for(s=0,a=0;a<3;a++)a!==b&&(v[s++]=a);for(a=0;a<2;a++)m[a]=x[v[a]]-u[v[a]],g[a]=l[v[a]]-u[v[a]],h[a]=c[v[a]]-u[v[a]];if(y=(0,p.o)(g,h),0===y)return r[0]=0,r[1]=0,i.evaluation=-1,i;if(r[0]=(0,p.o)(m,h)/y,r[1]=(0,p.o)(g,m)/y,o[0]=1-(r[0]+r[1]),o[1]=r[0],o[2]=r[1],o[0]>=0&&o[0]<=1&&o[1]>=0&&o[1]<=1&&o[2]>=0&&o[2]<=1)n&&(i.dist2=(0,p.f)(x,t),n[0]=x[0],n[1]=x[1],n[2]=x[2]),i.evaluation=1;else{let e;if(n)if(o[1]<0&&o[2]<0)for(I=(0,p.f)(t,u),A=Ut.distanceToLine(t,l,u,e,P),T=Ut.distanceToLine(t,u,c,e,C),I<A?(i.dist2=I,E=u):(i.dist2=A,E=P),T<i.dist2&&(i.dist2=T,E=C),a=0;a<3;a++)n[a]=E[a];else if(o[2]<0&&o[0]<0)for(I=(0,p.f)(t,l),A=Ut.distanceToLine(t,l,u,e,P),T=Ut.distanceToLine(t,l,c,e,C),I<A?(i.dist2=I,E=l):(i.dist2=A,E=P),T<i.dist2&&(i.dist2=T,E=C),a=0;a<3;a++)n[a]=E[a];else if(o[1]<0&&o[0]<0)for(I=(0,p.f)(t,c),A=Ut.distanceToLine(t,c,u,e,P),T=Ut.distanceToLine(t,l,c,e,C),I<A?(i.dist2=I,E=c):(i.dist2=A,E=P),T<i.dist2&&(i.dist2=T,E=C),a=0;a<3;a++)n[a]=E[a];else if(o[0]<0){const e=Ut.distanceToLine(t,l,c,n);i.dist2=e.distance}else if(o[1]<0){const e=Ut.distanceToLine(t,c,u,n);i.dist2=e.distance}else if(o[2]<0){const e=Ut.distanceToLine(t,l,u,n);i.dist2=e.distance}i.evaluation=0}return i},t.evaluateLocation=(t,n,r)=>{const o=[],i=[],a=[];e.points.getPoint(0,o),e.points.getPoint(1,i),e.points.getPoint(2,a);const s=1-t[0]-t[1];for(let e=0;e<3;e++)n[e]=o[e]*s+i[e]*t[0]+a[e]*t[1];r[0]=s,r[1]=t[0],r[2]=t[1]},t.getParametricDistance=t=>{let e,n=0;const r=[];r[0]=t[0],r[1]=t[1],r[2]=1-t[0]-t[1];for(let t=0;t<3;t++)e=r[t]<0?-r[t]:r[t]>1?r[t]-1:0,e>n&&(n=e);return n},t.derivatives=(t,n,o,i,a)=>{const s=e.points.getPoint(0),l=e.points.getPoint(1),c=e.points.getPoint(2),u=[],f=[],d=[],m=[];Ae(s,l,c,u),(0,p.s)(l,s,f),(0,p.s)(c,s,m),(0,p.j)(u,f,d);const g=(0,p.l)(f);if(g<=0||(0,p.l)(d)<=0){for(let t=0;t<i;t++)for(let e=0;e<3;e++)a[t*i+e]=0;return}const h=[0,0],y=[g,0],b=[(0,p.d)(m,f),(0,p.d)(m,d)],v=new Array(6);Te(v);const I=[y[0]-h[0],y[1]-h[1],b[0]-h[0],b[1]-h[1]],A=r.m.newTypedArray(r.T.Float64Array,4);(0,p.p)(I,A,2);for(let t=0;t<i;t++){let e=0,n=0;for(let r=0;r<3;r++)e+=v[r]*o[i*r+t],n+=v[3+r]*o[i*r+t];const r=e*A[0]+n*A[1],s=e*A[2]+n*A[3];a[3*t]=r*f[0]+s*d[0],a[3*t+1]=r*f[1]+s*d[1],a[3*t+2]=r*f[2]+s*d[2]}},t.cellBoundary=(t,n,r)=>{const o=n[0]-n[1],i=.5*(1-n[0])-n[1],a=2*n[0]+n[1]-1;return o>=0&&i>=0?(r[0]=e.pointsIds[0],r[1]=e.pointsIds[1]):i<0&&a>=0?(r[0]=e.pointsIds[1],r[1]=e.pointsIds[2]):(r[0]=e.pointsIds[2],r[1]=e.pointsIds[0]),!(n[0]<0||n[1]<0||n[0]>1||n[1]>1||1-n[0]-n[1]<0)}}(t,e)}var xe={newInstance:r.m.newInstance(Ce,"vtkTriangle"),extend:Ce,...Ee};const Oe={};function Se(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,Oe,n),It.extend(t,e,n),function(t,e){e.classHierarchy.push("vtkQuad"),t.getCellDimension=()=>2,t.getCellType=()=>Pt.VTK_QUAD,t.getNumberOfEdges=()=>4,t.getNumberOfFaces=()=>0,t.intersectWithLine=(t,n,r,o,i)=>{let a,s={subId:0,t:Number.MAX_VALUE,intersect:0,betweenPoints:!1};const l=e.points.getPoint(0,[]),c=e.points.getPoint(1,[]),u=e.points.getPoint(2,[]),f=e.points.getPoint(3,[]),d=(0,p.f)(l,u),m=(0,p.f)(c,f);if(d===m){let t,n=0,r=0;for(let o=0;o<4;o++)t=e.pointsIds[o],t>n&&(n=t,r=o);a=0===r||2===r?0:1}else a=d<m?0:1;let g,h=null;e.triangle?h=e.triangle.getPoints():(e.triangle=xe.newInstance(),h=yt.ZP.newInstance(),h.setNumberOfPoints(3),e.triangle.initialize(h));const y={intersected:!1,subId:-1,x:[0,0,0],pCoords:[0,0,0],t:-1};let b;const v={intersected:!1,subId:-1,x:[0,0,0],pCoords:[0,0,0],t:-1};let I,A;switch(a){case 0:h.setPoint(0,...l),h.setPoint(1,...c),h.setPoint(2,...u),g=e.triangle.intersectWithLine(t,n,r,y.x,y.pCoords),h.setPoint(0,...u),h.setPoint(1,...f),h.setPoint(2,...l),b=e.triangle.intersectWithLine(t,n,r,v.x,v.pCoords),I=g.intersect&&b.intersect?g.t<=b.t:g.intersect,A=g.intersect&&b.intersect?b.t<g.t:b.intersect,I?(s=g,o[0]=y.x[0],o[1]=y.x[1],o[2]=y.x[2],i[0]=y.pCoords[0]+y.pCoords[1],i[1]=y.pCoords[1],i[2]=y.pCoords[2]):A&&(s=b,o[0]=v.x[0],o[1]=v.x[1],o[2]=v.x[2],i[0]=1-(v.pCoords[0]+v.pCoords[1]),i[1]=1-v.pCoords[1],i[2]=v.pCoords[2]);break;case 1:h.setPoint(0,...l),h.setPoint(1,...c),h.setPoint(2,...f),g=e.triangle.intersectWithLine(t,n,r,y.x,y.pCoords),h.setPoint(0,...u),h.setPoint(1,...f),h.setPoint(2,...c),b=e.triangle.intersectWithLine(t,n,r,v.x,v.pCoords),I=g.intersect&&b.intersect?g.t<=b.t:g.intersect,A=g.intersect&&b.intersect?b.t<g.t:b.intersect,I?(s=g,o[0]=y.x[0],o[1]=y.x[1],o[2]=y.x[2],i[0]=y.pCoords[0],i[1]=y.pCoords[1],i[2]=y.pCoords[2]):A&&(s=b,o[0]=v.x[0],o[1]=v.x[1],o[2]=v.x[2],i[0]=1-v.pCoords[0],i[1]=1-v.pCoords[1],i[2]=v.pCoords[2])}return s},t.interpolationFunctions=(t,e)=>{const n=1-t[0],r=1-t[1];e[0]=n*r,e[1]=t[0]*r,e[2]=t[0]*t[1],e[3]=n*t[1]},t.evaluateLocation=(n,r,o)=>{const i=[];t.interpolationFunctions(n,o),r[0]=0,r[1]=0,r[2]=0;for(let t=0;t<4;t++){e.points.getPoint(t,i);for(let e=0;e<3;e++)r[e]+=i[e]*o[t]}}}(t,e)}var Ne={newInstance:r.m.newInstance(Se,"vtkQuad"),extend:Se};const{vtkErrorMacro:we}=r.m;function Me(t){return()=>we(`vtkTriangleStrip.${t} - NOT IMPLEMENTED`)}const De={decomposeStrip:function(t,e){if(!Array.isArray(t)||t.length<3)return void we("decomposeStrip - Invalid points array");let n=t[0],r=t[1];for(let o=0;o<t.length-2;o++){const i=t[o+2];o%2?e.insertNextCell([r,n,i]):e.insertNextCell([n,r,i]),n=r,r=i}}};const ke={line:null,triangle:null,tris:null};function Le(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,ke,n),It.extend(t,e,n),e.line||(e.line=Ut.newInstance()),e.triangle||(e.triangle=xe.newInstance()),function(t,e){e.classHierarchy.push("vtkTriangleStrip");const n=t.initialize;t.initialize=(t,r)=>{e.triangle.initialize(t,r),n(t,r)},t.getCellType=()=>Pt.VTK_TRIANGLE_STRIP,t.getCellDimension=()=>2,t.getNumberOfEdges=()=>e.pointsIds.length,t.getNumberOfFaces=()=>0,t.evaluatePosition=(t,n,r,o,i)=>{const a=[0,0,0];let s=Number.MAX_VALUE,l=0;const c=[],u=[],f=[];r[2]=0,u[0]=0,u[1]=0,u[2]=0;const d=e.triangle.getPoints();d.setNumberOfPoints(3);const p=e.triangle.getPointsIds().length;for(let t=0;t<p;t++)i[t]=0;for(let o=0;o<p-2;o++){const i=[];d.getPoint(o,i);const p=[];d.getPoint(o+1,p);const m=[];d.getPoint(o+2,m),d.setData(Float32Array.from([...i,...p,...m]),3);const g=e.triangle.evaluatePosition(t,f,a,c),h=g.dist2;g.evaluation>=0&&(h<s||h===s&&0===l)&&(l=g,n&&(n[0]=f[0],n[1]=f[1],n[2]=f[2]),r[0]=a[0],r[1]=a[1],s=h,u[0]=c[0],u[1]=c[1],u[2]=c[2])}return o[0]=s,i[0]=u[0],i[1]=u[1],i[2]=u[2],l},t.evaluateLocation=(t,n,r,o)=>{const i=[[0,1,2],[1,0,2]],a=t%2,s=e.pointsIds.length;for(let t=0;t<s;t++)o[t]=0;const l=1-n[0]-n[1];o[t]=l,o[t+1]=n[0],o[t+2]=n[1];const c=[];e.points.getPoint(t+i[a][0],c);const u=[];e.points.getPoint(t+i[a][1],u);const f=[];e.points.getPoint(t+i[a][2],f);for(let e=0;e<3;e++)r[e]=c[e]*o[t]+u[e]*o[t+1]+f[e]*o[t+2]},t.cellBoundary=(t,n,r)=>{const o=[[0,1,2],[1,0,2]],i=t%2,a=e.triangle.getPointsIds();return a[0]=e.pointsIds[o[i][0]],a[1]=e.pointsIds[o[i][1]],a[2]=e.pointsIds[o[i][2]],e.triangle.cellBoundary(0,n,r)},t.getEdge=t=>{let n,r;const o=e.pointsIds.length;return 0===t?(n=0,r=1):t===o-1?(n=t-1,r=t):(n=t-1,r=t+1),e.line.getPointsIds()[0]=e.pointsIds[n],e.line.getPointsIds()[1]=e.pointsIds[r],e.line.getPoints().setPoint(0,e.points.getPoint(n)),e.line.getPoints().setPoint(1,e.points.getPoint(r)),e.line},t.intersectWithLine=(t,n,r,o,i)=>{const a=e.pointsIds.length-2,s=e.triangle.getPoints();s.setNumberOfPoints(3);for(let l=0;l<a;l++){const a=[];e.points.getPoint(e.pointsIds[l],a);const c=[];e.points.getPoint(e.pointsIds[l+1],c);const u=[];e.points.getPoint(e.pointsIds[l+2],u),s.setData(Float32Array.from([...a,...c,...u]),3);const f=e.triangle.intersectWithLine(t,n,r,o,i);if(f.intersect)return f}return!1},t.triangulate=()=>{const t=e.points.getNumberOfPoints()-2;e.tris=new Array(3*t);const n=[[0,1,2],[1,0,2]];for(let r=0;r<t;r++){const t=r%2;for(let o=0;o<3;o++)e.tris[3*r+o]=r+n[t][o]}return!0},t.getPointArray=()=>e.tris,t.derivatives=(t,n,r,o,i)=>{const a=[];e.points.getPoint(t,a);const s=[];e.points.getPoint(t+1,s);const l=[];e.points.getPoint(t+2,l);const c=e.triangle.getPoints();c.setPoint(0,...a),c.setPoint(1,...s),c.setPoint(2,...l),e.triangle.derivatives(0,n,r,o,i)},t.getParametricCenter=t=>(t[0]=.333333,t[1]=.333333,t[2]=0,Math.floor((e.pointsIds.length-2)/2)),t.contour=(t,e,n,r,o,i,a,s,l,c,u)=>Me("contour")(),t.clip=(t,e,n,r,o,i,a,s,l,c)=>Me("clip")()}(t,e)}var _e={newInstance:r.m.newInstance(Le,"vtkTriangleStrip"),extend:Le,...De};const Re=["verts","lines","polys","strips"];const{vtkWarningMacro:Fe}=r.m,Ue={[Pt.VTK_LINE]:Ut,[Pt.VTK_QUAD]:Ne,[Pt.VTK_POLY_LINE]:Ut,[Pt.VTK_TRIANGLE]:xe,[Pt.VTK_TRIANGLE_STRIP]:_e,[Pt.VTK_POLY_LINE]:se,[Pt.VTK_POLYGON]:ve};const Ve={};function Be(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,Ve,n),oe.extend(t,e,n),r.m.get(t,e,["cells","links"]),r.m.setGet(t,e,["verts","lines","polys","strips"]),function(t,e){e.classHierarchy.push("vtkPolyData"),Re.forEach(n=>{var r;t[`getNumberOf${r=n,r.replace(/(?:^\w|[A-Z]|\b\w)/g,t=>t.toUpperCase()).replace(/\s+/g,"")}`]=()=>e[n].getNumberOfCells(),e[n]?e[n]=(0,o.Z)(e[n]):e[n]=d.newInstance()}),t.getNumberOfCells=()=>Re.reduce((t,n)=>t+e[n].getNumberOfCells(),0);const n=t.shallowCopy;t.shallowCopy=function(t){n(t,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),Re.forEach(n=>{e[n]=d.newInstance(),e[n].shallowCopy(t.getReferenceByName(n))})};const r=t.getMTime;t.getMTime=()=>Re.reduce((t,n)=>Math.max(t,e[n]?.getMTime()??t),r());const i=t.initialize;t.initialize=()=>(Re.forEach(t=>e[t]?.initialize()),i()),t.buildCells=()=>{const n=t.getNumberOfVerts(),r=t.getNumberOfLines(),o=t.getNumberOfPolys(),i=t.getNumberOfStrips(),a=n+r+o+i,s=new Uint8Array(a);let l=s;const c=new Uint32Array(a);let u=c;if(n){let t=0;e.verts.getCellSizes().forEach((e,n)=>{u[n]=t,l[n]=e>1?Pt.VTK_POLY_VERTEX:Pt.VTK_VERTEX,t+=e+1}),u=u.subarray(n),l=l.subarray(n)}if(r){let t=0;e.lines.getCellSizes().forEach((e,n)=>{u[n]=t,l[n]=e>2?Pt.VTK_POLY_LINE:Pt.VTK_LINE,1===e&&Fe("Building VTK_LINE ",n," with only one point, but VTK_LINE needs at least two points. Check the input."),t+=e+1}),u=u.subarray(r),l=l.subarray(r)}if(o){let t=0;e.polys.getCellSizes().forEach((e,n)=>{switch(u[n]=t,e){case 3:l[n]=Pt.VTK_TRIANGLE;break;case 4:l[n]=Pt.VTK_QUAD;break;default:l[n]=Pt.VTK_POLYGON}e<3&&Fe("Building VTK_TRIANGLE ",n," with less than three points, but VTK_TRIANGLE needs at least three points. Check the input."),t+=e+1}),u+=u.subarray(o),l+=l.subarray(o)}if(i){let t=0;l.fill(Pt.VTK_TRIANGLE_STRIP,0,i),e.strips.getCellSizes().forEach((e,n)=>{u[n]=t,t+=e+1})}e.cells=Nt.newInstance(),e.cells.setCellTypes(a,s,c)},t.buildLinks=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;void 0===e.cells&&t.buildCells(),e.links=Et.newInstance(),n>0?e.links.allocate(n):e.links.allocate(t.getPoints().getNumberOfPoints()),e.links.buildLinks(t)},t.getCellType=t=>e.cells.getCellType(t),t.getCellPoints=n=>{const r=t.getCellType(n);let o=null;switch(r){case Pt.VTK_VERTEX:case Pt.VTK_POLY_VERTEX:o=e.verts;break;case Pt.VTK_LINE:case Pt.VTK_POLY_LINE:o=e.lines;break;case Pt.VTK_TRIANGLE:case Pt.VTK_QUAD:case Pt.VTK_POLYGON:o=e.polys;break;case Pt.VTK_TRIANGLE_STRIP:o=e.strips;break;default:return o=null,{type:0,cellPointIds:null}}const i=e.cells.getCellLocation(n);return{cellType:r,cellPointIds:o.getCell(i)}},t.getPointCells=t=>e.links.getCells(t),t.getCellEdgeNeighbors=(t,n,r)=>{const o=e.links.getLink(n),i=e.links.getLink(r);return o.cells.filter(e=>e!==t&&-1!==i.cells.indexOf(e))},t.getCell=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=t.getCellPoints(e),o=n||Ue[r.cellType].newInstance();return o.initialize(t.getPoints(),r.cellPointIds),o},t.getMaxCellSize=()=>Re.reduce((t,n)=>Math.max(t,e[n]?.getMaxCellSize?.()??0),0)}(t,e)}var ze={newInstance:r.m.newInstance(Be,"vtkPolyData"),extend:Be}},62298:(t,e,n)=>{n.d(e,{ZP:()=>f});var r=n(55367),o=n(22659),i=n(1553),a=n(72076);const{vtkWarningMacro:s}=r.m;let l;const c={preMultiplyFlag:!1,matrix:[...i.Wd]};function u(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,c,n),r.m.obj(t,e),r.m.setGet(t,e,["preMultiplyFlag"]),r.m.setGetArray(t,e,["matrix"],16),function(t,e){e.classHierarchy.push("vtkAbstractTransform","vtkHomogeneousTransform","vtkTransform"),t.transformPoint=(t,n)=>(a.R3.transformMat4(n,t,e.matrix),n),t.transformPoints=(t,n)=>{const r=new Float64Array(3),o=new Float64Array(3);for(let i=0;i<t.length;i+=3)r[0]=t[i],r[1]=t[i+1],r[2]=t[i+2],a.R3.transformMat4(o,r,e.matrix),n[i]=o[0],n[i+1]=o[1],n[i+2]=o[2];return n},t.preMultiply=()=>{t.setPreMultiplyFlag(!0)},t.postMultiply=()=>{t.setPreMultiplyFlag(!1)},t.transformMatrix=(t,n)=>(e.preMultiplyFlag?a._E.multiply(n,e.matrix,t):a._E.multiply(n,t,e.matrix),n),t.transformMatrices=(t,n)=>{const r=new Float64Array(16),o=new Float64Array(16),i=e.preMultiplyFlag?()=>a._E.multiply(o,e.matrix,r):()=>a._E.multiply(o,r,e.matrix);for(let e=0;e<t.length;e+=16){for(let n=0;n<16;++n)r[n]=t[e+n];i();for(let t=0;t<16;++t)n[e+t]=o[t]}return n},t.getInverse=()=>l({matrix:o.b.invertMatrix(Array.from(e.matrix),[],4),preMultiplyFlag:e.preMultiplyFlag}),t.translate=(n,r,o)=>{if(0===n&&0===r&&0===o)return;const i=a._E.create();a._E.fromTranslation(i,[n,r,o]),e.preMultiplyFlag?a._E.multiply(e.matrix,e.matrix,i):a._E.multiply(e.matrix,i,e.matrix),t.modified()},t.rotateWXYZ=(n,r,i,l)=>{if(0===r&&0===i&&0===l)return void s("No rotation applied, axis is zero vector.");if(0===n)return;const c=o.b.radiansFromDegrees(n),u=a.gf.create();a.gf.setAxisAngle(u,[r,i,l],c);const f=new Float64Array(16);a._E.fromQuat(f,u),e.preMultiplyFlag?a._E.multiply(e.matrix,e.matrix,f):a._E.multiply(e.matrix,f,e.matrix),t.modified()},t.rotateX=e=>{t.rotateWXYZ(e,1,0,0)},t.rotateY=e=>{t.rotateWXYZ(e,0,1,0)},t.rotateZ=e=>{t.rotateWXYZ(e,0,0,1)},t.scale=(n,r,o)=>{if(1===n&&1===r&&1===o)return;const i=a._E.create();a._E.fromScaling(i,[n,r,o]),e.preMultiplyFlag?a._E.multiply(e.matrix,e.matrix,i):a._E.multiply(e.matrix,i,e.matrix),t.modified()},t.transformNormal=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=a.wO.fromMat4(a.wO.create(),e.matrix),s=a.wO.create();a.wO.invert(s,i);const l=a.wO.create();return a.wO.transpose(l,s),t.transformVector(n,r,l),o.b.normalize(r),r},t.transformNormals=(n,r)=>{const i=n.getData(),s=r.getData(),l=[0,0,0],c=a.wO.fromMat4(a.wO.create(),e.matrix),u=a.wO.create();a.wO.invert(u,c);const f=a.wO.create();a.wO.transpose(f,u);for(let e=0;e<i.length;e+=3)l[0]=i[e],l[1]=i[e+1],l[2]=i[e+2],t.transformVector(l,l,f),o.b.normalize(l),s[e]=l[0],s[e+1]=l[1],s[e+2]=l[2]},t.transformVector=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)||a.wO.fromMat4(a.wO.create(),e.matrix);return a.R3.transformMat3(n,t,r),n},t.transformVectors=(e,n)=>{const r=e.getData(),i=n.getData(),a=[0,0,0];for(let e=0;e<r.length;e+=3)a[0]=r[e],a[1]=r[e+1],a[2]=r[e+2],t.transformVector(a,a),o.b.normalize(a),i[e]=a[0],i[e+1]=a[1],i[e+2]=a[2]},t.transformPointsNormalsVectors=function(e,n,r,i,a,s){let l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;const u=e.getNumberOfPoints(),f=l?.length??0,d=new Float64Array(3),p=new Float64Array(3),m=new Float64Array(3),g=new Float64Array(3);let h=!1,y=!1,b=!1;const v=[];for(let I=0;I<u;I++){if(e.getPoint(I,d),p.set(d),t.transformPoint(d,d),n.setPoint(I,...d),o.b.areEquals(p,d)||(h=!0),a){const e=a.getData(),n=s.getData();d[0]=e[3*I],d[1]=e[3*I+1],d[2]=e[3*I+2],m.set(d),t.transformVector(d,d),n[3*I]=d[0],n[3*I+1]=d[1],n[3*I+2]=d[2],o.b.areEquals(m,d)||(y=!0)}if(r){const e=r.getData(),n=i.getData();d[0]=e[3*I],d[1]=e[3*I+1],d[2]=e[3*I+2],g.set(d),t.transformNormal(d,d),n[3*I]=d[0],n[3*I+1]=d[1],n[3*I+2]=d[2],o.b.areEquals(g,d)||(b=!0)}if(l)for(let e=0;e<f;e++){const n=l[e].getData(),r=c[e].getData();d[0]=n[3*I],d[1]=n[3*I+1],d[2]=n[3*I+2],m.set(d),t.transformVector(d,d),r[3*I]=d[0],r[3*I+1]=d[1],r[3*I+2]=d[2],o.b.arrayEqual(m,d)||v.includes(e)||v.push(e)}}h&&n.modified(),y&&s.modified(),b&&i.modified(),v.forEach(t=>c[t].modified())}}(t,e)}l=r.m.newInstance(u,"vtkTransform");var f={newInstance:l,extend:u}},1459:(t,e,n)=>{n.d(e,{ZP:()=>p});var r=n(55367),o=n(90765),i=n(96413),a=n(8101),s=n(31573),l=n(55068);const{vtkErrorMacro:c}=r.m;function u(t,e){e.classHierarchy.push("vtkTransformPolyDataFilter"),t.requestData=(t,n)=>{const r=t[0],u=n[0]?.initialize()||a.ZP.newInstance();!function(t,n){if(!e.transform)return c("No transform defined!"),!1;const r=t.getPoints(),a=t.getPointData(),u=n.getPointData(),f=t.getCellData(),d=n.getCellData();if(!r)return!0;const p=r.getNumberOfPoints(),m=a.getVectors(),g=a.getNormals(),h=f.getVectors(),y=f.getNormals();let b=r.getDataType();e.outputPointsPrecision===s.XJ.SINGLE?b=l.Tu.FLOAT:e.outputPointsPrecision===s.XJ.DOUBLE&&(b=l.Tu.DOUBLE);const v=i.ZP.newInstance({dataType:b}),I=r.getData();v.setNumberOfPoints(p);const A=v.getData();let T=null;m&&(T=o.ZP.newInstance({name:m.getName(),numberOfComponents:3,size:3*p}));let E=null;g&&(E=o.ZP.newInstance({name:g.getName(),numberOfComponents:3,size:3*p})),m||g?e.transform.transformPointsNormalsVectors(r,v,g,E,m,T):e.transform.transformPoints(I,A);let P=null;if(h){const t=h.getNumberOfTuples();P=o.ZP.newInstance({name:h.getName(),numberOfComponents:3,size:3*t}),e.transform.transformVectors(h,P)}let C=null;if(y){const t=y.getNumberOfTuples();C=o.ZP.newInstance({name:y.getName(),numberOfComponents:3,size:3*t}),e.transform.transformNormals(y,C)}return n.setPoints(v),n.setVerts(t.getVerts()),n.setLines(t.getLines()),n.setPolys(t.getPolys()),n.setStrips(t.getStrips()),E&&(u.setNormals(E),u.copyFieldOff(E.getName())),T&&(u.setVectors(T),u.copyFieldOff(T.getName())),C&&(d.setNormals(C),d.copyFieldOff(C.getName())),P&&(d.setVectors(P),d.copyFieldOff(P.getName())),u.passData(a),d.passData(f),!0}(r,u)?c("TransformPolyDataFilter failed to transform input data."):n[0]=u}}const f={transform:null,outputPointsPrecision:s.XJ.DEFAULT};function d(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,f,n),r.m.obj(t,e),r.m.algo(t,e,1,1),r.m.setGet(t,e,["transform","outputPointsPrecision"]),u(t,e)}var p={newInstance:r.m.newInstance(d,"vtkTransformPolyDataFilter"),extend:d}},81936:(t,e,n)=>{function r(t){return new TextDecoder("latin1").decode(t)}n.d(e,{ZP:()=>L});var o={arrayBufferToString:r,extractBinary:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=r(t),i=e.exec(o);if(!i)return{text:o};const a=i.index+i[0].length,s=o.substring(0,a);let l=null;const c=n?n.exec(o):null;if(c){l={text:s+o.substr(c.index),binaryBuffer:t.slice(a,c.index)}}else l={text:s,binaryBuffer:t.slice(a)};return l}};const i={};function a(t){return!!i[t]}function s(t,e){i[t]=e}var l={get:function(){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http"](t)},has:a,registerType:s},c=n(55367),u=n(90765),f=n(72076),d=n(22659),p=n(1553);const m=t=>t,g=1e-6;class h{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.matrix=f._E.identity(new Float64Array(16)),this.tmp=new Float64Array(3),this.angleConv=t?f.DV.toRadian:m}rotateFromDirections(t,e){const n=new Float64Array(3),r=new Float64Array(3),o=new Float64Array(16);f.R3.set(n,t[0],t[1],t[2]),f.R3.set(r,e[0],e[1],e[2]),f.R3.normalize(n,n),f.R3.normalize(r,r);const i=f.R3.dot(n,r);return i>=1||(f.R3.cross(this.tmp,n,r),f.R3.length(this.tmp)<g&&(f.R3.cross(this.tmp,[1,0,0],t),f.R3.length(this.tmp)<g&&f.R3.cross(this.tmp,[0,1,0],t)),f._E.fromRotation(o,Math.acos(i),this.tmp),f._E.multiply(this.matrix,this.matrix,o)),this}rotate(t,e){return f.R3.set(this.tmp,...e),f.R3.normalize(this.tmp,this.tmp),f._E.rotate(this.matrix,this.matrix,this.angleConv(t),this.tmp),this}rotateX(t){return f._E.rotateX(this.matrix,this.matrix,this.angleConv(t)),this}rotateY(t){return f._E.rotateY(this.matrix,this.matrix,this.angleConv(t)),this}rotateZ(t){return f._E.rotateZ(this.matrix,this.matrix,this.angleConv(t)),this}translate(t,e,n){return f.R3.set(this.tmp,t,e,n),f._E.translate(this.matrix,this.matrix,this.tmp),this}scale(t,e,n){return f.R3.set(this.tmp,t,e,n),f._E.scale(this.matrix,this.matrix,this.tmp),this}multiply(t){return f._E.multiply(this.matrix,this.matrix,t),this}multiply3x3(t){return f._E.multiply(this.matrix,this.matrix,[t[0],t[1],t[2],0,t[3],t[4],t[5],0,t[6],t[7],t[8],0,0,0,0,1]),this}invert(){return f._E.invert(this.matrix,this.matrix),this}identity(){return f._E.identity(this.matrix),this}apply(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if((0,d.a)(p.Wd,this.matrix))return this;const r=-1===n?t.length:e+3*n;for(let n=e;n<r;n+=3)f.R3.set(this.tmp,t[n],t[n+1],t[n+2]),f.R3.transformMat4(this.tmp,this.tmp,this.matrix),t[n]=this.tmp[0],t[n+1]=this.tmp[1],t[n+2]=this.tmp[2];return this}getMatrix(){return this.matrix}setMatrix(t){return t&&16===t.length&&f._E.copy(this.matrix,t),this}}var y={buildFromDegree:function(){return new h(!0)},buildFromRadian:function(){return new h(!1)}},b=n(8101);function v(){const t=new ArrayBuffer(4),e=new Uint8Array(t),n=new Uint32Array(t);return e[0]=161,e[1]=178,e[2]=195,e[3]=212,3569595041===n[0]?"LittleEndian":2712847316===n[0]?"BigEndian":null}var I={ENDIANNESS:v(),getEndianness:v,swapBytes:function(t,e){if(e<2)return;const n=new Int8Array(t),r=n.length,o=[];for(let t=0;t<r;t+=e){for(let r=0;r<e;r++)o.push(n[t+r]);for(let r=0;r<e;r++)n[t+r]=o.pop()}}},A=n(55068);const{vtkErrorMacro:T,vtkDebugMacro:E}=c.m,P=()=>(T("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead."),Promise.reject(new Error("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead.")));let C=0;function x(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new XMLHttpRequest;return r.open(t,e,!0),n.headers&&Object.entries(n.headers).forEach(t=>{let[e,n]=t;return r.setRequestHeader(e,n)}),n.progressCallback&&r.addEventListener("progress",n.progressCallback),r}const O={fetchArray:function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return r&&r.compression?P():n.ref&&!n.ref.pending?new Promise((o,i)=>{const a=x("GET",[e,n.ref.basepath,n.ref.id].join("/"),r);a.onreadystatechange=e=>{1===a.readyState&&(n.ref.pending=!0,1===++C&&t?.invokeBusy&&t.invokeBusy(!0)),4===a.readyState&&(n.ref.pending=!1,200===a.status||0===a.status?(n.buffer=a.response,"JSON"===n.ref.encode?n.values=JSON.parse(n.buffer):(I.ENDIANNESS!==n.ref.encode&&I.ENDIANNESS&&(E(`Swap bytes of ${n.name}`),I.swapBytes(n.buffer,A.Xe[n.dataType])),n.values=c.m.newTypedArray(n.dataType,n.buffer)),n.values.length!==n.size&&T(`Error in FetchArray: ${n.name}, does not have the proper array size. Got ${n.values.length}, instead of ${n.size}`),delete n.ref,0===--C&&t?.invokeBusy&&t.invokeBusy(!1),t?.modified&&t.modified(),o(n)):i({xhr:a,e}))},a.responseType="string"!==n.dataType?"arraybuffer":"text",a.send()}):Promise.resolve(n)},fetchJSON:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n&&n.compression?P():new Promise((r,o)=>{const i=x("GET",e,n);i.onreadystatechange=e=>{1===i.readyState&&1===++C&&t?.invokeBusy&&t.invokeBusy(!0),4===i.readyState&&(0===--C&&t?.invokeBusy&&t.invokeBusy(!1),200===i.status||0===i.status?r(JSON.parse(i.responseText)):o({xhr:i,e}))},i.responseType="text",i.send()})},fetchText:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n&&n.compression?P():new Promise((r,o)=>{const i=x("GET",e,n);i.onreadystatechange=e=>{1===i.readyState&&1===++C&&t?.invokeBusy&&t.invokeBusy(!0),4===i.readyState&&(0===--C&&t?.invokeBusy&&t.invokeBusy(!1),200===i.status||0===i.status?r(i.responseText):o({xhr:i,e}))},i.responseType="text",i.send()})},fetchBinary:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((n,r)=>{const o=x("GET",t,e);o.onreadystatechange=t=>{4===o.readyState&&(200===o.status||0===o.status?n(o.response):r({xhr:o,e:t}))},o.responseType="arraybuffer",o.send()})},fetchImage:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((t,r)=>{const o=new Image;n.crossOrigin&&(o.crossOrigin=n.crossOrigin),o.onload=()=>t(o),o.onerror=r,o.src=e})}};a("http")||s("http",t=>O);const{vtkErrorMacro:S}=c.m;function N(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function w(t,e,n,r,o){const i=t[e];if(void 0===i)return-1;if(-1!==i.indexOf("endfacet"))return e+1;if(-1===i.indexOf("facet"))return e+1;let a=0,s=2;const l=n.length/3;for(N(i.split(/[ \t]+/).filter(t=>t).slice(-3).map(Number),o);-1!==t[e+s].indexOf("vertex");){N(t[e+s].split(/[ \t]+/).filter(t=>t).slice(-3).map(Number),n),a++,s++}r.push(a);for(let t=0;t<a;t++)r.push(l+t);for(;t[e+s]&&-1!==t[e+s].indexOf("endfacet");)s++;return e+s+2}function M(t,e){function n(t){const n=e.output[0],r=n.getPoints().getData(),o=n.getPolys().getData();if(!r||!o)return void console.warn("No valid polydata.");const i=new Map,a=new Map;let s=0,l=!1;for(let e=0;e<r.length;e+=3){const n=`${(r[e]*10**t).toFixed(0)},${(r[e+1]*10**t).toFixed(0)},${(r[e+2]*10**t).toFixed(0)}`;void 0!==i.get(n)?(a.set(e/3,i.get(n)),l=!0):(a.set(e/3,s),i.set(n,s),s++)}if(l){const e=new Float32Array(3*i.size),r=Array.from(i.keys());for(let n=0;n<r.length;n++){const o=r[n],a=3*i.get(o),s=o.split(",").map(e=>+e*10**-t);e[a]=s[0],e[a+1]=s[1],e[a+2]=s[2]}const s=new Int32Array(o.length);for(let t=0;t<o.length;t+=4)s[t]=3,s[t+1]=a.get(o[t+1]),s[t+2]=a.get(o[t+2]),s[t+3]=a.get(o[t+3]);n.getPoints().setData(e),n.getPolys().setData(s),n.modified()}}e.classHierarchy.push("vtkSTLReader"),e.dataAccessHelper||(e.dataAccessHelper=l.get("http")),t.setUrl=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{binary:!0};e.url=n;const o=n.split("/");return o.pop(),e.baseURL=o.join("/"),t.loadData(r)},t.loadData=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=void 0!==r.compression?r.compression:e.compression,i=void 0!==r.progressCallback?r.progressCallback:e.progressCallback;return r.binary?e.dataAccessHelper.fetchBinary(n,{compression:o,progressCallback:i}):e.dataAccessHelper.fetchText(t,n,{compression:o,progressCallback:i})}(e.url,n);return r.then(t.parse),r},t.parse=e=>{"string"==typeof e?t.parseAsText(e):t.parseAsArrayBuffer(e)},t.parseAsArrayBuffer=r=>{if(!r)return;if(r===e.parseData)return;t.modified(),e.parseData=r;let i=!1;if(i=84+50*new DataView(r,0,84).getUint32(80,!0)===r.byteLength,!i)return void t.parseAsText(o.arrayBufferToString(r));const a=r.slice(0,80),s=function(t){const e=t.split(" ").filter(t=>t.indexOf("=")>-1),n={};for(let t=0;t<e.length;++t){const r=e[t].split("=");2===r.length&&(n[r[0]]=r[1])}return n}(o.arrayBufferToString(a)),l=new DataView(r,84),c=(r.byteLength-84)/50,f=new Float32Array(9*c),d=new Float32Array(3*c),p=new Uint32Array(4*c),m=new Uint16Array(c);let g=0;for(let t=0;t<c;t++){const e=50*t;d[3*t+0]=l.getFloat32(e+0,!0),d[3*t+1]=l.getFloat32(e+4,!0),d[3*t+2]=l.getFloat32(e+8,!0),f[9*t+0]=l.getFloat32(e+12,!0),f[9*t+1]=l.getFloat32(e+16,!0),f[9*t+2]=l.getFloat32(e+20,!0),f[9*t+3]=l.getFloat32(e+24,!0),f[9*t+4]=l.getFloat32(e+28,!0),f[9*t+5]=l.getFloat32(e+32,!0),f[9*t+6]=l.getFloat32(e+36,!0),f[9*t+7]=l.getFloat32(e+40,!0),f[9*t+8]=l.getFloat32(e+44,!0),p[g++]=3,p[g++]=3*t+0,p[g++]=3*t+1,p[g++]=3*t+2,m[t]=l.getUint16(e+48,!0)}const h="SPACE";if(h in s&&"LPS"!==s[h]){const t=s[h],e=new Float32Array(16);switch(e[15]=1,t[0]){case"L":e[0]=1;break;case"R":e[0]=-1;break;default:return void S(`Can not convert STL file from ${t} to LPS space: permutations not supported. Use itk.js STL reader instead.`)}switch(t[1]){case"P":e[5]=1;break;case"A":e[5]=-1;break;default:return void S(`Can not convert STL file from ${t} to LPS space: permutations not supported. Use itk.js STL reader instead.`)}switch(t[2]){case"S":e[10]=1;break;case"I":e[10]=-1;break;default:return void S(`Can not convert STL file from ${t} to LPS space: permutations not supported. Use itk.js STL reader instead.`)}y.buildFromDegree().setMatrix(e).apply(f).apply(d)}const v=b.ZP.newInstance();v.getPoints().setData(f,3),v.getPolys().setData(p),v.getCellData().setScalars(u.ZP.newInstance({name:"Attribute",values:m})),v.getCellData().setNormals(u.ZP.newInstance({name:"Normals",values:d,numberOfComponents:3})),e.output[0]=v,e.removeDuplicateVertices>=0&&n(e.removeDuplicateVertices)},t.parseAsText=r=>{if(!r)return;if(r===e.parseData)return;t.modified(),e.parseData=r;const o=r.split("\n");let i=1;const a=[],s=[],l=[];for(;-1!==i;)i=w(o,i,a,s,l);const c=b.ZP.newInstance();c.getPoints().setData(Float32Array.from(a),3),c.getPolys().setData(Uint32Array.from(s)),c.getCellData().setNormals(u.ZP.newInstance({name:"Normals",values:Float32Array.from(l),numberOfComponents:3})),e.output[0]=c,e.removeDuplicateVertices>=0&&n(e.removeDuplicateVertices)},t.requestData=(n,r)=>{t.parse(e.parseData)}}const D={removeDuplicateVertices:-1};function k(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,D,n),c.m.obj(t,e),c.m.get(t,e,["url","baseURL"]),c.m.setGet(t,e,["dataAccessHelper","removeDuplicateVertices"]),c.m.algo(t,e,0,1),M(t,e),e.compression||(e.compression=null),e.progressCallback||(e.progressCallback=null)}var L={extend:k,newInstance:c.m.newInstance(k,"vtkSTLReader")}},55367:(t,e,n)=>{n.d(e,{T:()=>I,a:()=>A,b:()=>T,c:()=>at,m:()=>it,n:()=>K,o:()=>D,s:()=>F});var r=n(25686),o=n(48975);class i extends Array{push(){for(let t=0;t<arguments.length;t++)this.includes(arguments[t])||super.push(arguments[t]);return this.length}}let a=0;const s=t=>{throw new Error(`Named parameter '${t}' is missing`)},l=Symbol("void");const c={};function u(){}["log","debug","info","warn","error","time","timeEnd","group","groupEnd"].forEach(t=>{c[t]=u}),o.I.console=console.hasOwnProperty("log")?console:c;const f={debug:u,error:o.I.console.error||u,info:o.I.console.info||u,log:o.I.console.log||u,warn:o.I.console.warn||u};function d(t,e){f[t]&&(f[t]=e||u)}function p(){f.log(...arguments)}function m(){f.info(...arguments)}function g(){f.debug(...arguments)}function h(){f.error(...arguments)}function y(){f.warn(...arguments)}const b={};function v(t){b[t]||(f.error(t),b[t]=!0)}const I=Object.create(null);I.Float32Array=Float32Array,I.Float64Array=Float64Array,I.Uint8Array=Uint8Array,I.Int8Array=Int8Array,I.Uint16Array=Uint16Array,I.Int16Array=Int16Array,I.Uint32Array=Uint32Array,I.Int32Array=Int32Array,I.Uint8ClampedArray=Uint8ClampedArray;try{I.BigInt64Array=BigInt64Array,I.BigUint64Array=BigUint64Array}catch{}function A(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new(I[t]||Float64Array)(...n)}function T(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return(I[t]||Float64Array).from(...n)}function E(t){return t.charAt(0).toUpperCase()+t.slice(1)}function P(t){return E("_"===t[0]?t.slice(1):t)}function C(t){return t.charAt(0).toLowerCase()+t.slice(1)}function x(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;const r=["TB","GB","MB","KB"];let o=Number(t),i="B";for(;o>n;)o/=n,i=r.pop();return`${o.toFixed(e)} ${i}`}function O(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";const n=[];let r=t;for(;r>1e3;)n.push(("000"+r%1e3).slice(-3)),r=Math.floor(r/1e3);return r>0&&n.push(r),n.reverse(),n.join(e)}function S(t){Object.keys(t).forEach(e=>{Array.isArray(t[e])&&(t[e]=[].concat(t[e]))})}function N(t){return t&&t.isA?t.getState():t}function w(t){setTimeout(t,0)}function M(t,e){const n=performance.now();t.finally(()=>{const t=performance.now()-n;e(t)})}function D(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(e);const n=[];if(Number.isInteger(e.mtime)||(e.mtime=++a),"classHierarchy"in e){if(!(e.classHierarchy instanceof i)){const t=new i;for(let n=0;n<e.classHierarchy.length;n++)t.push(e.classHierarchy[n]);e.classHierarchy=t}}else e.classHierarchy=new i("vtkObject");function r(t){n[t]=null}return t.isDeleted=()=>!!e.deleted,t.modified=r=>{e.deleted?h("instance deleted - cannot call any method"):r&&r<t.getMTime()||(e.mtime=++a,n.forEach(e=>e&&e(t)))},t.onModified=t=>{if(e.deleted)return h("instance deleted - cannot call any method"),null;const o=n.length;return n.push(t),function(t){return Object.freeze({unsubscribe:function(){r(t)}})}(o)},t.getMTime=()=>e.mtime,t.isA=t=>{let n=e.classHierarchy.length;for(;n--;)if(e.classHierarchy[n]===t)return!0;return!1},t.getClassName=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.classHierarchy[e.classHierarchy.length-1-t]},t.set=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1;return Object.keys(n).forEach(a=>{const s=o?null:t[`set${E(a)}`];s&&Array.isArray(n[a])&&s.length>1?i=s(...n[a])||i:s?i=s(n[a])||i:(-1!==["mtime"].indexOf(a)||r||y(`Warning: Set value to model directly ${a}, ${n[a]}`),i=e[a]!==n[a]||i,e[a]=n[a])}),i},t.get=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return e;const o={};return n.forEach(t=>{o[t]=e[t]}),o},t.getReferenceByName=t=>e[t],t.delete=()=>{Object.keys(e).forEach(t=>delete e[t]),n.forEach((t,e)=>r(e)),e.deleted=!0},t.getState=()=>{if(e.deleted)return null;const n={...e,vtkClass:t.getClassName()};Object.keys(n).forEach(t=>{var e;null===n[t]||void 0===n[t]||"_"===t[0]?delete n[t]:n[t].isA?n[t]=n[t].getState():Array.isArray(n[t])?n[t]=n[t].map(N):(e=n[t],Object.values(I).some(t=>e instanceof t)&&(n[t]=Array.from(n[t])))});const r={};return Object.keys(n).sort().forEach(t=>{r[t]=n[t]}),r.mtime&&delete r.mtime,r},t.shallowCopy=function(n){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n.getClassName()!==t.getClassName())throw new Error(`Cannot ShallowCopy ${n.getClassName()} into ${t.getClassName()}`);const o=n.get(),i=Object.keys(e).sort();Object.keys(o).sort().forEach(t=>{const n=i.indexOf(t);-1===n?r&&g(`add ${t} in shallowCopy`):i.splice(n,1),e[t]=o[t]}),i.length&&r&&g(`Untouched keys: ${i.join(", ")}`),t.modified()},t.toJSON=function(){return t.getState()},t}const k={object:(t,e,n)=>function(){return{...e[n.name]}}};function L(t,e,n){n.forEach(n=>{if("object"==typeof n){const r=k[n.type];t[`get${P(n.name)}`]=r?r(t,e,n):()=>e[n.name]}else t[`get${P(n)}`]=()=>e[n]})}const _={enum(t,e,n){const r=`_on${P(n.name)}Changed`;return o=>{if("string"==typeof o){if(void 0!==n.enum[o])return e[n.name]!==n.enum[o]&&(e[n.name]=n.enum[o],t.modified(),!0);throw h(`Set Enum with invalid argument ${n}, ${o}`),new RangeError("Set Enum with invalid string argument")}if("number"==typeof o){if(e[n.name]!==o){if(-1!==Object.keys(n.enum).map(t=>n.enum[t]).indexOf(o)){const i=e[n.name];return e[n.name]=o,e[r]?.(t,e,o,i),t.modified(),!0}throw h(`Set Enum outside numeric range ${n}, ${o}`),new RangeError("Set Enum outside numeric range")}return!1}throw h(`Set Enum with invalid argument (String/Number) ${n}, ${o}`),new TypeError("Set Enum with invalid argument (String/Number)")}},object(t,e,n){1===n.params?.length&&y('Setter of type "object" with a single "param" field is not supported');const o=`_on${P(n.name)}Changed`;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];let l;if(l=a.length>1&&n.params?.length?n.params.reduce((t,e,n)=>Object.assign(t,{[e]:a[n]}),{}):a[0],!r(e[n.name],l)){const r=e[n.name];return e[n.name]=l,e[o]?.(t,e,l,r),t.modified(),!0}return!1}}};function R(t){if("object"==typeof t){const e=_[t.type];if(e)return(n,r)=>e(n,r,t);throw h(`No setter for field ${t}`),new TypeError("No setter for field")}return function(e,n){const r=`_on${P(t)}Changed`;return function(o){if(n.deleted)return h("instance deleted - cannot call any method"),!1;if(n[t]!==o){const i=n[t.name];return n[t]=o,n[r]?.(e,n,o,i),e.modified(),!0}return!1}}}function F(t,e,n){n.forEach(n=>{"object"==typeof n?t[`set${P(n.name)}`]=R(n)(t,e):t[`set${P(n)}`]=R(n)(t,e)})}function U(t,e,n){L(t,e,n),F(t,e,n)}function V(t,e,n){n.forEach(n=>{t[`get${P(n)}`]=()=>e[n]?Array.from(e[n]):e[n],t[`get${P(n)}ByReference`]=()=>e[n]})}function B(t,e,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;n.forEach(n=>{if(e[n]&&r&&e[n].length!==r)throw new RangeError(`Invalid initial number of values for array (${n})`);const i=`_on${P(n)}Changed`;t[`set${P(n)}`]=function(){if(e.deleted)return h("instance deleted - cannot call any method"),!1;for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];let c,u=s,f=!1;if(1===u.length&&(null==u[0]||u[0].length>=0)&&(u=u[0],f=!0),null==u)c=e[n]!==u;else{if(r&&u.length!==r){if(!(u.length<r&&void 0!==o))throw new RangeError(`Invalid number of values for array setter (${n})`);for(u=Array.from(u),f=!1;u.length<r;)u.push(o)}c=null==e[n]||e[n].length!==u.length;for(let t=0;!c&&t<u.length;++t)c=e[n][t]!==u[t];c&&f&&(u=Array.from(u))}if(c){const r=e[n.name];e[n]=u,e[i]?.(t,e,u,r),t.modified()}return c},t[`set${P(n)}From`]=t=>{const r=e[n];t.forEach((t,e)=>{r[e]=t})}})}function z(t,e,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;V(t,e,n),B(t,e,n,r,o)}function $(t,e,n){for(let t=0;t<n.length;t++){const r=n[t];void 0!==e[r]&&(e[`_${r}`]=e[r],delete e[r])}}function G(t,e,n,r){function i(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.deleted?h("instance deleted - cannot call any method"):r>=e.numberOfInputs?h(`algorithm ${t.getClassName()} only has ${e.numberOfInputs} input ports. To add more input ports, use addInputData()`):(e.inputData[r]!==n||e.inputConnection[r])&&(e.inputData[r]=n,e.inputConnection[r]=null,t.modified&&t.modified())}function a(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.deleted)h("instance deleted - cannot call any method");else{if(r>=e.numberOfInputs){let n=`algorithm ${t.getClassName()} only has `;return n+=`${e.numberOfInputs}`,n+=" input ports. To add more input ports, use addInputConnection()",void h(n)}e.inputData[r]=null,e.inputConnection[r]=n}}function s(){let t=e.numberOfInputs;for(;t&&!e.inputData[t-1]&&!e.inputConnection[t-1];)t--;return t===e.numberOfInputs&&e.numberOfInputs++,t}function l(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.deleted?(h("instance deleted - cannot call any method"),null):(t.shouldUpdate()&&t.update(),e.output[n])}if(e.inputData?e.inputData=e.inputData.map(o.Z):e.inputData=[],e.inputConnection?e.inputConnection=e.inputConnection.map(o.Z):e.inputConnection=[],e.output?e.output=e.output.map(o.Z):e.output=[],e.inputArrayToProcess?e.inputArrayToProcess=e.inputArrayToProcess.map(o.Z):e.inputArrayToProcess=[],e.numberOfInputs=n,t.shouldUpdate=()=>{const n=t.getMTime();let o=1/0,i=r;for(;i--;){if(!e.output[i]||e.output[i].isDeleted())return!0;const t=e.output[i].getMTime();if(t<n)return!0;t<o&&(o=t)}for(i=e.numberOfInputs;i--;)if(e.inputConnection[i]?.filter.shouldUpdate()||t.getInputData(i)?.getMTime()>o)return!0;return!1},e.numberOfInputs){let n=e.numberOfInputs;for(;n--;)e.inputData.push(null),e.inputConnection.push(null);t.setInputData=i,t.setInputConnection=a,t.addInputData=function(t){e.deleted?h("instance deleted - cannot call any method"):i(t,s())},t.addInputConnection=function(t){e.deleted?h("instance deleted - cannot call any method"):a(t,s())},t.getInputData=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.inputConnection[t]&&(e.inputData[t]=e.inputConnection[t]()),e.inputData[t]},t.getInputConnection=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.inputConnection[t]}}r&&(t.getOutputData=l,t.getOutputPort=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const n=()=>l(e);return n.filter=t,n}),t.update=()=>{const n=[];if(e.numberOfInputs){let r=0;for(;r<e.numberOfInputs;)n[r]=t.getInputData(r),r++}t.requestData&&!t.isDeleted()&&t.shouldUpdate()&&t.requestData(n,e.output)},t.getNumberOfInputPorts=()=>e.numberOfInputs,t.getNumberOfOutputPorts=()=>r||e.output.length,t.getInputArrayToProcess=t=>{const n=e.inputArrayToProcess[t],r=e.inputData[t];return n&&r?r[`get${n.fieldAssociation}`]().getArray(n.arrayName):null},t.setInputArrayToProcess=function(t,n,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Scalars";for(;e.inputArrayToProcess.length<t;)e.inputArrayToProcess.push(null);e.inputArrayToProcess[t]={arrayName:n,fieldAssociation:r,attributeType:o}}}const j=Symbol("Event abort");function H(t,e,n){const r=[],o=t.delete;let i=1;function a(t){for(let e=0;e<r.length;++e){const[n]=r[e];if(n===t)return void r.splice(e,1)}}t[`invoke${P(n)}`]=function(){if(e.deleted)return void h("instance deleted - cannot call any method");const n=r.slice();for(let e=0;e<n.length;++e){const[,r,o]=n[e];if(r)if(o<0)setTimeout(()=>r.apply(t,arguments),1-o);else{if(r.apply(t,arguments)===j)break}}},t[`on${P(n)}`]=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t.apply)return console.error(`Invalid callback for event ${n}`),null;if(e.deleted)return h("instance deleted - cannot call any method"),null;const s=i++;return r.push([s,t,o]),r.sort((t,e)=>e[2]-t[2]),function(t){return Object.freeze({unsubscribe:function(){a(t)}})}(s)},t.delete=()=>{o(),r.forEach(t=>{let[e]=t;return a(e)})}}function K(t,e){const n=function(){const e={};return t(e,{},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Object.freeze(e)};return e&&o.Z.register(e,n),n}function W(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.filter(t=>!!t).map(t=>t(...n))}}function X(t){return t&&t.isA&&t.isA("vtkObject")}function Z(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(X(t)){if(r.indexOf(t)>=0)return n;r.push(t);const o=e(t);void 0!==o&&n.push(o);const i=t.get();Object.keys(i).forEach(t=>{const o=i[t];Array.isArray(o)?o.forEach(t=>{Z(t,e,n,r)}):Z(o,e,n,r)})}return n}function Y(t,e,n){var r=this;let o;const i=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];const l=r,c=n&&!o;clearTimeout(o),o=setTimeout(()=>{o=null,n||t.apply(l,a)},e),c&&t.apply(l,a)};return i.cancel=()=>clearTimeout(o),i}function Q(t,e){let n=!1,r=null;function o(){n=!1,null!==r&&(i(...r),r=null)}function i(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];n?r=a:(n=!0,t(...a),setTimeout(o,e))}return i}function q(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.keystore=Object.assign(e.keystore||{},n),t.setKey=(t,n)=>{e.keystore[t]=n},t.getKey=t=>e.keystore[t],t.getAllKeys=()=>Object.keys(e.keystore),t.deleteKey=t=>delete e.keystore[t],t.clearKeystore=()=>t.getAllKeys().forEach(t=>delete e.keystore[t])}let J=1;const tt="__root__";function et(t,e){q(t,e);const n=t.delete;e.proxyId=""+J++,e.ui=JSON.parse(JSON.stringify(e.ui||[])),L(t,e,["proxyId","proxyGroup","proxyName"]),U(t,e,["proxyManager"]);const r={},o={};function i(t,e){o[e]||(o[e]=[]);const n=o[e];for(let e=0;e<t.length;e++)n.push(t[e].name),r[t[e].name]=t[e],t[e].children&&t[e].children.length&&i(t[e].children,t[e].name)}function a(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;const r=[],i=e.proxyId,s=function(){return o[arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt]}(n)||[];for(let e=0;e<s.length;e++){const n=s[e],o=t[`get${P(n)}`],l={id:i,name:n,value:o?o():void 0},c=a(n);c.length&&(l.children=c),r.push(l)}return r}i(e.ui,tt),t.updateUI=n=>{e.ui=JSON.parse(JSON.stringify(n||[])),Object.keys(r).forEach(t=>delete r[t]),Object.keys(o).forEach(t=>delete o[t]),i(e.ui,tt),t.modified()},t.updateProxyProperty=(t,e)=>{const n=r[t];n?Object.assign(n,e):r[t]={...e}},t.activate=()=>{if(e.proxyManager){const n=`setActive${P(t.getProxyGroup().slice(0,-1))}`;e.proxyManager[n]&&e.proxyManager[n](t)}},e.propertyLinkSubscribers={},t.registerPropertyLinkForGC=(t,n)=>{n in e.propertyLinkSubscribers||(e.propertyLinkSubscribers[n]=[]),e.propertyLinkSubscribers[n].push(t)},t.gcPropertyLinks=n=>{const r=e.propertyLinkSubscribers[n]||[];for(;r.length;)r.pop().unbind(t)},e.propertyLinkMap={},t.getPropertyLink=function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.propertyLinkMap[t])return e.propertyLinkMap[t];let r=null;const o=[];let i=0,a=!1;function s(n){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a)return null;const l=[];let c=null;for(i=o.length;i--;){const t=o[i];t.instance===n?c=t:l.push(t)}if(!c)return null;const u=c.instance[`get${P(c.propertyName)}`]();if(!function(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}(u,r)||s){for(r=u,a=!0;l.length;){const t=l.pop();t.instance.set({[t.propertyName]:r})}a=!1}return e.propertyLinkMap[t].persistent&&(e.propertyLinkMap[t].value=u),u}function l(t,e){const n=[];for(i=o.length;i--;){const r=o[i];r.instance!==t||r.propertyName!==e&&void 0!==e||(r.subscription.unsubscribe(),n.push(i))}for(;n.length;)o.splice(n.pop(),1)}const c={bind:function(n,r){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=n.onModified(s),c=o[0];return o.push({instance:n,propertyName:r,subscription:a}),i&&(e.propertyLinkMap[t].persistent&&void 0!==e.propertyLinkMap[t].value?n.set({[r]:e.propertyLinkMap[t].value}):c&&s(c.instance,!0)),{unsubscribe:()=>l(n,r)}},unbind:l,unsubscribe:function(){for(;o.length;)o.pop().subscription.unsubscribe()},persistent:n};return e.propertyLinkMap[t]=c,c},t.listPropertyNames=()=>a().map(t=>t.name),t.getPropertyByName=t=>a().find(e=>e.name===t),t.getPropertyDomainByName=t=>(r[t]||{}).domain,t.getProxySection=()=>({id:e.proxyId,name:e.proxyGroup,ui:e.ui,properties:a()}),t.delete=()=>{const r=Object.keys(e.propertyLinkMap);let o=r.length;for(;o--;)e.propertyLinkMap[r[o]].unsubscribe();Object.keys(e.propertyLinkSubscribers).forEach(t.gcPropertyLinks),n()},t.getState=()=>null,w(function(){if(e.links)for(let n=0;n<e.links.length;n++){const{link:r,property:o,persistent:i,updateOnBind:a,type:s}=e.links[n];if("application"===s){const n=e.proxyManager.getPropertyLink(r,i);t.registerPropertyLinkForGC(n,"application"),n.bind(t,o,a)}}})}function nt(t,e,n){const r=t.delete,o=[],i=Object.keys(n);let a=i.length;for(;a--;){const r=i[a],{modelKey:s,property:l,modified:c=!0}=n[r],u=P(l),f=P(r);t[`get${f}`]=e[s][`get${u}`],t[`set${f}`]=e[s][`set${u}`],c&&o.push(e[s].onModified(t.modified))}t.delete=()=>{for(;o.length;)o.pop().unsubscribe();r()}}function rt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};function o(t){const n=Object.keys(t);let r=n.length;for(;r--;){const o=n[r];e[o].set(t[o])}}e.this=t;const i=Object.keys(r);let a=i.length;for(;a--;){const s=i[a];e[s]=r[s];const l=n[s];t[`set${P(s)}`]=n=>{if(n!==e[s]){e[s]=n;o(l[n]),t.modified()}}}i.length&&L(t,e,i)}function ot(t){let e=0,n=0,r=0,o=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=10*e,o=10*n,"deltaY"in t&&(o=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||o)&&t.deltaMode&&(1===t.deltaMode?(r*=40,o*=40):(r*=800,o*=800)),r&&!e&&(e=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:e,spinY:n||e,pixelX:r,pixelY:o||r}}var it={algo:G,capitalize:E,chain:W,debounce:Y,enumToString:function(t,e){return Object.keys(t).find(n=>t[n]===e)},event:H,EVENT_ABORT:j,formatBytesToProperUnit:x,formatNumbersWithThousandSeparator:O,get:L,getArray:V,getCurrentGlobalMTime:function(){return a},getStateArrayMapFunc:N,isVtkObject:X,keystore:q,measurePromiseExecution:M,moveToProtected:$,newInstance:K,newTypedArray:A,newTypedArrayFrom:T,normalizeWheel:ot,obj:D,proxy:et,proxyPropertyMapping:nt,proxyPropertyState:rt,safeArrays:S,set:F,setArray:B,setGet:U,setGetArray:z,setImmediate:w,setLoggerFunction:d,throttle:Q,traverseInstanceTree:Z,TYPED_ARRAYS:I,uncapitalize:C,VOID:l,vtkDebugMacro:g,vtkErrorMacro:h,vtkInfoMacro:m,vtkLogMacro:p,vtkOnceErrorMacro:v,vtkWarningMacro:y,objectSetterMap:_,requiredParam:s},at=Object.freeze({__proto__:null,requiredParam:s,VOID:l,setLoggerFunction:d,vtkLogMacro:p,vtkInfoMacro:m,vtkDebugMacro:g,vtkErrorMacro:h,vtkWarningMacro:y,vtkOnceErrorMacro:v,TYPED_ARRAYS:I,newTypedArray:A,newTypedArrayFrom:T,capitalize:E,_capitalize:P,uncapitalize:C,formatBytesToProperUnit:x,formatNumbersWithThousandSeparator:O,setImmediateVTK:w,measurePromiseExecution:M,obj:D,get:L,set:F,setGet:U,getArray:V,setArray:B,setGetArray:z,moveToProtected:$,algo:G,EVENT_ABORT:j,event:H,newInstance:K,chain:W,isVtkObject:X,traverseInstanceTree:Z,debounce:Y,throttle:Q,keystore:q,proxy:et,proxyPropertyMapping:nt,proxyPropertyState:rt,normalizeWheel:ot,default:it})},48975:(t,e,n)=>{n.d(e,{I:()=>r,Z:()=>i});const r=n(7218)(),o={vtkObject:()=>null};function i(t){if(null==t)return t;if(t.isA)return t;if(!t.vtkClass)return r.console&&r.console.error&&r.console.error("Invalid VTK object"),null;const e=o[t.vtkClass];if(!e)return r.console&&r.console.error&&r.console.error(`No vtk class found for Object of type ${t.vtkClass}`),null;const n={...t};Object.keys(n).forEach(t=>{n[t]&&"object"==typeof n[t]&&n[t].vtkClass&&(n[t]=i(n[t]))});const a=e(n);return a&&a.modified&&a.modified(),a}i.register=function(t,e){o[t]=e}}}]);
//# sourceMappingURL=4826.bundle.81b8358d1ea44070c6e1.js.map